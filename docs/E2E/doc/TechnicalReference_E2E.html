---
layout: default
title: TechnicalReference_E2E
nav_order: 2
parent: E2E Library
---
{% raw %}
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
     "http://www.w3.org/TR/html4/transitional.dtd">
<html>
<head>

  <meta http-equiv="content-type" content="text/html; charset=utf-8"/>
  <title></title>
  <meta name="generator" content="LibreOffice 24.2.7.2 (Linux)"/>
  <meta name="created" content="00:00:00"/>
  <meta name="changed" content="00:00:00"/>
</head>
<body>
<h1></h1>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p><b>MICROSAR E2E </b></p>
<p>Technical Reference </p>
<p> </p>
<p>  </p>
<p>Version 1.02.00 </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p>Authors </p>
<p>Michael Goß </p>
<p>Status </p>
<p>Released </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<h1 style="page-break-before:always; "></h1>
<p>Technical Reference MICROSAR E2E </p>
<p>© 2017 Vector Informatik GmbH </p>
<p>Version 1.02.00 </p>
<p>2 </p>
<p>based on template version 5.12.0 </p>
<p><b>Document Information </b></p>
<p><b>History </b></p>
<p><b>Author </b></p>
<p><b>Date </b></p>
<p><b>Version </b></p>
<p><b>Remarks </b></p>
<p>Michael Goß </p>
<p>2015-07-03 </p>
<p>1.00.00 </p>
<p>Initial version </p>
<p>Michael Goß </p>
<p>2015-10-21 </p>
<p>1.01.00 </p>
<p>Support of JLR E2E profile </p>
<p>Michael Goß </p>
<p>2016-11-25 </p>
<p>1.02.00 </p>
<p>Support of E2E profile 7 </p>
<p><b>Reference Documents </b></p>
<p><b>No. </b></p>
<p><b>Source </b></p>
<p><b>Title </b></p>
<p><b>Version </b></p>
<p>[1] </p>
<p> AUTOSAR </p>
<p>AUTOSAR_SWS_E2ELibrary.pdf </p>
<p>V4.2.1 </p>
<p>[2] </p>
<p> AUTOSAR </p>
<p>AUTOSAR_SWS_E2ELibrary.pdf </p>
<p>V4.3.0 </p>
<p>[3] </p>
<p> AUTOSAR </p>
<p>AUTOSAR_TR_BSWModuleList.pdf </p>
<p>V4.2.1 </p>
<p><b>Scope of the Document  </b></p>
<p>This technical reference describes the general use of the E2E library basis software. The </p>
<p>E2E Library was developed according to ISO 26262 for use in safety-related items. There </p>
<p>are no aspects which are controller specific. </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p><b> </b></p>
<p><b> </b></p>
<p><b> </b></p>
<p><b>Caution </b></p>
<p>We have configured the programs in accordance with your specifications in the </p>
<p>questionnaire. Whereas the programs do support other configurations than the one </p>
<p>specified in your questionnaire, Vector´s release of the programs delivered to your </p>
<p>company is expressly restricted to the configuration you have specified in the </p>
<p>questionnaire. </p>
<p><b> </b></p>
<p><b> </b></p>
<p> </p>
<p> </p>
<h1 style="page-break-before:always; "></h1>
<p>Technical Reference MICROSAR E2E </p>
<p>© 2017 Vector Informatik GmbH </p>
<p>Version 1.02.00 </p>
<p>3 </p>
<p>based on template version 5.12.0 </p>
<p><b>Contents </b></p>
<p><b>1</b></p>
<p> </p>
<p><b>Component History ...................................................................................................... 6</b></p>
<p> </p>
<p><b>2</b></p>
<p> </p>
<p><b>Introduction................................................................................................................... 7</b></p>
<p> </p>
<p>2.1</p>
<p> </p>
<p>Architecture Overview ........................................................................................ 8</p>
<p> </p>
<p><b>3</b></p>
<p> </p>
<p><b>Functional Description ............................................................................................... 10</b></p>
<p> </p>
<p>3.1</p>
<p> </p>
<p>Features .......................................................................................................... 10</p>
<p> </p>
<p>3.2</p>
<p> </p>
<p>E2E Communication Protection ....................................................................... 10</p>
<p> </p>
<p>3.2.1</p>
<p> </p>
<p>Communication Faults ..................................................................... 10</p>
<p> </p>
<p>3.2.2</p>
<p> </p>
<p>Fault Model ...................................................................................... 11</p>
<p> </p>
<p>3.2.3</p>
<p> </p>
<p>Protection mechanisms .................................................................... 11</p>
<p> </p>
<p>3.2.4</p>
<p> </p>
<p>Detected Communication Faults ...................................................... 12</p>
<p> </p>
<p>3.3</p>
<p> </p>
<p>Initialization ...................................................................................................... 12</p>
<p> </p>
<p>3.4</p>
<p> </p>
<p>States .............................................................................................................. 12</p>
<p> </p>
<p>3.5</p>
<p> </p>
<p>Main Functions ................................................................................................ 13</p>
<p> </p>
<p>3.6</p>
<p> </p>
<p>Error Handling .................................................................................................. 13</p>
<p> </p>
<p><b>4</b></p>
<p> </p>
<p><b>Integration ................................................................................................................... 14</b></p>
<p> </p>
<p>4.1</p>
<p> </p>
<p>Scope of Delivery ............................................................................................. 14</p>
<p> </p>
<p>4.1.1</p>
<p> </p>
<p>Static Files ....................................................................................... 14</p>
<p> </p>
<p>4.1.2</p>
<p> </p>
<p>Dynamic Files .................................................................................. 14</p>
<p> </p>
<p>4.2</p>
<p> </p>
<p>Include Structure .............................................................................................. 15</p>
<p> </p>
<p>4.3</p>
<p> </p>
<p>Make ................................................................................................................ 15</p>
<p> </p>
<p>4.4</p>
<p> </p>
<p>Critical Sections ............................................................................................... 16</p>
<p> </p>
<p>4.5</p>
<p> </p>
<p>Invocation of Protect and Check service .......................................................... 16</p>
<p> </p>
<p><b>5</b></p>
<p> </p>
<p><b>API Description ........................................................................................................... 17</b></p>
<p> </p>
<p>5.1</p>
<p> </p>
<p>Type Definitions ............................................................................................... 17</p>
<p> </p>
<p>5.2</p>
<p> </p>
<p>Services provided by E2E ................................................................................ 18</p>
<p> </p>
<p>5.2.1</p>
<p> </p>
<p>E2E_PXXProtect .............................................................................. 18</p>
<p> </p>
<p>5.2.2</p>
<p> </p>
<p>E2E_PXXProtectInit ......................................................................... 19</p>
<p> </p>
<p>5.2.3</p>
<p> </p>
<p>E2E_PXXCheck ............................................................................... 20</p>
<p> </p>
<p>5.2.4</p>
<p> </p>
<p>E2E_PXXCheckInit .......................................................................... 20</p>
<p> </p>
<p>5.2.5</p>
<p> </p>
<p>E2E_PXXMapStatusToSM ............................................................... 21</p>
<p> </p>
<p>5.2.6</p>
<p> </p>
<p>E2E_SMCheck ................................................................................. 21</p>
<p> </p>
<p>5.2.7</p>
<p> </p>
<p>E2E_SMCheckInit ............................................................................ 22</p>
<p> </p>
<p>5.3</p>
<p> </p>
<p>Services used by E2E ...................................................................................... 23</p>
<p> </p>
<p>5.4</p>
<p> </p>
<p>Callback Functions ........................................................................................... 23</p>
<p> </p>
<p>5.5</p>
<p> </p>
<p>Configurable Interfaces .................................................................................... 23</p>
<p> </p>
<h1 style="page-break-before:always; "></h1>
<p>Technical Reference MICROSAR E2E </p>
<p>© 2017 Vector Informatik GmbH </p>
<p>Version 1.02.00 </p>
<p>4 </p>
<p>based on template version 5.12.0 </p>
<p><b>6</b></p>
<p> </p>
<p><b>Configuration .............................................................................................................. 24</b></p>
<p> </p>
<p><b>7</b></p>
<p> </p>
<p><b>Glossary and Abbreviations ...................................................................................... 25</b></p>
<p> </p>
<p>7.1</p>
<p> </p>
<p>Glossary .......................................................................................................... 25</p>
<p> </p>
<p>7.2</p>
<p> </p>
<p>Abbreviations ................................................................................................... 25</p>
<p> </p>
<p><b>8</b></p>
<p> </p>
<p><b>Contact ........................................................................................................................ 26</b></p>
<p> </p>
<p> </p>
<h1 style="page-break-before:always; "></h1>
<p>Technical Reference MICROSAR E2E </p>
<p>© 2017 Vector Informatik GmbH </p>
<p>Version 1.02.00 </p>
<p>5 </p>
<p>based on template version 5.12.0 </p>
<p><b>Illustrations </b></p>
<p>Figure 2-1</p>
<p> </p>
<p>AUTOSAR 4.2 Architecture Overview ......................................................... 8</p>
<p> </p>
<p>Figure 2-2</p>
<p> </p>
<p>Interfaces to adjacent modules of E2E component ..................................... 9</p>
<p> </p>
<p>Figure 3-1</p>
<p> </p>
<p>E2E State Machine ................................................................................... 13</p>
<p> </p>
<p>Figure 4-1</p>
<p> </p>
<p>Include structure containing all possible E2E profiles ................................ 15</p>
<p> </p>
<p><b> </b></p>
<p><b>Tables </b></p>
<p>Table 1-1 </p>
<p> </p>
<p>Component history...................................................................................... 6</p>
<p> </p>
<p>Table 3-1 </p>
<p> </p>
<p>Supported AUTOSAR standard conform features ..................................... 10</p>
<p> </p>
<p>Table 3-2 </p>
<p> </p>
<p>Features provided beyond the AUTOSAR standard .................................. 10</p>
<p> </p>
<p>Table 3-3 </p>
<p> </p>
<p>Provided E2E protection mechanisms ...................................................... 12</p>
<p> </p>
<p>Table 3-4 </p>
<p> </p>
<p>Detected communication faults ................................................................. 12</p>
<p> </p>
<p>Table 4-1 </p>
<p> </p>
<p>Static files ................................................................................................. 14</p>
<p> </p>
<p>Table 4-2 </p>
<p> </p>
<p>Example for setting E2E Profile 1 in E2E_cfg.mak .................................... 16</p>
<p> </p>
<p>Table 5-1 </p>
<p> </p>
<p>Type definitions ......................................................................................... 18</p>
<p> </p>
<p>Table 5-2 </p>
<p> </p>
<p>E2E_PXXProtect ...................................................................................... 19</p>
<p> </p>
<p>Table 5-3 </p>
<p> </p>
<p>E2E_PXXProtectInit .................................................................................. 19</p>
<p> </p>
<p>Table 5-4 </p>
<p> </p>
<p>E2E_PXXCheck ....................................................................................... 20</p>
<p> </p>
<p>Table 5-5 </p>
<p> </p>
<p>E2E_PXXCheckInit ................................................................................... 21</p>
<p> </p>
<p>Table 5-6 </p>
<p> </p>
<p>E2E_PXXMapStatusToSM ........................................................................ 21</p>
<p> </p>
<p>Table 5-7 </p>
<p> </p>
<p>E2E_SMCheck ......................................................................................... 22</p>
<p> </p>
<p>Table 5-8 </p>
<p> </p>
<p>E2E_SMCheck ......................................................................................... 22</p>
<p> </p>
<p>Table 5-9 </p>
<p> </p>
<p>Services used by the E2E ......................................................................... 23</p>
<p> </p>
<p>Table 7-1 </p>
<p> </p>
<p>Glossary ................................................................................................... 25</p>
<p> </p>
<p>Table 7-2 </p>
<p> </p>
<p>Abbreviations ............................................................................................ 25</p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<h1 style="page-break-before:always; "></h1>
<p>Technical Reference MICROSAR E2E </p>
<p>© 2017 Vector Informatik GmbH </p>
<p>Version 1.02.00 </p>
<p>6 </p>
<p>based on template version 5.12.0 </p>
<p><b>1 </b></p>
<p><b>Component History </b></p>
<p>The </p>
<p>component </p>
<p>history </p>
<p>gives </p>
<p>an </p>
<p>overview </p>
<p>over </p>
<p>the </p>
<p>important </p>
<p>milestones </p>
<p>that </p>
<p>are </p>
<p>supported in the different versions of the component.  </p>
<p><b>Component Version </b></p>
<p><b>New Features </b></p>
<p>1.00.00 </p>
<p>Initial creation of E2E Library documentation summarizing all supported </p>
<p>E2E profiles. </p>
<p>1.01.00 </p>
<p>Documentation was updated according to additional E2E profile for JLR </p>
<p>1.02.00 </p>
<p>Documentation was updated according to additional E2E profile 7 </p>
<p>Table 1-1  </p>
<p>Component history </p>
<p> </p>
<p> </p>
<h1 style="page-break-before:always; "></h1>
<p>Technical Reference MICROSAR E2E </p>
<p>© 2017 Vector Informatik GmbH </p>
<p>Version 1.02.00 </p>
<p>7 </p>
<p>based on template version 5.12.0 </p>
<p><b>2 </b></p>
<p><b>Introduction </b></p>
<p>This document describes the functionality and API of the AUTOSAR BSW module E2E as </p>
<p>specified in [1].  </p>
<p> </p>
<p><b>Supported AUTOSAR Release*: </b></p>
<p>4 </p>
<p><b>Supported Configuration Variants: </b></p>
<p>- </p>
<p><b>Vendor ID: </b></p>
<p>E2E_VENDOR_ID </p>
<p>30 decimal </p>
<p>(= Vector-Informatik, </p>
<p>according to HIS) </p>
<p><b>Module ID: </b></p>
<p>E2E_MODULE_ID   </p>
<p>207 decimal </p>
<p>(according to ref. [3]) </p>
<p>* For the detailed functional specification please also refer to the corresponding AUTOSAR SWS. </p>
<p> </p>
<p> </p>
<p> </p>
<p>E2E  Library  provides  mechanisms  to  protect  safety-related  data  exchange  at  runtime </p>
<p>against the effects of faults within the communication link. </p>
<p>To </p>
<p>provide  appropriate </p>
<p>solution </p>
<p>addressing  flexibility </p>
<p>and </p>
<p>standardization,  AUTOSAR </p>
<p>specifies  a  set  of  flexible  E2E  profiles  that  implement  a  combination  of  E2E  protection </p>
<p>mechanisms,  i.e.  Profile  1,  2,  4,  5,  6  and  7.  Additionally,  an  E2E  profile  for  JLR  is </p>
<p>supported, which is based on AUTOSAR Profile 1.Each specified E2E profile has a fixed </p>
<p>behavior, but it has some configuration options by function parameters (e.g. the location of </p>
<p>the CRC in relation to the data, which are to be protected). This document illustrates the </p>
<p>functional principle of E2E without getting too deep into details about any particular E2E </p>
<p>profile. For information about  the used E2E  profile (e.g. data layout, CRC computation), </p>
<p>refer to [1] and [2]. </p>
<p>The E2E protection allows the following: </p>
<p><b>&gt; </b></p>
<p>It protects the safety-related data elements to be sent over the RTE by attaching </p>
<p>control data (E2E Header) </p>
<p><b>&gt; </b></p>
<p>It verifies the safety-related data elements received from the RTE using the control </p>
<p>data (E2E Header) </p>
<p><b>&gt; </b></p>
<p>It indicates that received safety-related data elements are faulty, so that the caller of </p>
<p>E2E library can respond in a proper way </p>
<p>E2E Library provides a state machine to signalize the state of communication link over </p>
<p>several message cycles. </p>
<p>The E2E Profile check-functions verify data in one cycle. In contrary, the state machine </p>
<p>builds up a state out of several results of check-functions within a reception window, which </p>
<p>is then provided to the consumer (RTE/SWC/COM). </p>
<p>E2E State Machine should be interpreted more like an aggregator of several check-results </p>
<p>than as a real state machine. </p>
<h1 style="page-break-before:always; "></h1>
<p>Technical Reference MICROSAR E2E </p>
<p>© 2017 Vector Informatik GmbH </p>
<p>Version 1.02.00 </p>
<p>8 </p>
<p>based on template version 5.12.0 </p>
<p><b>2.1 </b></p>
<p><b>Architecture Overview </b></p>
<p>The following figure shows where the E2E is located in the AUTOSAR architecture. </p>
<p> </p>
<p>Figure 2-1 </p>
<p>AUTOSAR 4.2 Architecture Overview   </p>
<p> </p>
<p> </p>
<p> </p>
<h1 style="page-break-before:always; "></h1>
<p>Technical Reference MICROSAR E2E </p>
<p>© 2017 Vector Informatik GmbH </p>
<p>Version 1.02.00 </p>
<p>9 </p>
<p>based on template version 5.12.0 </p>
<p>The next figure shows the interfaces to adjacent modules of the E2E. These interfaces are </p>
<p>described in chapter 5.  </p>
<p> </p>
<p>Figure 2-2 </p>
<p>Interfaces to adjacent modules of E2E component </p>
<p><b>PXX </b> is  used  as  placeholder  for  services,  which  are  implemented  in  each  Profile.  For </p>
<p>example </p>
<p>E2E_<b>PXX</b>Protect() </p>
<p>develops </p>
<p>to </p>
<p>the </p>
<p>following </p>
<p>six </p>
<p>E2E_<b>P01</b>Protect(), </p>
<p>E2E_<b>P02</b>Protect(), </p>
<p>E2E_<b>P04</b>Protect(), </p>
<p>E2E_<b>P05</b>Protect(), </p>
<p>E2E_<b>P06</b>Protect(), </p>
<p>E2E_<b>P07</b>Protect() and E2E_<b>PJLR</b>Protect(). </p>
<p><b> composite structure Interfaces</b></p>
<p><b>E2E</b></p>
<p><b>Crc</b></p>
<p><b>SW-C / RTE / E2E Transformer / E2E Protection Wrapper</b></p>
<p>Crc_CalculateCRC64</p>
<p>E2E_SMCheckInit</p>
<p>E2E_SMCheck</p>
<p>E2E_PXXMapStatusToSM</p>
<p>E2E_PXXCheckInit</p>
<p>E2E_PXXCheck</p>
<p>E2E_PXXProtectInit</p>
<p>E2E_PXXProtect</p>
<p>Crc_CalculateCRC32P4</p>
<p>Crc_CalculateCRC16</p>
<p>Crc_CalculateCRC8H2F</p>
<p>Crc_CalculateCRC8</p>
<h1 style="page-break-before:always; "></h1>
<p>Technical Reference MICROSAR E2E </p>
<p>© 2017 Vector Informatik GmbH </p>
<p>Version 1.02.00 </p>
<p>10 </p>
<p>based on template version 5.12.0 </p>
<p><b>3 </b></p>
<p><b>Functional Description </b></p>
<p><b>3.1 </b></p>
<p><b>Features </b></p>
<p>The features listed in the following tables cover the complete functionality specified for the </p>
<p>E2E. </p>
<p>The AUTOSAR  standard  functionality  is  specified  in  [1],  the  corresponding  features  are </p>
<p>listed in the table </p>
<p><b>&gt; </b></p>
<p>Table 3-1   Supported AUTOSAR standard conform features  </p>
<p>Vector Informatik provides further E2E functionality beyond the AUTOSAR standard. The </p>
<p>corresponding features are listed in the table </p>
<p><b>&gt; </b></p>
<p>Table 3-2   Features provided beyond the AUTOSAR standard </p>
<p>The following features specified in [1] are supported: </p>
<p><b>Supported AUTOSAR Standard Conform Features </b></p>
<p>E2E Protection mechanisms via Profile 1, 2, 4, 5, 6 and 7 </p>
<p>State machine for communication status within reception window </p>
<p>Table 3-1  </p>
<p>Supported AUTOSAR standard conform features </p>
<p>The following features are provided beyond the AUTOSAR standard: </p>
<p><b>Features Provided Beyond the AUTOSAR Standard </b></p>
<p>E2E Protection mechanism via Profile JLR </p>
<p>Table 3-2  </p>
<p>Features provided beyond the AUTOSAR standard </p>
<p><b>3.2 </b></p>
<p><b>E2E Communication Protection </b></p>
<p>This chapter gives an overview over E2E communication protection and provides a short </p>
<p>summary  of  the AUTOSAR  architecture  for  E2E  communication  protection.  Please  note </p>
<p>that this chapter is not intended to provide a full description (or even a specification) of the </p>
<p>AUTOSAR architecture for E2E communication protection.  </p>
<p><b>3.2.1 </b></p>
<p><b>Communication Faults </b></p>
<p>To  ensure  freedom  from  interference  by  software  partitioning,  ISO  26262  takes  the </p>
<p>following faults into account: </p>
<p><b>&gt; </b></p>
<p>Loss of peer-to-peer communication </p>
<p><b>&gt; </b></p>
<p>Unintended message repetition due to the same message being sent again </p>
<p>unintentionally </p>
<p><b>&gt; </b></p>
<p>Message loss during transmission </p>
<p><b>&gt; </b></p>
<p>Insertion of messages due to receiver unintentionally receiving an additional message, </p>
<p>which is interpreted to have correct source and destination addresses </p>
<h1 style="page-break-before:always; "></h1>
<p>Technical Reference MICROSAR E2E </p>
<p>© 2017 Vector Informatik GmbH </p>
<p>Version 1.02.00 </p>
<p>11 </p>
<p>based on template version 5.12.0 </p>
<p><b>&gt; </b></p>
<p>Re-sequencing due to the order of data being changed during transmission, i.e., the </p>
<p>data is not received in the same order as it was sent </p>
<p><b>&gt; </b></p>
<p>Message corruption due to one or more data bits in the message begin changed </p>
<p>during transmission </p>
<p><b>&gt; </b></p>
<p>Message delay due to the message being received correctly, but not in time </p>
<p><b>&gt; </b></p>
<p>Blocking access to the data bus due to a faulty node not adhering to the expected </p>
<p>patterns of use and making excessive demands for service, thereby reducing its </p>
<p>availability to other nodes, e.g. while wrongly waiting for non-existent data </p>
<p><b>&gt; </b></p>
<p>Constant transmission of messages by a faulty node, thereby compromising the </p>
<p>operation of the entire bus </p>
<p>These communication faults may arise due to (systematic) software faults, (random) </p>
<p>hardware faults and transient faults caused by external influences. </p>
<p> </p>
<p><b>3.2.2 </b></p>
<p><b>Fault Model </b></p>
<p>The </p>
<p>following </p>
<p>communication </p>
<p>faults </p>
<p>can </p>
<p>be </p>
<p>addressed </p>
<p>by </p>
<p>the </p>
<p>E2E </p>
<p>communication </p>
<p>protection: </p>
<p><b>&gt; </b></p>
<p>Repetition: The same message is received more than once </p>
<p><b>&gt; </b></p>
<p>Deletion: The message or parts of it have been removed from the communication </p>
<p>stream </p>
<p><b>&gt; </b></p>
<p>Insertion: An additional message or parts of it have been inserted into the </p>
<p>communication stream </p>
<p><b>&gt; </b></p>
<p>Incorrect sequence: Messages of a communication stream are received in an incorrect </p>
<p>order </p>
<p><b>&gt; </b></p>
<p>Corruption: A message or parts of it are modified </p>
<p><b>&gt; </b></p>
<p>Timing faults (delay): The timing constraints of a message are violated </p>
<p><b>&gt; </b></p>
<p>Addressing faults: A message is sent to the wrong destination </p>
<p><b>&gt; </b></p>
<p>Inconsistency: Communicating nodes have different views of the network status of </p>
<p>data being transferred </p>
<p><b>&gt; </b></p>
<p>Masquerading: The design of a received message with non-authentic content appears </p>
<p>authentic, as if sent by the correct sender </p>
<p>The specific features of the E2E communication protection depend on the implementation </p>
<p>of the protection mechanisms.  </p>
<p><b>3.2.3 </b></p>
<p><b>Protection mechanisms </b></p>
<p>The  following  mechanisms  are  provided  by  E2E  profiles.  Note  that  combination  and </p>
<p>implementation of protection mechanisms differ in each E2E Profile. Table 3-3 summarizes </p>
<p>the  possible  mechanisms.  For  details  about  the  protection  mechanisms  in  any  specific </p>
<p>E2E Profile, refer to [1]. </p>
<p> </p>
<h1 style="page-break-before:always; "></h1>
<p>Technical Reference MICROSAR E2E </p>
<p>© 2017 Vector Informatik GmbH </p>
<p>Version 1.02.00 </p>
<p>12 </p>
<p>based on template version 5.12.0 </p>
<p><b>E2E Mechanism </b></p>
<p><b>Description </b></p>
<p>Counter </p>
<p>Representing sequence number, which is incremented on every send </p>
<p>request. Counter is either transmitted implicitly by including in the </p>
<p>CRC calculation or it is transmitted explicitly as well as covered by </p>
<p>CRC calculation. </p>
<p>Timeout monitoring </p>
<p>Timeout is determined by E2E Library by means of evaluation of the </p>
<p>Counter, by a non-blocking read at the receiver. Timeout is reported </p>
<p>by E2E Library to the caller by means of the status flags in </p>
<p>E2E_PXXCheckStatusType. </p>
<p>Data ID </p>
<p>Unique number which is transmitted either implicitly (only included in </p>
<p>CRC computation) or explicitly and covered by CRC calculation. </p>
<p>Length </p>
<p>Length of data being transmitted is sent explicitly by some E2E </p>
<p>profiles. </p>
<p>CRC </p>
<p>The CRC routines are provided by CRC library. Entire E2E Header </p>
<p>and data to be transmitted is included in CRC calculation. </p>
<p>Table 3-3  </p>
<p>Provided E2E protection mechanisms </p>
<p><b>3.2.4 </b></p>
<p><b>Detected Communication Faults </b></p>
<p>The E2E mechanisms can detect the following faults or effects of faults: </p>
<p><b>E2E Mechanism </b></p>
<p><b>Detected communication faults </b></p>
<p>Counter </p>
<p>Repetition, Loss, Insertion, Incorrect sequence, Blocking </p>
<p>Transmission on a regular basis and </p>
<p>timeout monitoring using E2E-Library </p>
<p>Loss, Delay, Blocking </p>
<p>Data ID + CRC </p>
<p>Masquerade and incorrect addressing, Insertion </p>
<p>CRC </p>
<p>Corruption, Asymmetric information </p>
<p>Table 3-4  </p>
<p>Detected communication faults </p>
<p> </p>
<p><b>3.3 </b></p>
<p><b>Initialization </b></p>
<p>The  caller  of  E2E  Library  has  to  provide  configuration  parameters  according  to  type </p>
<p>definitions, which are defined in section 5.1. E2E Protection and check services do require </p>
<p>state  parameters  which  are  to  be  initialized  before  first  protect/check  cycle.  The  state </p>
<p>machine  also  requests  a  state  parameter  which  requires  initialization.  Therefore  E2E </p>
<p>provides </p>
<p>several </p>
<p>initialization </p>
<p>services, </p>
<p>which </p>
<p>are </p>
<p>responsible </p>
<p>for </p>
<p>resetting </p>
<p>state </p>
<p>parameters. </p>
<p><b>&gt; </b></p>
<p>E2E_PXXProtectInit has to be called before first protection </p>
<p><b>&gt; </b></p>
<p>E2E_PXXCheckInit has to be called before first check </p>
<p><b>&gt; </b></p>
<p>E2E_SMCheckInit has to be called to initialized the state machine </p>
<p><b>3.4 </b></p>
<p><b>States </b></p>
<p>E2E state machine indicates the communication status over several protect/check cycles. </p>
<h1 style="page-break-before:always; "></h1>
<p>Technical Reference MICROSAR E2E </p>
<p>© 2017 Vector Informatik GmbH </p>
<p>Version 1.02.00 </p>
<p>13 </p>
<p>based on template version 5.12.0 </p>
<p>According  to  state  machine  configuration  which  is  passed  to  E2E_SMCheck  service  via </p>
<p>input  parameter,  communication  link  is  trustworthy  as  long  as  state  machine  is  in  state </p>
<p>E2E_SM_VALID. Received data is ok to use then. </p>
<p> </p>
<p>Figure 3-1 </p>
<p>E2E State Machine </p>
<p>E2E Profile services are stateless. </p>
<p><b>3.5 </b></p>
<p><b>Main Functions </b></p>
<p>E2E does not contain any scheduled services such as a main function. </p>
<p> </p>
<p><b>3.6 </b></p>
<p><b>Error Handling </b></p>
<p>E2E  does  not  support  error  reporting  via  DET  or  DEM  modules.  Errors  are  reported </p>
<p>synchronously upon call of services via return values and status within state parameters. </p>
<p><b> </b></p>
<p><b>stm State Machine</b></p>
<p>E2E_SM_DEINIT</p>
<p><b>E2E_SM_NODATA</b></p>
<p><b>E2E_SM_INIT</b></p>
<p><b>E2E_SM_VALID</b></p>
<p><b>E2E_SM_INVALID</b></p>
<p>[too many ERRORs or</p>
<p>too few OKs]</p>
<p>[NOT (too many ERRORs or</p>
<p>too few OKs)]</p>
<p>[too many ERRORs]</p>
<p>[NOT (too many ERRORs or too few OKs)]</p>
<p>[1st Data with no ERROR]</p>
<p>[E2E_SMCheckInit()]</p>
<h1 style="page-break-before:always; "></h1>
<p>Technical Reference MICROSAR E2E </p>
<p>© 2017 Vector Informatik GmbH </p>
<p>Version 1.02.00 </p>
<p>14 </p>
<p>based on template version 5.12.0 </p>
<p><b>4 </b></p>
<p><b>Integration </b></p>
<p>This chapter gives necessary information for the integration of the MICROSAR E2E into an </p>
<p>application environment of an ECU. </p>
<p><b>4.1 </b></p>
<p><b>Scope of Delivery </b></p>
<p>The delivery of the E2E contains the files which are described in the chapters 4.1.1 and </p>
<p>4.1.2: </p>
<p><b>4.1.1 </b></p>
<p><b>Static Files </b></p>
<p><b>File Name </b></p>
<p><b>Description </b></p>
<p>E2E.c </p>
<p>This is the common source file of E2E Library.</p>
<p> </p>
<p>E2E.h </p>
<p>This is the common header file of E2E Library. </p>
<p>E2E_PXX.c </p>
<p>This is the specific source file for E2E Profile PXX.</p>
<p> </p>
<p>E2E_PXX.h </p>
<p>This is the specific header file for E2E Profile PXX.</p>
<p> </p>
<p>E2E_SM.c </p>
<p>This is the source file for E2E State Machine. </p>
<p>E2E_SM.h </p>
<p>This is the header file for E2E State Machine. </p>
<p>Table 4-1  </p>
<p>Static files </p>
<p>PXX  is  a  placeholder  for  all  supported  profiles.  Upon  delivery  of  E2E  Library  only  one </p>
<p>particular profile is supported.  </p>
<p>It is important to note that only the header file E2E_PXX.h has to be included to the caller </p>
<p>of E2E Library. See chapter 4.2 for include structure of E2E Library. </p>
<p><b>4.1.2 </b></p>
<p><b>Dynamic Files </b></p>
<p>E2E Library does not contain any generated files. </p>
<p> </p>
<p> </p>
<h1 style="page-break-before:always; "></h1>
<p>Technical Reference MICROSAR E2E </p>
<p>© 2017 Vector Informatik GmbH </p>
<p>Version 1.02.00 </p>
<p>15 </p>
<p>based on template version 5.12.0 </p>
<p><b>4.2 </b></p>
<p><b>Include Structure </b></p>
<p> </p>
<p> </p>
<p>Figure 4-1 </p>
<p>Include structure containing all possible E2E profiles </p>
<p>According to Figure 4-1 Include structure containing all possible E2E profiles it is sufficient </p>
<p>to  include  the  E2E_PXX.h  header  file,  e.g.  E2E_P01.h  if  E2E  Profile  1  is  used  and  to </p>
<p>include E2E_SM.h if the state machine is used. </p>
<p><b>4.3 </b></p>
<p><b>Make </b></p>
<p>The content of make sub-package has to be adapted according to the E2E Profile, which </p>
<p>is used in a delivery. Therefore set parameter </p>
<p>E2E_USE_PROFILEX</p>
<p> to </p>
<p>1</p>
<p> in E2E_cfg.mak </p>
<p>file. For example, if E2E Profile 1 is used: </p>
<p> </p>
<p> </p>
<p><b> class IncludeStructure</b></p>
<p>Source</p>
<p>Header</p>
<p>IncContainer</p>
<p>Static</p>
<p>E2E_P01.c</p>
<p>E2E_P02.c</p>
<p>E2E_P04.c</p>
<p>E2E_P05.c</p>
<p>E2E_P06.c</p>
<p>E2E_P01.h</p>
<p>E2E_P02.h</p>
<p>E2E_P04.h</p>
<p>E2E_P05.h</p>
<p>E2E_P06.h</p>
<p>Crc.h</p>
<p>Std_Types.h</p>
<p>E2E_MemMap.inc</p>
<p>E2E_Compiler_Cfg.inc</p>
<p>E2E_SM.c</p>
<p>E2E_SM.h</p>
<p>E2E.c</p>
<p>E2E.h</p>
<p>E2E_PJLR.c</p>
<p>E2E_PJLR.h</p>
<p>E2E_P07.c</p>
<p>E2E_P07.h</p>
<p>«include»</p>
<p>«include»</p>
<p>«include»</p>
<p>«include»</p>
<p>«include»</p>
<p>«include»</p>
<p>«include»</p>
<p>«include»</p>
<p>«include»</p>
<p>«include»</p>
<p>«include»</p>
<p>«include»</p>
<p>«include»</p>
<p>«include»</p>
<p>«include»</p>
<p>«include»</p>
<p>«include»</p>
<p>«include»</p>
<p>«include»</p>
<h1 style="page-break-before:always; "></h1>
<p>Technical Reference MICROSAR E2E </p>
<p>© 2017 Vector Informatik GmbH </p>
<p>Version 1.02.00 </p>
<p>16 </p>
<p>based on template version 5.12.0 </p>
<p><b>Setting Profile 1 in E2E_cfg.mak </b></p>
<p>############################################################### </p>
<p># Use PROFIL1 </p>
<p># </p>
<p># Possible Values: </p>
<p># 0 - No PROFIL1 used </p>
<p># 1 - PROFIL1 used </p>
<p>###############################################################</p>
<p> </p>
<p>E2E_USE_PROFIL1 = 1 </p>
<p> </p>
<p>Table 4-2  </p>
<p>Example for setting E2E Profile 1 in E2E_cfg.mak </p>
<p> </p>
<p><b>4.4 </b></p>
<p><b>Critical Sections </b></p>
<p><b> </b></p>
<p>E2E Library does not contain critical sections. </p>
<p> </p>
<p><b>4.5 </b></p>
<p><b>Invocation of Protect and Check service </b></p>
<p> </p>
<p><b>&gt; </b></p>
<p>The service to protect </p>
<p>E2E_PXXProtect</p>
<p> (e.g. </p>
<p>E2E_P01Protect</p>
<p>) shall be called </p>
<p>exactly once before sending the data. </p>
<p><b>&gt; </b></p>
<p>The service to check </p>
<p>E2E_PXXCheck</p>
<p> (e.g. </p>
<p>E2E_P01Check</p>
<p>) shall be called exactly </p>
<p>once for reception of data. </p>
<p> </p>
<h1 style="page-break-before:always; "></h1>
<p>Technical Reference MICROSAR E2E </p>
<p>© 2017 Vector Informatik GmbH </p>
<p>Version 1.02.00 </p>
<p>17 </p>
<p>based on template version 5.12.0 </p>
<p><b>5 </b></p>
<p><b>API Description </b></p>
<p>For an interfaces overview please see </p>
<p> </p>
<p>Figure 2-2 </p>
<p>Interfaces to adjacent modules of E2E component. </p>
<p><b>5.1 </b></p>
<p><b>Type Definitions </b></p>
<p>The  types  defined  by  the  E2E  are  described  in  this  chapter.  Content  of  structure  types </p>
<p>varies from profile to profile. Hence, profile types are described in general.  </p>
<p><b>Type Name </b></p>
<p><b>C-Type </b></p>
<p><b>Description </b></p>
<p>E2E_PXXConfigType </p>
<p>Structure </p>
<p>Configuration of transmitted data. In detail, configuration </p>
<p><b> </b></p>
<p><b>composite structure Interfaces</b></p>
<p><b>E2E</b></p>
<p><b>Crc</b></p>
<p><b>SW-C / RTE / E2E Transformer / E2E Protection Wrapper</b></p>
<p>Crc_CalculateCRC64</p>
<p>E2E_SMCheckInit</p>
<p>E2E_SMCheck</p>
<p>E2E_PXXMapStatusToSM</p>
<p>E2E_PXXCheckInit</p>
<p>E2E_PXXCheck</p>
<p>E2E_PXXProtectInit</p>
<p>E2E_PXXProtect</p>
<p>Crc_CalculateCRC32P4</p>
<p>Crc_CalculateCRC16</p>
<p>Crc_CalculateCRC8H2F</p>
<p>Crc_CalculateCRC8</p>
<h1 style="page-break-before:always; "></h1>
<p>Technical Reference MICROSAR E2E </p>
<p>© 2017 Vector Informatik GmbH </p>
<p>Version 1.02.00 </p>
<p>18 </p>
<p>based on template version 5.12.0 </p>
<p><b>Type Name </b></p>
<p><b>C-Type </b></p>
<p><b>Description </b></p>
<p>of E2E Header including protection mechanisms, which </p>
<p>are transmitted explicitly. For each transmitted data, </p>
<p>there is an instance of this structure. </p>
<p>E2E_PXXProtectState</p>
<p>Type </p>
<p>Structure </p>
<p>State of the sender for a data protected with E2E Profile </p>
<p>X. In all E2E profiles the Counter is contained in </p>
<p>ProtectState structure. </p>
<p>E2E_PXXCheckStateT</p>
<p>ype </p>
<p>Structure </p>
<p>State of the receiver for single data protected with E2E </p>
<p>Profile X. </p>
<p>E2E_PXXCheckStatus</p>
<p>Type </p>
<p>Enumeration </p>
<p>Status of the receiver for single data in one cycle, </p>
<p>protected with E2E Profile X. </p>
<p>E2E_PXXCheckStatusType is part of </p>
<p>E2E_PXXCheckStateType. </p>
<p>E2E_PCheckStatusTy</p>
<p>pe </p>
<p>Enumeration </p>
<p>Profile-independent status of the receiver for single data </p>
<p>in once cycle. Result and status of most recent check is </p>
<p>mapped (by E2E_PXXMapStatusToSM service) to this </p>
<p>type, which is compatible to E2E state machine. </p>
<p>E2E_SMConfigType </p>
<p>Structure </p>
<p>Configuration of a communication channel for </p>
<p>exchanging data. Number of considered messages </p>
<p>(window size) can be configured, which is used to </p>
<p>indicate state of communication link over several </p>
<p>transmission cycles. </p>
<p>E2E_SMCheckStateTy</p>
<p>pe </p>
<p>Structure </p>
<p>State of the protection of a communication channel. </p>
<p>State machine state is contained in this type. </p>
<p>E2E_SMStateType </p>
<p>Enumeration </p>
<p>Status of the communication channel exchanging the </p>
<p>data. If the status is E2E_SM_VALID, then the data may </p>
<p>be used. </p>
<p>Table 5-1  </p>
<p>Type definitions </p>
<p><b>5.2 </b></p>
<p><b>Services provided by E2E </b></p>
<p>The services provided by E2E library are described in this chapter. Signature of services </p>
<p>may vary from profile to profile. Thus, profile specific parameters are marked appropriately. </p>
<p><b>5.2.1 </b></p>
<p><b>E2E_PXXProtect </b></p>
<p><b>Prototype </b></p>
<p>Std_ReturnType</p>
<p> </p>
<p><b>E2E_PXXProtect</b></p>
<p> </p>
<p>( E2E_PXXConfigType* ConfigPtr, </p>
<p>E2E_PXXProtectStateType* StatePtr, uint8* DataPtr, uint16 Length)</p>
<p> </p>
<p><b>Parameter </b></p>
<p>ConfigPtr </p>
<p>Pointer to profile configuration </p>
<p>StatePtr </p>
<p>Pointer to communication state of sender </p>
<p>DataPtr </p>
<p>Pointer to data to be protected </p>
<p>Length </p>
<p>Length of data in bytes <b>(only supported in Profile 4, 5 and 6)</b>. </p>
<p>Type of Length parameter in <b>Profile 7 </b>is uint32. </p>
<h1 style="page-break-before:always; "></h1>
<p>Technical Reference MICROSAR E2E </p>
<p>© 2017 Vector Informatik GmbH </p>
<p>Version 1.02.00 </p>
<p>19 </p>
<p>based on template version 5.12.0 </p>
<p><b>Return code </b></p>
<p>Std_ReturnType </p>
<p><b>&gt; </b></p>
<p>E2E_E_INPUTERR_NULL: At least one pointer parameter is NULL </p>
<p><b>&gt; </b></p>
<p>E2E_E_INPUTERR_WRONG: One parameter is erroneous </p>
<p><b>&gt; </b></p>
<p>E2E_E_INTERR: Internal library error </p>
<p><b>&gt; </b></p>
<p>E2E_E_OK: Protection successful </p>
<p><b>Functional Description </b></p>
<p>Protects the array/buffer to be transmitted using the E2E Profile X. This includes checksum calculation, </p>
<p>handling of counter and Data ID. Depending on the used profile, also data length can be included in E2E </p>
<p>Header. </p>
<p><b>Particularities and Limitations </b></p>
<p><b>&gt; </b></p>
<p>Identical ConfigPtr should be used for both protection on sender side and check on receiver </p>
<p>side. </p>
<p><b>&gt; </b></p>
<p>Only relevant for Profile 5: Value of parameter Length must match length, which is configured </p>
<p>in ConfigPtr. </p>
<p>Expected Caller Context </p>
<p><b>&gt; </b></p>
<p>There is no specific caller. E2E can be called from anywhere. </p>
<p>Table 5-2  </p>
<p>E2E_PXXProtect </p>
<p><b>5.2.2 </b></p>
<p><b>E2E_PXXProtectInit </b></p>
<p><b>Prototype </b></p>
<p>Std_ReturnType</p>
<p> </p>
<p><b>E2E_PXXProtectInit</b></p>
<p> </p>
<p>(E2E_PXXProtectStateType* StatePtr)</p>
<p> </p>
<p><b>Parameter </b></p>
<p>StatePtr </p>
<p>Pointer to communication state of sender </p>
<p><b>Return code </b></p>
<p>Std_ReturnType </p>
<p><b>&gt; </b></p>
<p>E2E_E_INPUTERR_NULL: Pointer parameter is NULL </p>
<p><b>&gt; </b></p>
<p>E2E_E_OK: Initialization successful </p>
<p><b>Functional Description </b></p>
<p>Initializes the protection state by resetting the counter. </p>
<p><b>Particularities and Limitations </b></p>
<p><b>&gt; </b></p>
<p>None </p>
<p>Expected Caller Context </p>
<p><b>&gt; </b></p>
<p>There is no specific caller. E2E can be called from anywhere. </p>
<p>Table 5-3  </p>
<p>E2E_PXXProtectInit </p>
<h1 style="page-break-before:always; "></h1>
<p>Technical Reference MICROSAR E2E </p>
<p>© 2017 Vector Informatik GmbH </p>
<p>Version 1.02.00 </p>
<p>20 </p>
<p>based on template version 5.12.0 </p>
<p><b>5.2.3 </b></p>
<p><b>E2E_PXXCheck </b></p>
<p><b>Prototype </b></p>
<p>Std_ReturnType</p>
<p> </p>
<p><b>E2E_PXXCheck</b></p>
<p> </p>
<p>( E2E_PXXConfigType* ConfigPtr, </p>
<p>E2E_PXXProtectStateType* StatePtr, uint8* DataPtr, uint16 Length)</p>
<p> </p>
<p><b>Parameter </b></p>
<p>ConfigPtr </p>
<p>Pointer to profile configuration </p>
<p>StatePtr </p>
<p>Pointer to communication state of sender </p>
<p>DataPtr </p>
<p>Pointer to data to be protected </p>
<p>Length </p>
<p>Length of data in bytes <b>(only supported in Profile 4, 5 and 6)</b>. </p>
<p>Type of Length parameter in <b>Profile 7 </b>is uint32. </p>
<p><b>Return code </b></p>
<p>Std_ReturnType </p>
<p><b>&gt; </b></p>
<p>E2E_E_INPUTERR_NULL: At least one pointer parameter is NULL </p>
<p><b>&gt; </b></p>
<p>E2E_E_INPUTERR_WRONG: One parameter is erroneous </p>
<p><b>&gt; </b></p>
<p>E2E_E_INTERR: Internal library error </p>
<p><b>&gt; </b></p>
<p>E2E_E_OK: Check successful </p>
<p><b>Functional Description </b></p>
<p>Checks the received data using the E2E Profile X. This includes CRC calculation, handling of the counter </p>
<p>and Data ID. Depending on the used profile, also data length can be used for checking received data. </p>
<p><b>Particularities and Limitations </b></p>
<p><b>&gt; </b></p>
<p>Identical ConfigPtr should be used for both protection on sender side and checking on receiver </p>
<p>side. </p>
<p><b>&gt; </b></p>
<p>Only relevant for Profile 5: Value of parameter Length must match length, which is configured </p>
<p>in ConfigPtr. </p>
<p>Expected Caller Context </p>
<p><b>&gt; </b></p>
<p>There is no specific caller. E2E can be called from anywhere. </p>
<p>Table 5-4  </p>
<p>E2E_PXXCheck </p>
<p><b>5.2.4 </b></p>
<p><b>E2E_PXXCheckInit </b></p>
<p><b>Prototype </b></p>
<p>Std_ReturnType</p>
<p> </p>
<p><b>E2E_PXXCheckInit</b></p>
<p> </p>
<p>(E2E_PXXCheckStateType* StatePtr)</p>
<p> </p>
<p><b>Parameter </b></p>
<p>StatePtr </p>
<p>Pointer to communication state of sender </p>
<p><b>Return code </b></p>
<p>Std_ReturnType </p>
<p><b>&gt; </b></p>
<p>E2E_E_INPUTERR_NULL: Input pointer parameter is NULL </p>
<p><b>&gt; </b></p>
<p>E2E_E_OK: Initialization successful </p>
<p><b>Functional Description </b></p>
<p>Initializes the check state by resetting the parameters contained in StatePtr. </p>
<h1 style="page-break-before:always; "></h1>
<p>Technical Reference MICROSAR E2E </p>
<p>© 2017 Vector Informatik GmbH </p>
<p>Version 1.02.00 </p>
<p>21 </p>
<p>based on template version 5.12.0 </p>
<p><b>Particularities and Limitations </b></p>
<p><b>&gt; </b></p>
<p>None </p>
<p>Expected Caller Context </p>
<p><b>&gt; </b></p>
<p>There is no specific caller. E2E can be called from anywhere. </p>
<p>Table 5-5  </p>
<p>E2E_PXXCheckInit </p>
<p><b>5.2.5 </b></p>
<p><b>E2E_PXXMapStatusToSM </b></p>
<p><b>Prototype </b></p>
<p>E2E_PCheckStatusType</p>
<p> </p>
<p><b>E2E_PXXMapStatusToSM</b></p>
<p> </p>
<p>( Std_ReturnType CheckReturn, </p>
<p>E2E_PXXCheckStatusType* Status, Boolean profileBehavior)</p>
<p> </p>
<p><b>Parameter </b></p>
<p>CheckReturn </p>
<p>Return value of E2E_PXXCheck service </p>
<p>Status </p>
<p>Status of received and checked data in single cycle. Status is part of </p>
<p>E2E_PXXCheckStateType. </p>
<p>profileBehavior </p>
<p><b>&gt; </b></p>
<p>TRUE: profile behavior as introduced in ASR4.2 </p>
<p><b>&gt; </b></p>
<p>FALSE: profile behavior as before ASR4.2 </p>
<p><b>This parameter is only supported in Profile 1, 2 and JLR. </b></p>
<p><b>Return code </b></p>
<p>E2E_PCheckStatusType </p>
<p>Standard state value to be used in E2E Library state machine. </p>
<p><b>Functional Description </b></p>
<p>Maps the check status of Profile X to a generic check status, which can be used by E2E state machine </p>
<p>check function. The E2E Profile X delivers a more fine-grained status than it is necessary for E2E state </p>
<p>machine. </p>
<p><b>Particularities and Limitations </b></p>
<p><b>&gt; </b></p>
<p>None </p>
<p>Expected Caller Context </p>
<p><b>&gt; </b></p>
<p>There is no specific caller. E2E can be called from anywhere. </p>
<p>Table 5-6  </p>
<p>E2E_PXXMapStatusToSM </p>
<p><b>5.2.6 </b></p>
<p><b>E2E_SMCheck </b></p>
<p><b>Prototype </b></p>
<p>Std_ReturnType</p>
<p> </p>
<p><b>E2E_SMCheck</b></p>
<p> </p>
<p>( E2E_PCheckStatusType ProfileStatus, </p>
<p>E2E_SMConfigType* ConfigPtr, E2E_SMCheckStateType* StatePtr)</p>
<p> </p>
<p><b>Parameter </b></p>
<p>ProfileStatus </p>
<p>Profile independent status of the reception on one single data in one cycle. </p>
<p>This is the mapped return value of E2E_PXXMapStatusToSM service. </p>
<p>ConfigPtr </p>
<p>Pointer to static configuration of E2E State Machine </p>
<p>StatePtr </p>
<p>Pointer to state of the communication channel </p>
<h1 style="page-break-before:always; "></h1>
<p>Technical Reference MICROSAR E2E </p>
<p>© 2017 Vector Informatik GmbH </p>
<p>Version 1.02.00 </p>
<p>22 </p>
<p>based on template version 5.12.0 </p>
<p><b>Return code </b></p>
<p>Std_ReturnType </p>
<p><b>&gt; </b></p>
<p>E2E_E_INPUTERR_NULL: At least one pointer parameter is NULL </p>
<p><b>&gt; </b></p>
<p>E2E_E_INPUTERR_WRONG: One parameter is erroneous </p>
<p><b>&gt; </b></p>
<p>E2E_E_INTERR: Internal library error </p>
<p><b>&gt; </b></p>
<p>E2E_E_OK: State machine check successful </p>
<p><b>&gt; </b></p>
<p>E2E_E_WRONGSTATE: Invalid ProfileStatus </p>
<p><b>Functional Description </b></p>
<p>Processes E2E State Machine and checks the communication channel. It determines if the data can be </p>
<p>used for safety-related application, based on history of checks performed by a corresponding </p>
<p>E2E_PXXCheck function. </p>
<p><b>Particularities and Limitations </b></p>
<p><b>&gt; </b></p>
<p>None </p>
<p>Expected Caller Context </p>
<p><b>&gt; </b></p>
<p>There is no specific caller. E2E can be called from anywhere. </p>
<p>Table 5-7  </p>
<p>E2E_SMCheck </p>
<p><b>5.2.7 </b></p>
<p><b>E2E_SMCheckInit </b></p>
<p><b>Prototype </b></p>
<p>Std_ReturnType</p>
<p> </p>
<p><b>E2E_SMCheckInit</b></p>
<p> </p>
<p>(E2E_SMCheckStateType* StatePtr, </p>
<p>E2E_SMConfigType* ConfigPtr)</p>
<p> </p>
<p><b>Parameter </b></p>
<p>StatePtr </p>
<p>Pointer to state of the communication channel </p>
<p>ConfigPtr </p>
<p>Pointer to static configuration of E2E State Machine </p>
<p><b>Return code </b></p>
<p>Std_ReturnType </p>
<p><b>&gt; </b></p>
<p>E2E_E_INPUTERR_NULL: At least one pointer parameter is NULL </p>
<p><b>&gt; </b></p>
<p>E2E_E_OK: Initialization successful </p>
<p><b>Functional Description </b></p>
<p>Initializes state of the communication channel by resetting all parameters in state structure. </p>
<p><b>Particularities and Limitations </b></p>
<p><b>&gt; </b></p>
<p>None </p>
<p>Expected Caller Context </p>
<p><b>&gt; </b></p>
<p>There is no specific caller. E2E can be called from anywhere. </p>
<p>Table 5-8  </p>
<p>E2E_SMCheck </p>
<p> </p>
<h1 style="page-break-before:always; "></h1>
<p>Technical Reference MICROSAR E2E </p>
<p>© 2017 Vector Informatik GmbH </p>
<p>Version 1.02.00 </p>
<p>23 </p>
<p>based on template version 5.12.0 </p>
<p><b>5.3 </b></p>
<p><b>Services used by E2E </b></p>
<p>In the following table services provided by other components, which are used by the E2E </p>
<p>are listed. For details about prototype and functionality refer to the documentation of the </p>
<p>providing component. </p>
<p><b>Component </b></p>
<p><b>API </b></p>
<p>CRC </p>
<p><b>&gt; </b></p>
<p>Crc_CalculateCRC8 </p>
<p><b>&gt; </b></p>
<p>Crc_CalculateCRC8H2F </p>
<p><b>&gt; </b></p>
<p>Crc_CalculateCRC16 </p>
<p><b>&gt; </b></p>
<p>Crc_CalculateCRC32P4 </p>
<p><b>&gt; </b></p>
<p>Crc_CalculateCRC64 </p>
<p>Table 5-9  </p>
<p>Services used by the E2E </p>
<p><b>5.4 </b></p>
<p><b>Callback Functions </b></p>
<p>E2E Library does not provide any callback functions. </p>
<p><b>5.5 </b></p>
<p><b>Configurable Interfaces </b></p>
<p>E2E Library does not provide any configurable interfaces. </p>
<h1 style="page-break-before:always; "></h1>
<p>Technical Reference MICROSAR E2E </p>
<p>© 2017 Vector Informatik GmbH </p>
<p>Version 1.02.00 </p>
<p>24 </p>
<p>based on template version 5.12.0 </p>
<p><b>6 </b></p>
<p><b>Configuration </b></p>
<p>E2E Library is non-generated, deterministic software code, where all inputs and settings </p>
<p>are passed by function parameters. </p>
<p>For both protection on sender side and checking on receiver side a state structure has to </p>
<p>be provided to the services E2E_PXXProtect (sender) and E2E_PXXCheck (receiver). </p>
<p>Additionally, both sender and receiver require a configuration structure of type </p>
<p>E2E_PXXConfigType, which specifies details about the E2E Header and its containing </p>
<p>protection mechanisms. The content of configuration structure is static and needs to be </p>
<p>specified by the caller of E2E Library.  </p>
<p><b> </b></p>
<p><b> </b></p>
<p><b> </b></p>
<p><b>Caution </b></p>
<p>Static configuration for data (e.g. DataID, position of CRC in data array) has to be </p>
<p>identical on sender and receiver side. </p>
<p><b> </b></p>
<p><b> </b></p>
<p>The configuration of E2E State Machine is static as well and has to be provided by caller </p>
<p>via function parameter. </p>
<h1 style="page-break-before:always; "></h1>
<p>Technical Reference MICROSAR E2E </p>
<p>© 2017 Vector Informatik GmbH </p>
<p>Version 1.02.00 </p>
<p>25 </p>
<p>based on template version 5.12.0 </p>
<p><b>7 </b></p>
<p><b>Glossary and Abbreviations </b></p>
<p><b>7.1 </b></p>
<p><b>Glossary </b></p>
<p><b>Term </b></p>
<p><b>Description </b></p>
<p>E2E </p>
<p>End to end protection </p>
<p>Table 7-1  </p>
<p>Glossary </p>
<p> </p>
<p> </p>
<p><b>7.2 </b></p>
<p><b>Abbreviations </b></p>
<p><b>Abbreviation </b></p>
<p><b>Description </b></p>
<p>API </p>
<p>Application Programming Interface </p>
<p> </p>
<p>AUTOSAR </p>
<p>Automotive Open System Architecture </p>
<p>BSW </p>
<p>Basis Software </p>
<p>CRC </p>
<p>Cyclic Redundancy Check </p>
<p>DEM </p>
<p>Diagnostic Event Manager </p>
<p>DET </p>
<p>Development Error Tracer </p>
<p>EAD </p>
<p>Embedded Architecture Designer </p>
<p>ECU </p>
<p>Electronic Control Unit </p>
<p>HIS </p>
<p>Hersteller Initiative Software </p>
<p>ISR </p>
<p>Interrupt Service Routine </p>
<p>MICROSAR </p>
<p>Microcontroller Open System Architecture (the Vector AUTOSAR </p>
<p>solution) </p>
<p>PPORT </p>
<p>Provide Port </p>
<p>RPORT </p>
<p>Require Port </p>
<p>RTE </p>
<p>Runtime Environment </p>
<p>SRS </p>
<p>Software Requirement Specification </p>
<p>SWC </p>
<p>Software Component </p>
<p>SWS </p>
<p>Software Specification </p>
<p>Table 7-2  </p>
<p>Abbreviations </p>
<p> </p>
<p> </p>
<h1 style="page-break-before:always; "></h1>
<p>Technical Reference MICROSAR E2E </p>
<p>© 2017 Vector Informatik GmbH </p>
<p>Version 1.02.00 </p>
<p>26 </p>
<p>based on template version 5.12.0 </p>
<p><b>8 </b></p>
<p><b>Contact </b></p>
<p>Visit our website for more information on </p>
<p> </p>
<p><b>&gt; </b></p>
<p>News </p>
<p><b>&gt; </b></p>
<p>Products </p>
<p><b>&gt; </b></p>
<p>Demo software </p>
<p><b>&gt; </b></p>
<p>Support </p>
<p><b>&gt; </b></p>
<p>Training data </p>
<p><b>&gt; </b></p>
<p>Addresses </p>
<p> </p>
<p>www.vector.com </p>
<p> </p>
<p> </p>
</body>
</html>
{% endraw %}