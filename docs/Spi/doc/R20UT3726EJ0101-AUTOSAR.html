---
layout: default
title: R20UT3726EJ0101-AUTOSAR
nav_order: 1
parent: SPI Handler Driver
---
{% raw %}
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
     "http://www.w3.org/TR/html4/transitional.dtd">
<html>
<head>

  <meta http-equiv="content-type" content="text/html; charset=utf-8"/>
  <title></title>
  <meta name="generator" content="LibreOffice 24.2.7.2 (Linux)"/>
  <meta name="created" content="00:00:00"/>
  <meta name="changed" content="00:00:00"/>
</head>
<body>
<h1></h1>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p>AUTOSAR MCAL R4.0.3</p>
<p> </p>
<p>User’s Manual </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p>SPI Driver Component Ver.1.0.12 </p>
<p>Embedded User’s Manual</p>
<p> </p>
<p> </p>
<p> </p>
<p>Target Device: </p>
<p>RH850/P1x </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p>All information contained in these materials, including products and product specifications, </p>
<p>represents information on the product at the time of publication and is subject to change by </p>
<p>Renesas Electronics Corp. without notice. Please review the latest information published by </p>
<p>Renesas Electronics Corp. through various means, including the Renesas Electronics Corp. </p>
<p>website (http://www.renesas.com). </p>
<p> </p>
<p> </p>
<p> </p>
<p>www.renesas.com </p>
<p>Rev.1.01 Mar 2017</p>
<p> </p>
<h1 style="page-break-before:always; "></h1>
<p> </p>
<p>2 </p>
<h1 style="page-break-before:always; "></h1>
<p> </p>
<p>3 </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p><b>3</b></p>
<p> </p>
<p> </p>
<p> </p>
<p>Notice </p>
<p>1.</p>
<p> </p>
<p>Descriptions of circuits, software and other related information in this document are provided only to illustrate the operation of </p>
<p>semiconductor products and application examples. You are fully responsible for the incorporation or any other use of the circuits, </p>
<p>software, and information in the design of your product or system. Renesas Electronics disclaims any and all liability for any losses and </p>
<p>damages incurred by you or third parties arising from the use of these circuits, software, or information. </p>
<p>2.</p>
<p> </p>
<p>Renesas Electronics hereby expressly disclaims any warranties against and liability for infringement or any other disputes involving patents, </p>
<p>copyrights, or other intellectual property rights of third parties, by or arising from the use of Renesas Electronics products or technical information </p>
<p>described in this document, including but not limited to, the product data, drawing, chart, program, algorithm, application examples. </p>
<p>3.</p>
<p> </p>
<p>No license, express, implied or otherwise, is granted hereby under any patents, copyrights or other intellectual property rights of Renesas </p>
<p>Electronics or others. </p>
<p>4.</p>
<p> </p>
<p>You shall not alter, modify, copy, or otherwise misappropriate any Renesas Electronics product, whether in whole or in part. Renesas Electronics </p>
<p>disclaims any and all liability for any losses or damages incurred by you or third parties arising from such alteration, modification, copy or </p>
<p>otherwise misappropriation of Renesas Electronics products. </p>
<p>5.</p>
<p> </p>
<p>Renesas Electronics products are classified according to the following two quality grades: &quot;Standard&quot; and &quot;High Quality&quot;. The intended </p>
<p>applications for each Renesas Electronics product depends on the product’s quality grade, as indicated below.  </p>
<p>&quot;Standard&quot;:          Computers; office equipment; communications equipment; test and measurement equipment; audio and visual equipment; </p>
<p>home electronic appliances; machine tools; personal electronic equipment; and industrial robots etc. </p>
<p>&quot;High Quality&quot;:   Transportation equipment (automobiles, trains, ships, etc.); traffic control (traffic lights); large-scale communication </p>
<p>equipment; key financial terminal systems; safety control equipment; etc. </p>
<p>Renesas Electronics products are neither intended nor authorized for use in products or systems that may pose a direct threat to human life or </p>
<p>bodily injury (artificial life support devices or systems, surgical implantations etc.), or may cause serious property damages (space and undersea </p>
<p>repeaters; nuclear power control systems; aircraft control systems; key plant systems; military equipment; etc.). Renesas Electronics disclaims any </p>
<p>and all liability for any damages or losses incurred by you or third parties arising from the use of any Renesas Electronics product for which the </p>
<p>product is not intended by Renesas Electronics. </p>
<p>6.</p>
<p> </p>
<p>When using the Renesas Electronics products, refer to the latest product information (data sheets, user’s manuals, application notes, &quot;General </p>
<p>Notes for Handling and Using Semiconductor Devices&quot; in the reliability handbook, etc.), and ensure that usage conditions are within the ranges </p>
<p>specified by Renesas Electronics with respect to maximum ratings, operating power supply voltage range, heat radiation characteristics, </p>
<p>installation, etc. Renesas Electronics disclaims any and all liability for any malfunctions or failure or accident arising out of the use of Renesas </p>
<p>Electronics products beyond such specified ranges. </p>
<p>7.</p>
<p> </p>
<p>Although Renesas Electronics endeavors to improve the quality and reliability of Renesas Electronics products, semiconductor products have </p>
<p>specific characteristics such as the occurrence of failure at a certain rate and malfunctions under certain use conditions. Further, Renesas </p>
<p>Electronics products are not subject to radiation resistance design. Please ensure to implement safety measures to guard them against the </p>
<p>possibility of bodily injury, injury or damage caused by fire, and social damage in the event of failure or malfunction of Renesas Electronics </p>
<p>products, such as safety design for hardware and software including but not limited to redundancy, fire control and malfunction prevention, </p>
<p>appropriate treatment for aging degradation or any other appropriate measures by your own responsibility as warranty for your products/system. </p>
<p>Because the evaluation of microcomputer software alone is very difficult and not practical, please evaluate the safety of the final products or </p>
<p>systems manufactured by you. </p>
<p>8.</p>
<p> </p>
<p>Please contact a Renesas Electronics sales office for details as to environmental matters such as the environmental compatibility of each Renesas </p>
<p>Electronics product. Please investigate applicable laws and regulations that regulate the inclusion or use of controlled substances, including </p>
<p>without limitation, the EU RoHS Directive carefully and sufficiently and use Renesas Electronics products in compliance with all these applicable </p>
<p>laws and regulations. Renesas Electronics disclaims any and all liability for damages or losses occurring as a result of your noncompliance with </p>
<p>applicable laws and regulations. </p>
<p>9.</p>
<p> </p>
<p>Renesas Electronics products and technologies shall not be used for or incorporated into any products or systems whose manufacture, use, or sale </p>
<p>is prohibited under any applicable domestic or foreign laws or regulations. You shall not use Renesas Electronics products or technologies for (1) </p>
<p>any purpose relating to the development, design, manufacture, use, stockpiling, etc., of weapons of mass destruction, such as nuclear weapons, </p>
<p>chemical weapons, or biological weapons, or missiles (including unmanned aerial vehicles (UAVs)) for delivering such weapons, (2) any purpose </p>
<p>relating to the development, design, manufacture, or use of conventional weapons, or (3) any other purpose of disturbing international peace and </p>
<p>security, and you shall not sell, export, lease, transfer, or release Renesas Electronics products or technologies to any third party whether directly </p>
<p>or indirectly with knowledge or reason to know that the third party or any other party will engage in the activities described above. When </p>
<p>exporting, selling, transferring, etc., Renesas Electronics products or technologies, you shall comply with any applicable export control laws and </p>
<p>regulations promulgated and administered by the governments of the countries asserting jurisdiction over the parties or transactions. </p>
<p>10.</p>
<p> </p>
<p>Please acknowledge and agree that you shall bear all the losses and damages which are incurred from the misuse or violation of the terms and </p>
<p>conditions described in this document, including this notice, and hold Renesas Electronics harmless, if such misuse or violation results from your </p>
<p>resale or making Renesas Electronics products available any third party. </p>
<p>11.</p>
<p> </p>
<p>This document shall not be reprinted, reproduced or duplicated in any form, in whole or in part, without prior written consent of Renesas </p>
<p>Electronics. </p>
<p>12.</p>
<p> </p>
<p>Please contact a Renesas Electronics sales office if you have any questions regarding the information contained in this document or Renesas </p>
<p>Electronics products. </p>
<p> </p>
<p>(Note 1)   &quot;Renesas Electronics&quot; as used in this document means Renesas Electronics Corporation and also includes its majority-owned </p>
<p>subsidiaries. </p>
<p>(Note 2)   &quot;Renesas Electronics product(s)&quot; means any product developed or manufactured by or for Renesas Electronics. </p>
<p> </p>
<p> </p>
<h1 style="page-break-before:always; "></h1>
<p> </p>
<p>4 </p>
<p><b> </b></p>
<p><b> </b></p>
<p><b> </b></p>
<p><b> </b></p>
<p><b> </b></p>
<p><b> </b></p>
<p><b> </b></p>
<p><b> </b></p>
<p><b> </b></p>
<p><b> </b></p>
<p><b> </b></p>
<p><b> </b></p>
<p><b> </b></p>
<p><b> </b></p>
<p><b> </b></p>
<p><b> </b></p>
<p><b> </b></p>
<p><b> </b></p>
<p><b> </b></p>
<p><b> </b></p>
<p><b> </b></p>
<p><b> </b></p>
<p><b> </b></p>
<p><b> </b></p>
<p><b> </b></p>
<p><b> </b></p>
<p><b> </b></p>
<p><b> </b></p>
<p><b> </b></p>
<p><b> </b></p>
<p><b> </b></p>
<p><b> </b></p>
<p><b> </b></p>
<p><b> </b></p>
<p><b> </b></p>
<p><b> </b></p>
<p><b> </b></p>
<p><b> </b></p>
<p><b> </b></p>
<p><b> </b></p>
<p><b> </b></p>
<p><b> </b></p>
<p><b> </b></p>
<p><b> </b></p>
<h1 style="page-break-before:always; "></h1>
<p> </p>
<p>5 </p>
<p><b>Abbreviations and Acronyms </b></p>
<p> </p>
<p><b>Abbreviation / Acronym </b></p>
<p><b>Description </b></p>
<p>ANSI </p>
<p>American National Standards Institute </p>
<p>API </p>
<p>Application Programming Interface </p>
<p>ARXML/arxml </p>
<p>AutosaR eXtensible Mark-up Language </p>
<p>ASIC </p>
<p>Application Specific Integration Circuit </p>
<p>AUTOSAR </p>
<p>AUTomotive Open System Architecture </p>
<p>BSW </p>
<p>Basic SoftWare </p>
<p>CPU </p>
<p>Central Processing Unit </p>
<p>CS </p>
<p>Chip Select </p>
<p>CSIH/CSIG </p>
<p>Enhanced Queued Clocked Serial Interface. </p>
<p>DEM/Dem </p>
<p>Diagnostic Event Manager </p>
<p>DET/Det </p>
<p>Development Error Tracer </p>
<p>DMA </p>
<p>Direct Memory Access </p>
<p>EB </p>
<p>External Buffer </p>
<p>ECU </p>
<p>Electronic Control Unit </p>
<p>EEPROM </p>
<p>Electrically Erasable Programmable Read-Only Memory </p>
<p>FIFO </p>
<p>First In First Out </p>
<p>GNU </p>
<p>GNU’s Not Unix </p>
<p>GPT </p>
<p>General Purpose Timer </p>
<p>HW </p>
<p>HardWare </p>
<p>IB </p>
<p>Internal Buffer </p>
<p>Id </p>
<p>Identifier </p>
<p>I/O </p>
<p>Input/Output </p>
<p>ISR </p>
<p>Interrupt Service Routine </p>
<p>MCAL </p>
<p>Microcontroller Abstraction Layer </p>
<p>MHz </p>
<p>Mega Hertz </p>
<p>MCU </p>
<p>Microcontroller unit </p>
<p>NA </p>
<p>Not Applicable </p>
<p>PLL </p>
<p>Phase Locked Loop </p>
<p>RAM </p>
<p>Random Access Memory </p>
<p>ROM </p>
<p>Read Only Memory </p>
<p>RTE </p>
<p>Run Time Environment </p>
<p>SPI </p>
<p>Serial Peripheral Interface </p>
<p>PDF </p>
<p>Parameter Definition File </p>
<p>DIO </p>
<p>Digital Input Output </p>
<p>WDT </p>
<p>Watchdog Timer </p>
<p>RUCG </p>
<p>Renesas Unified Code Generator </p>
<p>μC </p>
<p>Micro controller </p>
<p>XML </p>
<p>eXtensible Mark-up Language </p>
<p>ICU </p>
<p>Input Capture Unit </p>
<p>CAN </p>
<p>Controller Area Network </p>
<p>BUS </p>
<p>BUS Network </p>
<h1 style="page-break-before:always; "></h1>
<p> </p>
<p>6 </p>
<p>PWM </p>
<p>Pulse Width Modulation </p>
<p>PORT </p>
<p>Represents a whole configurable port on a microcontroller device </p>
<p>ADC </p>
<p>Analog to Digital Converter </p>
<p>LIN </p>
<p>Local Interconnect Network </p>
<p><b> </b></p>
<p><b>  Definitions </b></p>
<p><b> </b></p>
<p><b>Term</b></p>
<p> </p>
<p><b>Represented by</b></p>
<p> </p>
<p>Sl. No.</p>
<p> </p>
<p>Serial Number</p>
<p> </p>
<h1 style="page-break-before:always; "></h1>
<p> </p>
<p>7 </p>
<p><b>Table Of Contents </b></p>
<p> </p>
<p><b>Chapter 1</b></p>
<p> </p>
<p><b>Introduction ....................................................................... 11</b></p>
<p> </p>
<p><b>1.1.</b></p>
<p> </p>
<p><b>Document Overview ................................................................................................................ 13</b></p>
<p> </p>
<p><b>Chapter 2</b></p>
<p> </p>
<p><b>Reference Documents ...................................................... 15</b></p>
<p> </p>
<p><b>Chapter 3</b></p>
<p> </p>
<p><b>Integration And Build Process ......................................... 17</b></p>
<p> </p>
<p><b>3.1.</b></p>
<p> </p>
<p><b>SPI Driver Component Makefile ............................................................................................. 17</b></p>
<p> </p>
<p><b>Chapter 4</b></p>
<p> </p>
<p><b>Forethoughts ..................................................................... 19</b></p>
<p> </p>
<p><b>4.1.</b></p>
<p> </p>
<p><b>General...................................................................................................................................... 19</b></p>
<p> </p>
<p><b>4.2.</b></p>
<p> </p>
<p><b>Preconditions ........................................................................................................................... 27</b></p>
<p> </p>
<p><b>4.3.</b></p>
<p> </p>
<p><b>User Mode and Supervisor Mode ........................................................................................... 28</b></p>
<p> </p>
<p><b>4.4.</b></p>
<p> </p>
<p><b>Memory modes ........................................................................................................................ 29</b></p>
<p> </p>
<p><b>4.5.</b></p>
<p> </p>
<p><b>Data Consistency ..................................................................................................................... 30</b></p>
<p> </p>
<p><b>4.6.</b></p>
<p> </p>
<p><b>Deviation List ........................................................................................................................... 31</b></p>
<p> </p>
<p><b>Chapter 5</b></p>
<p> </p>
<p><b>Architecture Details .......................................................... 33</b></p>
<p> </p>
<p><b>Chapter 6</b></p>
<p> </p>
<p><b>Registers Details ............................................................... 37</b></p>
<p> </p>
<p><b>Chapter 7</b></p>
<p> </p>
<p><b>Interaction Between The User And SPI Driver Component </b></p>
<p><b> </b></p>
<p><b> ............................................................................................ 49</b></p>
<p> </p>
<p><b>7.1.</b></p>
<p> </p>
<p><b>Services Provided By SPI Driver Component To The User................................................. 49</b></p>
<p> </p>
<p><b>Chapter 8</b></p>
<p> </p>
<p><b>SPI Driver Component Header And Source File </b></p>
<p><b>Description  ............................................................................................ 51</b></p>
<p> </p>
<p><b>Chapter 9</b></p>
<p> </p>
<p><b>Generation Tool Guide ...................................................... 55</b></p>
<p> </p>
<p><b>Chapter 10</b></p>
<p> </p>
<p><b>Application Programming Interface ................................. 57</b></p>
<p> </p>
<p><b>10.1   Imported Types .............................................................................................................................. 57</b></p>
<p> </p>
<p>10.1.1   Standard Types ............................................................................................................ 57</p>
<p> </p>
<p>10.1.2   Other Module Types ..................................................................................................... 57</p>
<p> </p>
<p><b>10.2  Type Definitions .............................................................................................................................. 57</b></p>
<p> </p>
<p>    </p>
<p>Spi_ConfigType ........................................................................................................... 57</p>
<p> </p>
<p>    </p>
<p>Spi_StatusType ........................................................................................................... 57</p>
<p> </p>
<p>    </p>
<p>Spi_JobResultType ...................................................................................................... 58</p>
<p> </p>
<p>    </p>
<p>Spi_SeqResultType ..................................................................................................... 58</p>
<p> </p>
<p>    </p>
<p>Spi_DataType .............................................................................................................. 58</p>
<p> </p>
<p>    </p>
<p>Spi_NumberOfDataType ............................................................................................. 58</p>
<p> </p>
<p>    </p>
<p>Spi_ChannelType ........................................................................................................ 59</p>
<p> </p>
<p>    </p>
<p>Spi_JobType ................................................................................................................ 59</p>
<p> </p>
<p>    </p>
<p>Spi_SequenceType ..................................................................................................... 59</p>
<p> </p>
<h1 style="page-break-before:always; "></h1>
<p> </p>
<p>8 </p>
<p> </p>
<p> </p>
<p>Spi_HWUnitType ....................................................................................................... 59</p>
<p> </p>
<p> </p>
<p> </p>
<p>Spi_AsyncModeType ................................................................................................. 59</p>
<p> </p>
<p> </p>
<p> </p>
<p>Spi_CommErrorType ................................................................................................. 59</p>
<p> </p>
<p> </p>
<p> </p>
<p>Spi_HWErrorsType .................................................................................................... 60</p>
<p> </p>
<p> </p>
<p> </p>
<p>Spi_SelfTestType ...................................................................................................... 60</p>
<p> </p>
<p> </p>
<p> </p>
<p>Spi_ReturnStatus ....................................................................................................... 60</p>
<p> </p>
<p><b>10.3  Function Definitions ....................................................................................................................... 61</b></p>
<p> </p>
<p>10.3.1    Spi_Init ........................................................................................................................ 61</p>
<p> </p>
<p>10.3.2    Spi_DeInit .................................................................................................................... 62</p>
<p> </p>
<p>10.3.3    Spi_WriteIB ................................................................................................................. 62</p>
<p> </p>
<p>10.3.4    Spi_AsyncTransmit ..................................................................................................... 63</p>
<p> </p>
<p>10.3.5    Spi_ReadIB ................................................................................................................. 63</p>
<p> </p>
<p>10.3.6    Spi_SetupEB ............................................................................................................... 64</p>
<p> </p>
<p>10.3.7    Spi_GetStatus ............................................................................................................. 64</p>
<p> </p>
<p>10.3.8    Spi_GetJobResult ....................................................................................................... 65</p>
<p> </p>
<p>10.3.9    Spi_GetSequenceResult ............................................................................................. 65</p>
<p> </p>
<p>10.3.10    Spi_SyncTransmit ..................................................................................................... 66</p>
<p> </p>
<p>10.3.11    Spi_GetHWUnitStatus ............................................................................................... 66</p>
<p> </p>
<p>10.3.12    Spi_Cancel ................................................................................................................ 67</p>
<p> </p>
<p>10.3.13    Spi_SetAsyncMode ................................................................................................... 67</p>
<p> </p>
<p>10.3.14    Spi_GetVersionInfo ................................................................................................... 68</p>
<p> </p>
<p>10.3.15    Spi_MainFunction_Handling ..................................................................................... 69</p>
<p> </p>
<p>10.3.16    Spi_SelfTest .............................................................................................................. 69</p>
<p> </p>
<p>10.3.17    Spi_GetErrorInfo ....................................................................................................... 70</p>
<p> </p>
<p><b>Chapter 11</b></p>
<p> </p>
<p><b>Development And Production Errors .............................. 71</b></p>
<p> </p>
<p><b>11.1</b></p>
<p> </p>
<p><b>SPI Driver Component Development Errors ......................................................................... 71</b></p>
<p> </p>
<p><b>11.2</b></p>
<p> </p>
<p><b>SPI Driver Component Production Errors............................................................................. 72</b></p>
<p> </p>
<p><b>11.3</b></p>
<p> </p>
<p><b>SPI Driver Hardware Errors .................................................................................................... 73</b></p>
<p> </p>
<p>11.3.1   Data Consistency Check .............................................................................................. 73</p>
<p> </p>
<p>11.3.2   Parity Check ................................................................................................................. 73</p>
<p> </p>
<p>11.3.3   Overrun ........................................................................................................................ 73</p>
<p> </p>
<p><b>Chapter 12</b></p>
<p> </p>
<p><b>Memory Organization ....................................................... 75</b></p>
<p> </p>
<p><b>Chapter 13</b></p>
<p> </p>
<p><b>P1M Specific Information ................................................. 79</b></p>
<p> </p>
<p><b>13.1.</b></p>
<p> </p>
<p><b>Interaction Between The User And SPI Driver Component ................................................. 79</b></p>
<p> </p>
<p>13.1.1</p>
<p> </p>
<p>Translation Header File .............................................................................................. 79</p>
<p> </p>
<p>13.1.2</p>
<p> </p>
<p>Parameter Definition File ............................................................................................ 79</p>
<p> </p>
<p>13.1.3</p>
<p> </p>
<p>ISR Function ............................................................................................................... 80</p>
<p> </p>
<p><b>13.2.</b></p>
<p> </p>
<p><b>Sample Application ................................................................................................................. 82</b></p>
<p> </p>
<h1 style="page-break-before:always; "></h1>
<p> </p>
<p>9 </p>
<p>13.2.1</p>
<p> </p>
<p>Sample Application Structure ..................................................................................... 82</p>
<p> </p>
<p>13.2.2</p>
<p> </p>
<p>Building Sample Application ....................................................................................... 84</p>
<p> </p>
<p>13.2.2.1</p>
<p> </p>
<p>Configuration Example ............................................................................. 84</p>
<p> </p>
<p>13.2.2.2</p>
<p> </p>
<p>Debugging The Sample Application ......................................................... 84</p>
<p> </p>
<p><b>13.3.</b></p>
<p> </p>
<p><b>Memory And Throughput ........................................................................................................ 85</b></p>
<p> </p>
<p>13.3.1</p>
<p> </p>
<p>ROM/RAM Usage ....................................................................................................... 85</p>
<p> </p>
<p>13.3.2</p>
<p> </p>
<p>Stack Depth ................................................................................................................ 86</p>
<p> </p>
<p>13.3.3</p>
<p> </p>
<p>Throughput Details ..................................................................................................... 86</p>
<p> </p>
<p><b>Chapter 14</b></p>
<p> </p>
<p><b>Release Details .................................................................. 87</b></p>
<p> </p>
<h1 style="page-break-before:always; "></h1>
<p> </p>
<p>10 </p>
<p><b>List Of Figures </b></p>
<p><b> </b></p>
<p>Figure 1-1</p>
<p> </p>
<p>System Overview Of AUTOSAR Architecture ....................................................... 11</p>
<p> </p>
<p>Figure 1-2</p>
<p> </p>
<p>System Overview Of The SPI Driver In AUTOSAR MCAL Layer .......................... 12</p>
<p> </p>
<p>Figure 4-1</p>
<p> </p>
<p>Chip select behavior when SpiCSInactiveAfterlastdata is False and </p>
<p>SpiCsIdleEnforcement is True ............................................................................... 21</p>
<p> </p>
<p>Figure 4-2</p>
<p> </p>
<p>Chip select behavior when SpiCSInactiveAfterlastdata is True and </p>
<p>SpiCsIdleEnforcement is True ............................................................................... 22</p>
<p> </p>
<p>Figure 4-3</p>
<p> </p>
<p>Chip select behavior when SpiCSInactiveAfterlastdata is True and </p>
<p>SpiCsIdleEnforcement is False.............................................................................. 22</p>
<p> </p>
<p>Figure 4-4</p>
<p> </p>
<p>Chip select behavior when SpiCSInactiveAfterlastdata is False and </p>
<p>SpiCsIdleEnforcement is False.............................................................................. 23</p>
<p> </p>
<p>Figure 5-1</p>
<p> </p>
<p>SPI Driver Architecture .......................................................................................... 33</p>
<p> </p>
<p>Figure 5-2</p>
<p> </p>
<p>Component Overview Of SPI Driver Component .................................................. 34</p>
<p> </p>
<p>Figure 13-1</p>
<p> </p>
<p>Overview Of SPI Driver Sample Application .......................................................... 82</p>
<p> </p>
<p> </p>
<p> </p>
<p><b>List Of Tables </b></p>
<p><b> </b></p>
<p>Table 4-1 </p>
<p>Table for Chip Select behavior .............................................................................. 21 </p>
<p>Table 4-2 </p>
<p>List of parameters in Channel container that are linked to the registers. .............. 24 </p>
<p>Table 4-3 </p>
<p>List of parameters in Job container that are linked to the registers. ...................... 24 </p>
<p>Table 4-4 </p>
<p>List of parameters in External Device container that are linked to the registers. .. 25 </p>
<p>Table 4-5 </p>
<p>User Mode and Supervisory Mode ........................................................................ 28 </p>
<p>Table 4-6 </p>
<p>HW unit and Memory Mode Selection ................................................................... 29 </p>
<p>Table 4-7 </p>
<p>SPI Driver Protected Resources List ..................................................................... 30 </p>
<p>Table 4-8 </p>
<p>SPI Driver Deviation List ........................................................................................ 31 </p>
<p>Table 6-1   </p>
<p>Register Details...................................................................................................... 37 </p>
<p>Table 8-1 </p>
<p>Description Of The SPI Driver Component Files ................................................... 52 </p>
<p>Table 10-1             The APIs provided by the SPI Driver Component .................................................. 61 </p>
<p>Table 11-1 </p>
<p>DET Errors Of SPI Driver Component ................................................................... 71 </p>
<p>Table 11-2 </p>
<p>DEM Errors Of SPI Driver Component .................................................................. 72 </p>
<p>Table 13-1 </p>
<p>PDF information for P1M ....................................................................................... 79 </p>
<p>Table 13-2 </p>
<p>Interrupt Handler .................................................................................................... 80 </p>
<p>Table 13-3 </p>
<p>ROM/RAM Details without DET ............................................................................. 85 </p>
<p>Table 13-4 </p>
<p>ROM/RAM Details with DET .................................................................................. 85 </p>
<p>Table 13-5 </p>
<p>Throughput Details Of The APIs ............................................................................ 86 </p>
<p> </p>
<p> </p>
<p> </p>
<h1 style="page-break-before:always; "></h1>
<p><b>Introduction                                                                                                                             Chapter 1 </b></p>
<p> </p>
<p>11 </p>
<p><b>Chapter 1 </b></p>
<p><b>Introduction </b></p>
<p> </p>
<p> </p>
<p>The purpose of this document is to describe the information related to SPI </p>
<p>Driver Component for Renesas P1x microcontrollers. </p>
<p> </p>
<p>This document shall be used as reference by the users of SPI Driver </p>
<p>Component. The system overview of complete AUTOSAR architecture is </p>
<p>shown in the below Figure: </p>
<p> </p>
<p> </p>
<p> </p>
<p>Application Layer </p>
<p> </p>
<p> </p>
<p> </p>
<p>AUTOSAR  RTE</p>
<p> </p>
<p> </p>
<p> </p>
<p>System Services </p>
<p> </p>
<p> </p>
<p> </p>
<p>On board Device Abstraction </p>
<p> </p>
<p> </p>
<p> </p>
<p><b>SPI Driver </b></p>
<p> </p>
<p> </p>
<p> </p>
<p>Microcontroller </p>
<p> </p>
<p> </p>
<p><b>Figure 1-1 </b></p>
<p><b>System Overview Of AUTOSAR Architecture </b></p>
<p> </p>
<p>The SPI Driver is part of the Microcontroller Abstraction Layer (MCAL), the </p>
<p>lowest layer of Basic Software in the AUTOSAR environment. </p>
<h1 style="page-break-before:always; "></h1>
<p><b>Chapter 1                                                                                                                             Introduction                                                                                                                              </b></p>
<p> </p>
<p>12 </p>
<p>PORT Driver </p>
<p>DIO </p>
<p>DIO Driver </p>
<p>ADC </p>
<p>ADC Driver </p>
<p>PWM Driver </p>
<p>ICU </p>
<p>ICU Driver </p>
<p>FlexRay Driver </p>
<p>CAN </p>
<p>CAN Driver </p>
<p>LIN Driver </p>
<p><b>SPI Handler Driver </b></p>
<p>SPI </p>
<p>internal EEPROM Driver </p>
<p>internal Flash Driver </p>
<p>PWM </p>
<p>external Flash Driver </p>
<p>RAM Test </p>
<p>Core Test </p>
<p>MCU Driver </p>
<p>Watchdog Driver </p>
<p>GPT Driver </p>
<p>LIN or </p>
<p>SCI </p>
<p>EEPRO </p>
<p>M </p>
<p>FLASH </p>
<p>Ext. BUS </p>
<p>MCU </p>
<p>Power &amp; </p>
<p>Clock   </p>
<p>Unit </p>
<p> </p>
<p>N </p>
<p>Unit </p>
<p>GPT </p>
<p>WDT </p>
<p> </p>
<p>The Figure in the following page depicts the SPI Driver as part of layered </p>
<p>AUTOSAR MCAL Layer:</p>
<p> </p>
<p> </p>
<p> </p>
<p>M icrocont roller Drivers </p>
<p>Me mo r y Drivers </p>
<p>Communication  Drivers </p>
<p>I/O  Drivers </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p><b>Micro - </b></p>
<p><b>Controller </b></p>
<p> </p>
<p> </p>
<p><b>Figure 1-2 </b></p>
<p><b>System Overview Of The SPI Driver In AUTOSAR MCAL Layer </b></p>
<p> </p>
<p> </p>
<p>The SPI Driver Component comprises Embedded software and the </p>
<p>Configuration Tool to achieve scalability and configurability. </p>
<p> </p>
<p>The SPI Driver component code Generation Tool is a command line tool that accepts ECU </p>
<p>configuration description files as input and generates source and header files. The </p>
<p>configuration description is an ARXML file that contains information about the configuration for </p>
<p>SPI Driver. The tool generates the Spi_PBcfg.c, Spi_Lcfg.c, Spi_Cfg.h and Spi_Cbk.h. </p>
<p> </p>
<p>The SPI driver provides services for reading from and writing to devices connected </p>
<p>through SPI buses. It provides access to SPI communication to several users (For </p>
<p>example, EEPROM, I/O ASICs). It also provides the required mechanism to configure the </p>
<p>on-chip SPI peripheral. </p>
<h1 style="page-break-before:always; "></h1>
<p><b>Introduction                                                                                                                             Chapter 1 </b></p>
<p> </p>
<p>13 </p>
<p><b>1.1. </b></p>
<p><b>Document Overview </b></p>
<p> </p>
<p> </p>
<p>The document has been segmented for easy reference. The table below </p>
<p>provides user with an overview of the contents of each section: </p>
<p> </p>
<p> </p>
<p><b>Section</b></p>
<p> </p>
<p><b>Contents</b></p>
<p> </p>
<p>Section 1 (Introduction)</p>
<p> </p>
<p>This section provides an introduction and overview of SPI Driver </p>
<p>Component.</p>
<p> </p>
<p>Section 2 (Reference Documents)</p>
<p> </p>
<p>This section lists the documents referred for developing this document.</p>
<p> </p>
<p>Section 3 (Integration And Build </p>
<p>Process)</p>
<p> </p>
<p>This section explains the folder structure, Makefile structure for SPI </p>
<p>Driver Component. This section also explains about the Makefile </p>
<p>descriptions, Integration of SPI Driver Component with other </p>
<p>components, building the SPI Driver Component along with a sample </p>
<p>application.</p>
<p> </p>
<p>Section 4 (Forethoughts)</p>
<p> </p>
<p>This section provides brief information about the SPI Driver Component, </p>
<p>the preconditions that should be known to the user before it is used, </p>
<p>memory modes, data consistency details, deviation list and Support For </p>
<p>Different Interrupt Categories.</p>
<p> </p>
<p>Section 5 (Architecture Details)</p>
<p> </p>
<p>This section describes the layered architectural details of the SPI Driver </p>
<p>Component.</p>
<p> </p>
<p>Section 6 (Register Details)</p>
<p> </p>
<p>This section describes the register details of SPI Driver Component.</p>
<p> </p>
<p>Section 7 (Interaction Between </p>
<p>User And SPI Driver Component)</p>
<p> </p>
<p>This section describes interaction of the SPI Driver Component with the </p>
<p>upper layers.</p>
<p> </p>
<p>Section 8 (SPI Driver Component </p>
<p>Header And Source File </p>
<p>Description)</p>
<p> </p>
<p>This section provides information about the SPI Driver Component </p>
<p>source files is mentioned. This section also contains the brief note on the </p>
<p>tool generated output file.</p>
<p> </p>
<p>Section 9 (Generation Tool Guide)</p>
<p> </p>
<p>This section provides information on the SPI Driver Component Code </p>
<p>Generation Tool.</p>
<p> </p>
<p>Section 10 (Application </p>
<p>Programming Interface)</p>
<p> </p>
<p>This section explains all the APIs provided by the SPI Driver Component.</p>
<p> </p>
<p>Section 11 (Development And </p>
<p>Production Errors)</p>
<p> </p>
<p>This section lists the DET ,DEM errors and hardware errors.</p>
<p> </p>
<p>Section 12 (Memory </p>
<p>Organization)</p>
<p> </p>
<p>This section provides the typical memory organization, which must be </p>
<p>met for proper functioning of component.</p>
<p> </p>
<p>Section 13(P1M </p>
<p>Specific information)</p>
<p> </p>
<p>This section provides P1M specific information also the information </p>
<p>about linker compiler and sample application.</p>
<p> </p>
<p>Section 14 (Release Details)</p>
<p> </p>
<p>This section provides release details with version name and base </p>
<p>version.</p>
<p> </p>
<h1 style="page-break-before:always; "></h1>
<p><b>Chapter 1                                                                                                                             Introduction                                                                                                                              </b></p>
<p> </p>
<p>14 </p>
<p> </p>
<h1 style="page-break-before:always; "></h1>
<p><b>Reference Documents </b></p>
<p><b>Chapter 2</b></p>
<p> </p>
<p> </p>
<p>15 </p>
<p> </p>
<p><b>Chapter 2 </b></p>
<p><b>Reference Documents </b></p>
<p> </p>
<p> </p>
<p><b>Sl. No.</b></p>
<p> </p>
<p><b>Title</b></p>
<p> </p>
<p><b>Version</b></p>
<p> </p>
<p>1. </p>
<p>Autosar R4.0 </p>
<p>AUTOSAR_SWS_SPIHandlerDriver.pdf </p>
<p>3.2.0 </p>
<p>2. </p>
<p>AUTOSAR BUGZILLA (http://www.autosar.org/bugzilla) </p>
<p>Note: AUTOSAR BUGZILLA is a database, which contains concerns raised </p>
<p>against information present in AUTOSAR Specifications. </p>
<p>- </p>
<p>3. </p>
<p>r01uh0436ej0120_rh850p1x.pdf </p>
<p>1.20 </p>
<p>4. </p>
<p>Autosar R4.0 </p>
<p>AUTOSAR_SWS_CompilerAbstraction.pdf </p>
<p>3.2.0 </p>
<p>5. </p>
<p>Autosar R4.0 </p>
<p>AUTOSAR_SWS_MemoryMapping.pdf </p>
<p>1.4.0 </p>
<p>6. </p>
<p>Autosar R4.0 </p>
<p>AUTOSAR_SWS_PlatformTypes.pdf </p>
<p>2.5.0 </p>
<p>7. </p>
<p>Autosar R4.0 </p>
<p>AUTOSAR_BSW_MakefileInterface.pdf </p>
<p>0.3 </p>
<h1 style="page-break-before:always; "></h1>
<p><b>Chapter 2                                                                                                             Reference Documents </b></p>
<p> </p>
<p>16 </p>
<h1 style="page-break-before:always; "></h1>
<p><b>Integration And Build Process </b></p>
<p><b>Chapter 3</b></p>
<p> </p>
<p> </p>
<p>17 </p>
<p> </p>
<p><b>Chapter 3 </b></p>
<p><b>Integration And Build Process </b></p>
<p> </p>
<p> </p>
<p>In this section the folder structure of the SPI Driver Component is explained. </p>
<p>Description of the Makefiles along with samples is provided in this section. </p>
<p> </p>
<p> </p>
<p><b>Remark </b></p>
<p>The details about the C Source and Header files that are generated by the </p>
<p>SPI Driver Generation Tool are mentioned in the               </p>
<p>“R20UT3727EJ0101-AUTOSAR.pdf”. </p>
<p> </p>
<p><b>3.1. </b></p>
<p><b>SPI Driver Component Makefile </b></p>
<p> </p>
<p> </p>
<p>The Makefile provided with the SPI Driver Component consists of the GNU </p>
<p>Make compatible script to build the SPI Driver Component in case of any </p>
<p>change in the configuration. This can be used in the upper level Makefile (of </p>
<p>the application) to link and build the final application executable. </p>
<p> </p>
<p> </p>
<p><b>3.1.1. </b></p>
<p><b>Folder Structure </b></p>
<p> </p>
<p>The files are organized in the following folders: </p>
<p> </p>
<p><b>Remark </b></p>
<p>Trailing slash ‘\’ at the end indicates a folder </p>
<p> </p>
<p>X1X\common_platform\modules\spi\src\ Spi_Driver.c </p>
<p> </p>
<p>\ Spi.c </p>
<p> </p>
<p>\ Spi_Scheduler.c </p>
<p> </p>
<p>\Spi_Irq.c </p>
<p> </p>
<p>\Spi_Ram.c </p>
<p> </p>
<p>\Spi_Version.c </p>
<p> </p>
<p> </p>
<p>X1X\common_platform\modules\spi\include\Spi_Driver.h </p>
<p> </p>
<p>\Spi.h </p>
<p>  </p>
<p>\Spi_Scheduler.h </p>
<p> </p>
<p>\Spi_Irq.h </p>
<p> </p>
<p>\Spi_LTTypes.h </p>
<p> </p>
<p>\Spi_PBTypes.h </p>
<p> </p>
<p>\Spi_Ram.h </p>
<p> </p>
<p>\Spi_Version.h </p>
<p> </p>
<p>\Spi_Types.h </p>
<p> </p>
<p>\Spi_RegWrite.h </p>
<p> </p>
<p>X1X\P1x\modules\spi\Sample_application\&lt;SubVariant&gt;\make\&lt;Compiler&gt; </p>
<p>                                                                  </p>
<p>\App_SPI_P1M_Sample.mak </p>
<p> </p>
<h1 style="page-break-before:always; "></h1>
<p><b>Chapter 3                                                                                             Integration And Build Process </b></p>
<p><b> </b></p>
<p>18 </p>
<p> </p>
<p>X1X\P1x\modules\spi\Sample_application\&lt;SubVariant&gt;\obj\ &lt;compiler&gt; </p>
<p> </p>
<p>X1X\common_platform\modules\spi\generator\Spi_X1x.dll </p>
<p> </p>
<p>X1X\common_platform\modules\spi\generator\</p>
<p> </p>
<p>Spi_X1x.cfgxml </p>
<p> </p>
<p>tools/RUCG/RUCG.exe </p>
<p> </p>
<p>X1X\P1x\common_family\generator </p>
<p>\Sample_Application_P1x.trxml </p>
<p>\P1x_translation.h </p>
<p> </p>
<p>X1X\P1x\modules\spi\generator </p>
<p>\R403_SPI_P1x_BSWMDT.arxml </p>
<p> </p>
<p> </p>
<p>X1X\P1x\modules\spi\user_manual </p>
<p> </p>
<p>(User manuals will be available in this folder) </p>
<p> </p>
<p><b>Notes:</b> </p>
<p><b>1. </b></p>
<p>&lt;Compiler&gt; can be ghs. </p>
<p> </p>
<p><b>2. </b></p>
<p>&lt;SubVariant&gt; can be P1M. </p>
<p> </p>
<p><b>3. </b></p>
<p>&lt;AUTOSAR_version&gt; can be 4.0.3. </p>
<p> </p>
<p> </p>
<h1 style="page-break-before:always; "></h1>
<p><b>  Forethoughts </b></p>
<p><b> </b></p>
<p><b>  Chapter 4</b></p>
<p> </p>
<p>19 </p>
<p><b>Chapter 4 </b></p>
<p><b>Forethoughts </b></p>
<p> </p>
<p> </p>
<p><b>4.1. </b></p>
<p><b>General </b></p>
<p> </p>
<p>Following information will aid the user to use the SPI Driver Component </p>
<p>software efficiently: </p>
<p> </p>
<p>• </p>
<p>SPI  Driver  component  does  not  take  care  of  setting  the  registers  which </p>
<p>configure clock, prescaler and PLL. </p>
<p> </p>
<p>• </p>
<p>SPI Driver component handles only the Master mode. </p>
<p> </p>
<p>• </p>
<p>SPI Driver component supports full-duplex mode. </p>
<p> </p>
<p>• </p>
<p>The  chip  select  is  implemented  using  the  microcontroller  pins  and  it  is </p>
<p>configurable. </p>
<p> </p>
<p>• </p>
<p>The required initialization of the port pins configured for chip select has to </p>
<p>be performed by the Port Driver Component. </p>
<p> </p>
<p>• </p>
<p>The microcontroller pins used for chip select is directly accessed by the SPI </p>
<p>Driver component without using the APIs of DIO module. </p>
<p> </p>
<p>• </p>
<p>The SPI Handler/Driver interface configuration is  based on Channels, Jobs </p>
<p>and Sequences.The Data transmissions will be done according to Channels, </p>
<p>Jobs and Sequences configuration parameters. </p>
<p> </p>
<p>• </p>
<p>Maximum number of channels and sequences configurable is 256 and job </p>
<p>is 65536. </p>
<p> </p>
<p>• </p>
<p>The scope is restricted to post-build with multiple configuration sets. </p>
<p> </p>
<p>• </p>
<p>The identifiers for channels, jobs and sequences entered by the user should </p>
<p>start from 0 and should be continuous. </p>
<p> </p>
<p>• </p>
<p>The width of the transmitted data unit is configurable and the valid values </p>
<p>are 8 bits to 32 bits. </p>
<p> </p>
<p>• </p>
<p>The  number  of  channels,  jobs  and  sequences  should  be  same  across </p>
<p>multiple configuration sets. </p>
<p> </p>
<p>• </p>
<p>The channels, jobs and sequences cannot be deleted or added at post-build </p>
<p>time. </p>
<p> </p>
<p>• </p>
<p>The channel data received shall be stored in 1 entry deep internal buffers </p>
<p>by channel. The SPI Handler/Driver shall not take care of the overwriting of </p>
<p>these “receive” buffers by another transmission on the same channel. </p>
<p> </p>
<p>• </p>
<p>The channel data to be transmitted shall be copied in 1 entry deep internal </p>
<p>buffers by channel. The SPI Handler/Driver cannot prevent overwriting of </p>
<p>these “transmit” buffers by users during transmissions. </p>
<p> </p>
<p>• </p>
<p>If </p>
<p>different </p>
<p>Jobs </p>
<p>(and </p>
<p>consequently </p>
<p>also </p>
<p>Sequences) </p>
<p>have </p>
<p>common </p>
<p>Channels,  the  SPI  Handler/Driver’  environment  should  ensure  that  read </p>
<p>and/or write functions are not called during transmission. </p>
<p> </p>
<p>• </p>
<p>If a Job contains more than one Channel, all Channels contained have the </p>
<p>same Job properties during transmission and are linked together statically. </p>
<p> </p>
<p>• </p>
<p>The SPI hardware unit cannot be deleted or added at post–build time. But, </p>
<p>the reassignment of the SPI hardware units to different jobs is possible at </p>
<p>post-build time. </p>
<p> </p>
<p>• </p>
<p>The  DMA  unit  cannot  be  deleted  or  added  at  post–build  time.  But,  the </p>
<p>reassignment of DMA units to the SPI hardware units is possible at post- </p>
<h1 style="page-break-before:always; "></h1>
<p><b>Chapter 4                                                                                                                        Forethoughts </b></p>
<p><b> </b></p>
<p>20 </p>
<p>build time. </p>
<p>• </p>
<p>When the level of scalable functionality is configured as 1, then the   SPI </p>
<p>Handler/Driver offers an asynchronous transfer service for SPI buses. An </p>
<p>asynchronous  transmission  means  that  the  user  calling  the  transmission </p>
<p>service is not blocked when the transmission is ongoing. </p>
<p> </p>
<p>• </p>
<p>When the  level  of scalable functionality is configured as 2, then  two SPI </p>
<p>buses using separate hardware units are required. In this case, the SPI bus </p>
<p>dedicated for synchronous transmission is configurable. </p>
<p> </p>
<p>• </p>
<p>When the level of scalable functionality is configured as 2, two modes of </p>
<p>asynchronous  communication  using  polling  or  interrupt  mechanism  are </p>
<p>possible. These modes are selectable during execution time. </p>
<p> </p>
<p>• </p>
<p>When the level of scalable functionality is configured as 1 or 2, If interrupt </p>
<p>mechanism </p>
<p>is </p>
<p>selected </p>
<p>during </p>
<p>execution </p>
<p>time, </p>
<p>the </p>
<p>transmission </p>
<p>and </p>
<p>reception  will  be  performed  using  the  on-chip  DMA  unit  only  if  the  DMA </p>
<p>mode is enabled through the configuration.  </p>
<p> </p>
<p>• </p>
<p>The LEVEL 2 SPI Handler is specified for microcontrollers that have to provide </p>
<p>at least two SPI busses using separated hardware units. Otherwise, using this </p>
<p>level of functionality makes no sense. </p>
<p> </p>
<p>• </p>
<p>When Level Delivered is 0 and 2, the memory mode configured for jobs linked </p>
<p>for the synchronous sequence shall be always Direct Access Mode only. </p>
<p> </p>
<p>• </p>
<p>The SPI Handler/Driver is not allowed to suspend a Sequence transmission </p>
<p>already started in favour of another Sequence in case of  Non-Interruptible </p>
<p>Sequences </p>
<p> </p>
<p>• </p>
<p>If user configures 32 bit IB and EB channels and additionally configures DMA </p>
<p>in direct access mode there will be a generator error message. </p>
<p> </p>
<p>• </p>
<p>When  the  SPI  driver  is  configured  in  Level  2  (SpiLevelDelivered)  and  the </p>
<p>DMA is also configured (SpiDmaMode), then the asynchronous mode needs </p>
<p>to be set for interrupt mode using the API Spi_SetAsyncMode. </p>
<p> </p>
<p>• </p>
<p>The SPI DMA type is specified by the parameter SPI_DMA_TYPE_USED. </p>
<p> </p>
<p><b>Note: </b>The DMA will work whenever the DMA access for the LOCAL RAM, </p>
<p>which  is  having  PE  guard  protection  is  enabled  (this  can  be  done  by </p>
<p>configuring the PE guard registers.) </p>
<p> </p>
<p>• </p>
<p>Direct  Access  mode  can  be  effectively  used  in  case  of  sequence  having </p>
<p>channels and buffers of significantly different properties. </p>
<p> </p>
<p>• </p>
<p>Double Buffer mode can be effectively used in case of sequence having more </p>
<p>number  of  jobs,  channels  and  buffers  with  same  hardware  properties  for </p>
<p>continuous  transmission  of  data.  For  double  buffer  mode  only  usage  of </p>
<p>internal buffers is allowed. FIFO mode can be effectively used at the time of </p>
<p>transmit/receive of large amount of data. FIFO mode can also be used in case </p>
<p>of sequence having lesser number of jobs and having more channels and </p>
<p>buffers. </p>
<p> </p>
<p>• </p>
<p>In case size of buffers is more than the hardware buffer size i.e. 128 words, </p>
<p>an interrupt will occur after every 128 words are transmitted where the </p>
<p>hardware buffer will be loaded with the remaining buffers to be transmitted. </p>
<p> </p>
<p> </p>
<p> </p>
<h1 style="page-break-before:always; "></h1>
<p><b>  Forethoughts </b></p>
<p><b> </b></p>
<p><b>  Chapter 4</b></p>
<p> </p>
<p>21 </p>
<p> </p>
<p> </p>
<p> </p>
<p>• </p>
<p>In a particular configurations where CSIH HW units are configured, Spi_Init </p>
<p>function must be called before Port_Init function. </p>
<p> </p>
<p>• </p>
<p>Only if &quot;SpiCsInactiveAfterLastData&quot; parameter is set to &quot;true&quot;, the PWR bit </p>
<p>in CSI hardware will be cleared for that hardware unit, so setting &quot;false&quot; value </p>
<p>can lead to unnecessary power consumption. </p>
<p> </p>
<p>• </p>
<p>When “SpiCsIdleEnforcement” is set to true for the jobs configured for CSIH </p>
<p>Hw units, the value configured for &quot;SpiCsInactive&quot; will not have any impact in </p>
<p>actual Chip Select behavior&quot;. </p>
<p> </p>
<p>• </p>
<p>The parameter &quot;SpiCsIdleEnforcement&quot; influences the behavior of idle level </p>
<p>of the chip select during data transfer and after the transmission of a job. </p>
<p> </p>
<p>• </p>
<p>When  the  parameter  'SpiCsIdleEnforcement'  is  configured  as  false,  the </p>
<p>corresponding chip select is deactivated before every channel transmission </p>
<p>and  stays  active  after  transmission  until  another  job  with  different  CS  is </p>
<p>transmitted. </p>
<p> </p>
<p>• </p>
<p>When the parameter 'SpiCsIdleEnforcement' is configured as true, the chip </p>
<p>select is deactivated after job transmission. An idle phase of CS is inserted </p>
<p>between transmissions of two data buffers. The duration of idle state of the </p>
<p>chip select between the channels transmissions will be less than duration of </p>
<p>idle state of the chip select between single data of each channel. </p>
<p> </p>
<p>• </p>
<p>In CSIG,CS is active during the whole job transmission independently of data </p>
<p>and is set to inactive state after job is finished. </p>
<p>  </p>
<p><b> </b></p>
<p><b>Table 4-1 </b></p>
<p><b>Table for Chip Select behavior </b></p>
<p>Figure </p>
<p>SpiCSInactiveAfterlastdata </p>
<p>SpiCsIdleEnforcement </p>
<p>4-1 </p>
<p>FALSE </p>
<p>TRUE </p>
<p>4-2 </p>
<p>TRUE </p>
<p>TRUE </p>
<p>4-3 </p>
<p>TRUE </p>
<p>FALSE </p>
<p>4-4 </p>
<p>FALSE </p>
<p>FALSE </p>
<p> </p>
<p> </p>
<p> </p>
<p><b>Note: </b>In the below figures, the signal represented in Yellow is the clock signal </p>
<p>and the Blue signal is the chip select signal.</p>
<p> </p>
<p> </p>
<p> </p>
<p><b>Figure 4-1  Chip select behavior when SpiCSInactiveAfterlastdata is </b></p>
<p><b>False and SpiCsIdleEnforcement is True </b></p>
<p><b> </b></p>
<h1 style="page-break-before:always; "></h1>
<p><b>  Chapter 4                                                                                                                            Forethoughts </b></p>
<p>22 </p>
<p> </p>
<p><b>Note: </b>If ‘SpiCsIdleEnforcement’ is TRUE, Chip select will get deactivated after </p>
<p>transmission </p>
<p>is </p>
<p>over, </p>
<p>even </p>
<p>if </p>
<p>‘SpiCSInactiveAfterlastdata’ </p>
<p>is </p>
<p>configured </p>
<p>as </p>
<p>FALSE.</p>
<p><b> </b></p>
<p> </p>
<p><b>Figure 4-2  Chip select behavior when SpiCSInactiveAfterlastdata is </b></p>
<p><b>True and SpiCsIdleEnforcement is True </b></p>
<p><b> </b></p>
<p> </p>
<p> </p>
<p><b>Figure 4-3  Chip select behavior when SpiCSInactiveAfterlastdata is </b></p>
<p><b>True and SpiCsIdleEnforcement is False  </b></p>
<p><b>Note:</b></p>
<p> </p>
<p><b>1.</b> The expected CS behavior may not be observed at high baud rates in case of </p>
<p>Asynchronous transmission using Direct Access Mode, due to general limitation </p>
<p>of the serial controllers. </p>
<p><b>2.</b> CS state can be held for Asynchronous transmission by using buffer modes </p>
<p>like FIFO. </p>
<p><b>3.</b> </p>
<p>When </p>
<p>channel </p>
<p>properties </p>
<p>are </p>
<p>different </p>
<p>and </p>
<p>SpiCsIdleEnforcement </p>
<p>is </p>
<p>configured as False, then the corresponding chip select will be deactivated after </p>
<p>each channel transmission.</p>
<p> </p>
<h1 style="page-break-before:always; "></h1>
<p><b>  Forethoughts </b></p>
<p><b> </b></p>
<p><b>  Chapter 4</b></p>
<p> </p>
<p>23 </p>
<p> </p>
<p> </p>
<p><b>Figure 4-4  Chip select behavior when SpiCSInactiveAfterlastdata is </b></p>
<p><b>False and SpiCsIdleEnforcement is False </b></p>
<p><b> </b></p>
<p> </p>
<p>This information is valid only for DIRECT ACCES MODE. </p>
<p> </p>
<p>• </p>
<p>For availability of Data Consistency  Check on the port pins,  please refer </p>
<p>respective microcontroller user manual. </p>
<p>• </p>
<p>Sequences assigned to a hardware channel (CSIHx) which is configured to </p>
<p>work  with  transmit  only  memory  mode  can  be  an  interruptible  or  non- </p>
<p>interruptible </p>
<p>sequence </p>
<p>(specified </p>
<p>by </p>
<p>the </p>
<p>parameter </p>
<p>SpiInterruptibleSequence). </p>
<p>However, </p>
<p>even </p>
<p>if </p>
<p>the </p>
<p>sequence </p>
<p>is </p>
<p>non- </p>
<p>interruptible,  it  can  still  be  interrupted  by  CPU-controlled  high  priority </p>
<p>communication functionality. I.e. the parameter SpiInterruptibleSequence is </p>
<p>valid only for software interruption. </p>
<p> </p>
<p>• </p>
<p>Each of the high priority sequences shall refer to a unique chip select line. </p>
<p> </p>
<p> </p>
<p> </p>
<p>        These lines shall not be referred by any of the low priority sequences too. </p>
<p> </p>
<p>• </p>
<p>In </p>
<p>order </p>
<p>to </p>
<p>support </p>
<p>DEEPSTOP </p>
<p>functionality </p>
<p>without </p>
<p>resetting </p>
<p>the </p>
<p>microcontroller,  the  re  initialization  of  the  Driver  using  Spi_Init  API  is </p>
<p>supported. </p>
<p>To </p>
<p>achieve </p>
<p>this </p>
<p>functionality </p>
<p>the </p>
<p>'SPI_E_ALREADY_INITIALIZED' Det error check is to be suppressed using </p>
<p>‘SpiAlreadyInitDetCheck’  parameter  when  DET  is  enabled. When  DET  is </p>
<p>disabled there is no impact of “SpiAlreadyInitDetCheck” parameter. </p>
<p> </p>
<p>• </p>
<p>In  a  Hardware  channel  which  has  sequences  working  with  transmit  only </p>
<p>mode and is of high priority, if there is a request for transmission of high </p>
<p>priority sequence, then it will interrupt an ongoing sequence with transmit </p>
<p>only mode if the sequence is non-interruptible. </p>
<p> </p>
<p>• </p>
<p>When the sequence is getting transmitted with transmit only mode, if there </p>
<p>is  a  request  for  high  priority  sequence,  the  ongoing  sequence  will  be </p>
<p>interrupted after the ongoing job is finished and memory mode will switch </p>
<p>from transmit only mode to direct access mode automatically for high priority </p>
<p>sequence transmission and after its completion, the interrupted sequence </p>
<p>will resume transmission in transmit only mode.  </p>
<p> </p>
<p>•     MCTL1, MCTL2 and CSIHnMRWP0 registers are allowed to be  accessed         </p>
<p>when there is an ongoing communication only when PWR is set. </p>
<p> </p>
<p>• </p>
<p>Manual transmission is possible only in Direct Access and FIFO modes. </p>
<p>However user has to implement his own ISRs for SPI. In case he wants to </p>
<p>use Renesas SPI driver transmission in parallel, he has to call Renesas SPI </p>
<p>ISRs functions from his custom ISRs (e.g. use different interrupt category </p>
<p>mode). </p>
<p> </p>
<h1 style="page-break-before:always; "></h1>
<p><b>  Chapter 4                                                                                                                            Forethoughts </b></p>
<p>24 </p>
<p> </p>
<p>• </p>
<p>The  file  Interrupt_VectorTable.c  provided  is  just  a  Demo  and  not  all </p>
<p>interrupts  will  be  mapped  in  this  file.  So  the  user  has  to  update  the </p>
<p>Interrupt_VectorTable.c as per his configuration. </p>
<p> </p>
<p>• </p>
<p>The notifications should be called from user’s complex driver ISRs </p>
<p> </p>
<p>• </p>
<p>High values for parameter ‘SpiCsHoldTiming’should not be used with </p>
<p>Synchronous Transmit function but if it is used, user should make sure that </p>
<p>next consecutive SPI action happens after CS hold time expired. </p>
<p> </p>
<p>• </p>
<p>The  parameter  SpiTimeOut  generates  a  scalar  value  that  decides  the </p>
<p>number of times a loop will be executed while polling. If exceeded the loop </p>
<p>breaks reporting a production error. </p>
<p> </p>
<p>• </p>
<p>This information is valid only for Static Configuration </p>
<p> </p>
<p>• </p>
<p>The parameter SpiPersistentHWConfiguration decides whether Hardware </p>
<p>configuration is static or dynamic. This is applicable for both CSIG and CSIH </p>
<p>and both Synchronous and Asynchronous communication and all memory </p>
<p>modes.  </p>
<p> </p>
<p>• </p>
<p>If SpiPersistentHWConfiguration is “True”, then HW configuration is static </p>
<p>(configuration is performed in the function Spi_Init ()function and not during </p>
<p>each transmission. </p>
<p> </p>
<p>• </p>
<p>Static Configuration, allows the user to manually start transmission without </p>
<p>invoking SPI module APIs after Spi driver was initialized. </p>
<p> </p>
<p>• </p>
<p>In </p>
<p>Static </p>
<p>configuration, </p>
<p>all </p>
<p>parameters </p>
<p>in </p>
<p>channel/job/external </p>
<p>devices </p>
<p>containers linked to a hardware unit should be same. Refer Table 4-2, 4-3 </p>
<p>and 4-4 for the list of parameters </p>
<p><b> </b></p>
<p><b>Table 4-2 </b></p>
<p><b>List of parameters in Channel container that are linked to the </b></p>
<p><b>registers. </b></p>
<p> </p>
<p><b>Parameter in </b></p>
<p><b>channel container</b></p>
<p> </p>
<p><b>Registers </b></p>
<p><b>linked</b></p>
<p> </p>
<p><b>CSIH-CSIG</b></p>
<p> </p>
<p>SpiDataWidth</p>
<p> </p>
<p>CSIHnCFGx.CSIHnDLSx</p>
<p> </p>
<p>CSIHnCFGx0.CSIHnDLS[3: </p>
<p>0]</p>
<p> </p>
<p>SpiTransferStart</p>
<p> </p>
<p>CSIHnCFGx.CSIHnDIRx</p>
<p> </p>
<p>CSIHnCFGx0.CSIHnDLS[3: </p>
<p>0]</p>
<p> </p>
<p> </p>
<p><b> </b></p>
<p><b>Table 4-3 </b></p>
<p><b>List of parameters in Job container that are linked to the </b></p>
<p><b>registers. </b></p>
<p> </p>
<p><b>Parameter in job </b></p>
<p><b>container</b></p>
<p> </p>
<p><b>Registers </b></p>
<p><b>linked</b></p>
<p> </p>
<p><b>CSIH-CSIG</b></p>
<p> </p>
<p>SpiPortPinSelect</p>
<p> </p>
<p>CSIHnTXOW.CSIHnCSx </p>
<p>CSIHnCTL1.CSIHnCSx</p>
<p> </p>
<p>-</p>
<p> </p>
<p> </p>
<p><b> </b></p>
<p><b> </b></p>
<p><b> </b></p>
<p><b> </b></p>
<p><b> </b></p>
<p><b> </b></p>
<h1 style="page-break-before:always; "></h1>
<p><b>  Forethoughts </b></p>
<p><b> </b></p>
<p><b>  Chapter 4</b></p>
<p> </p>
<p>25 </p>
<p> </p>
<p><b>Table 4-4 </b></p>
<p><b>List of parameters in External Device container that are </b></p>
<p><b>linked to the registers. </b></p>
<p><b>Parameter in </b></p>
<p><b>channel container</b></p>
<p> </p>
<p><b>Registers </b></p>
<p><b>linked</b></p>
<p> </p>
<p><b>CSIH </b></p>
<p><b> CSIG </b></p>
<p>SpiCsPolarity</p>
<p><b>  </b></p>
<p>CSIHnCTL1.CSIHnCSx </p>
<p>- </p>
<p>SpiCsInactive </p>
<p>CSIHnCTL1.CSIHnCSRI </p>
<p>- </p>
<p>SpiCsIdleEnforcem</p>
<p>ent  </p>
<p>CSIHnCFGx.CSIHnIDLx </p>
<p>- </p>
<p>SpiCsIdleTiming  </p>
<p>CSIHnCFGx.CSIHnIDx[2:0</p>
<p>] </p>
<p>- </p>
<p>SpiCsHoldTiming </p>
<p>CSIHnCFGx.CSIHnHDx[3:</p>
<p>0] </p>
<p>- </p>
<p>SpiCsInterDataDel</p>
<p>ay </p>
<p>CSIHnCFGx.CSIHnINx[3:0</p>
<p>] </p>
<p>- </p>
<p>SpiCsSetupTime  </p>
<p>CSIHnCFGx.CSIHnSPx[3:</p>
<p>0] </p>
<p>- </p>
<p>SpiDataShiftEdge </p>
<p>CSIHnCFGx.CSIHnDAPx </p>
<p>CSIGnCFG0.CSIGnDAP </p>
<p>SpiShiftClockIdleL</p>
<p>evel  </p>
<p>CSIHnCTL1.CSIHnCKR </p>
<p>CSIGnCTL1.CSIGnCKR </p>
<p>SpiBaudrateConfig</p>
<p>uration </p>
<p>CSIHnBRSy.CSIH0BRS[1</p>
<p>1:0]  </p>
<p>CSIGnCTL2.CSIGnBRS </p>
<p>SpiBaudrateRegist</p>
<p>erSelect </p>
<p>CSIHnCFGx.CSIHnBRSS</p>
<p>x[11:0] </p>
<p>- </p>
<p>SpiInputClockSele</p>
<p>ct  </p>
<p>CSIHnCTL2.CSIHnPRS[2:</p>
<p>0]  </p>
<p>CSIGnCTL2.CSIGnPRS[2:0</p>
<p>] </p>
<p>SpiInterruptDelayM</p>
<p>ode </p>
<p>CSIHnCTL1.CSIHnSIT </p>
<p>CSIGnCTL1.CSIGnSLIT </p>
<p>SpiParitySelection </p>
<p>CSIHnCFGx.CSIHnPSx[1:</p>
<p>0] </p>
<p>CSIGnCFG0.CSIGnPS[1:0] </p>
<p>SpiFifoTimeOut  </p>
<p>CSIHnMCTL0.CSIHnTO[4:</p>
<p>0] </p>
<p>- </p>
<p>SpiBroadcastingPri</p>
<p>ority  </p>
<p>CSIHnCFGx.CSIHnRCBx </p>
<p>- </p>
<p> </p>
<p> </p>
<p>• </p>
<p>Integrator  has  to  ensure  that  the  critical  section  protection  is  configured </p>
<p>correctly. </p>
<p> </p>
<p>• </p>
<p>User should invoke Spi_GetErrorInfo before the buffer limit exceeds. </p>
<p> </p>
<p>• </p>
<p>The user must calculate proper SpiTimeOut value based on the data size </p>
<p>configured. </p>
<p> </p>
<p>• </p>
<p>The failure of self test indicates hardware failure. </p>
<p> </p>
<p>• </p>
<p>When using DMA, 'SpiDataWidthSelection' in 'General' container shall be </p>
<p>'BITS_16', the user shall setup the buffer(EB or IB) in the application as type </p>
<h1 style="page-break-before:always; "></h1>
<p><b>  Chapter 4                                                                                                                            Forethoughts </b></p>
<p>26 </p>
<p> </p>
<p>'Spi_DataType' for channels that are configured for DMA and fill required </p>
<p>data(8 or 16) as configured in 'SpiDataWidth' in 'SpiChannel' container and </p>
<p>fill remaining with zeros. </p>
<p> </p>
<p>• </p>
<p>When configuring DMA mode, the number of buffers configured shall be </p>
<p>greater than 1 in the case of Direct Access Mode and Fifo Mode. </p>
<p> </p>
<p>• </p>
<p>The accesses to HW registers is possible only in the low level driver layer. </p>
<p>The user shall never write or read directly from any register, but shall use </p>
<p>the AUTOSAR standard API provided by the MCAL.  </p>
<p> </p>
<p>• </p>
<p>When using Interruptible Sequences, the caller must be aware that if the </p>
<p>multiple </p>
<p>Sequences </p>
<p>access </p>
<p>the </p>
<p>same </p>
<p>Channels, </p>
<p>the </p>
<p>data </p>
<p>for </p>
<p>these </p>
<p>Channels may be overwritten by the highest priority Job accessing each </p>
<p>Channel. </p>
<p> </p>
<p>• </p>
<p>For EB Channels the application shall provide the buffering and shall take </p>
<p>care of the consistency of the data in the buffer during transmission. </p>
<p> </p>
<p>• </p>
<p>SPI peripherals may depend on the system clock, prescaler(s) and PLL. </p>
<p>Thus, changes of the system clock may also affect the clock settings of the </p>
<p>SPI hardware. </p>
<p> </p>
<p>• </p>
<p>The SPI Handler/Driver module does not take care of setting the registers </p>
<p>which configure the clock, prescaler(s) and PLL in its init function. This has </p>
<p>to be done by the MCU module. </p>
<p> </p>
<p>• </p>
<p>Depending  on  microcontrollers,  the  SPI  peripheral  could  share  registers </p>
<p>with  other  peripherals.  In this  typical case,  the  SPI  Handler/Driver  has  a </p>
<p>relationship </p>
<p>with </p>
<p>MCU </p>
<p>module </p>
<p>for </p>
<p>initialising </p>
<p>and </p>
<p>de-initialising </p>
<p>those </p>
<p>registers. </p>
<p> </p>
<p>• </p>
<p>If </p>
<p>SpiInternalErrorBufferSize </p>
<p>parameter </p>
<p>is </p>
<p>configured </p>
<p>as </p>
<p>Zero, </p>
<p>Spi_GetErrorInfo  feature  will  be  disabled.  A  Non  zero  value  should  be </p>
<p>configured to enable this feature. </p>
<p> </p>
<p>• </p>
<p>Spi Driver status shall be ensured as SPI_IDLE by calling Spi_GetStatus </p>
<p>API, before calling Spi_GetErrorInfo API to avoid simultaneous access of </p>
<p>Global Error Buffer. </p>
<p> </p>
<p>• </p>
<p>For Configuring the Parameter SpiTimeOut, User must consider these </p>
<p>factors:  </p>
<p>1. Data transmission time strongly depends on the data length and </p>
<p>baudrate configured.  </p>
<p>2. The parameter SpiTimeOut should be big enough to cover the worst </p>
<p>case scenario in the driver configuration.  </p>
<p>3. MCU clock.  </p>
<p>4. Compiler optimization level.  </p>
<p>5. It is recommended to add additional margin to the timeout based on </p>
<p>user experience.  </p>
<p>Example to consider:  </p>
<p> </p>
<p>Let’s say, if we are configuring the baud rate as 1 KHz:  </p>
<p>1. For Data length of 16 bit and default data transmission is 8 or 16 bit i.e. </p>
<p>0x10 or 0x5639, the minimum timeout value can be configured as 0xED8.  </p>
<p>2. If user is Configuring Data width selection of 32 bit and default data </p>
<p>transmission is 32 bit i.e. 0x5A5A5A5A or 0xFEDCFEDC the maximum  </p>
<h1 style="page-break-before:always; "></h1>
<p><b>  Forethoughts </b></p>
<p><b> </b></p>
<p><b>  Chapter 4</b></p>
<p> </p>
<p>27 </p>
<p> </p>
<p>Timeout value can be configured as 0xFFFF which is the worst case </p>
<p>needed for the transmission buffer to empty or receiving buffer to get filled  </p>
<p>In that time. </p>
<p> </p>
<p> </p>
<p><b>4.2. </b></p>
<p><b>Preconditions </b></p>
<p> </p>
<p>Following preconditions have to be adhered by the user, for proper functioning </p>
<p>of the SPI Driver Component: </p>
<p> </p>
<p>• </p>
<p>The Spi_Lcfg.c, Spi_PBcfg.c, Spi_Cbk.h and Spi_Cfg.h files generated by </p>
<p>the  SPI Driver  Component Code Generation Tool must be compiled  and </p>
<p>linked along with SPI Driver Component source files. </p>
<p> </p>
<p>• </p>
<p>The application has to be rebuilt, if there is any change in the Spi_Lcfg.c, </p>
<p>Spi_PBcfg.c,  Spi_Cbk.h  and  Spi_Cfg.h  files  generated  by  the  SPI  Driver </p>
<p>Component Generation Tool. </p>
<p> </p>
<p>• </p>
<p>File </p>
<p>Spi_PBcfg.c </p>
<p>generated </p>
<p>for </p>
<p>single </p>
<p>configuration </p>
<p>set </p>
<p>or </p>
<p>multiple </p>
<p>configuration  sets  using  SPI  Driver  Component  Generation  Tool  can  be </p>
<p>compiled and linked independently. </p>
<p> </p>
<p>• </p>
<p>The authorization of the user for calling the software triggering of a hardware </p>
<p>reset is not checked in the SPI Driver. This is the responsibility of the upper </p>
<p>layer. </p>
<p> </p>
<p>• </p>
<p>The  SPI  Driver  Component  needs  to  be  initialized  before  accepting  any </p>
<p>request. </p>
<p>The </p>
<p>API </p>
<p>Spi_Init </p>
<p>should </p>
<p>be </p>
<p>invoked </p>
<p>to </p>
<p>initialize </p>
<p>SPI </p>
<p>Driver </p>
<p>Component. </p>
<p> </p>
<p>• </p>
<p>The  user  should  ensure  that  SPI  Driver  Component  API  requests  are </p>
<p>invoked  in  the  correct  and  expected  sequence  and  with  correct  input </p>
<p>arguments. </p>
<p> </p>
<p>• </p>
<p>Input parameters are validated only when the static configuration parameter </p>
<p>SPI_DEV_ERROR_DETECT is enabled. Application should ensure that the </p>
<p>right </p>
<p>parameters </p>
<p>are </p>
<p>passed </p>
<p>while </p>
<p>invoking </p>
<p>the </p>
<p>APIs </p>
<p>when </p>
<p>SPI_DEV_ERROR_DETECT is disabled. </p>
<p> </p>
<p>• </p>
<p>Errors  checked  in  the  Development  Error  Detection  area  are  only  static </p>
<p>configuration checks. No runtime errors are checked here. </p>
<p> </p>
<p>• </p>
<p>A mismatch in the version numbers of header and the source files results in </p>
<p>compilation error. User should ensure that the correct versions of the header </p>
<p>and the source files are used. </p>
<p> </p>
<p>• </p>
<p>The ISR functions and the corresponding handler addresses are provided </p>
<p>in Table ISR Handler Addresses. User should ensure that Interrupt Vector </p>
<p>table configuration is done as per the information provided in the table. </p>
<p> </p>
<p>• </p>
<p>User have the responsibility to enable or disable the critical protection using </p>
<p>the </p>
<p>parameter </p>
<p>SpiCriticalSectionProtection. </p>
<p>By </p>
<p>enabling </p>
<p>parameter </p>
<p>SpiCriticalSectionProtection, Microcontroller HW registers which suffer from </p>
<p>concurrent access by multiple tasks are protected. </p>
<p> </p>
<p> </p>
<p>• </p>
<p>Within the callback notification functions only following APIs are allowed. </p>
<p> </p>
<p>Spi_ReadIB  </p>
<p>Spi_WriteIB </p>
<p>Spi_SetupEB </p>
<p>Spi_GetJobResult </p>
<h1 style="page-break-before:always; "></h1>
<p><b>  Chapter 4                                                                                                                            Forethoughts </b></p>
<p>28 </p>
<p> </p>
<p>Spi_GetSequenceResult </p>
<p>Spi_GetHWUnitStatus </p>
<p>Spi_Cancel </p>
<p>All other SPI Handler/Driver API calls are not allowed. </p>
<p> </p>
<p> </p>
<p> </p>
<p><b>4.3. </b></p>
<p><b>User Mode and Supervisor Mode </b></p>
<p> </p>
<p>The below table specifies the APIs which can run in user mode, supervisor </p>
<p>mode or both modes: </p>
<p> </p>
<p><b>Table 4-5 </b></p>
<p><b>User Mode and Supervisory Mode </b></p>
<p> </p>
<p>  </p>
<p>Sl. No. </p>
<p>  </p>
<p>API name </p>
<p>Interrupt mode </p>
<p>Polling mode </p>
<p> </p>
<p>Known </p>
<p>limitation in </p>
<p>User Mode </p>
<p>user </p>
<p>mode  </p>
<p>supervisor </p>
<p>mode </p>
<p>user </p>
<p>mode </p>
<p>supervisor </p>
<p>mode </p>
<p>1. </p>
<p>Spi_Init </p>
<p>   - </p>
<p>x </p>
<p>   - </p>
<p>x </p>
<p>The IMR and </p>
<p>INTC registers </p>
<p>are accessed </p>
<p>inside this </p>
<p>function. Hence </p>
<p>it should not be </p>
<p>invoked in User </p>
<p>mode. </p>
<p>2. </p>
<p>Spi_DeInit </p>
<p>- </p>
<p>x </p>
<p>- </p>
<p>x </p>
<p>3. </p>
<p>Spi_WriteIB </p>
<p>x </p>
<p>x </p>
<p>x </p>
<p>x </p>
<p> </p>
<p>4. </p>
<p>Spi_AsyncTransmit </p>
<p>- </p>
<p>x </p>
<p>- </p>
<p>x </p>
<p>The IMR and </p>
<p>INTC registers </p>
<p>are accessed </p>
<p>inside this </p>
<p>function. Hence </p>
<p>it should not be </p>
<p>invoked in User </p>
<p>mode. </p>
<p>5. </p>
<p>Spi_ReadIB </p>
<p>x </p>
<p>x </p>
<p>x </p>
<p>x </p>
<p> </p>
<p>6. </p>
<p>Spi_SetupEB </p>
<p>x </p>
<p>x </p>
<p>x </p>
<p>x </p>
<p> </p>
<p>7. </p>
<p>Spi_GetStatus </p>
<p>x </p>
<p>x </p>
<p>x </p>
<p>x </p>
<p> </p>
<p>8. </p>
<p>Spi_GetJobResult </p>
<p>x </p>
<p>x </p>
<p>x </p>
<p>x </p>
<p> </p>
<p>9. </p>
<p>Spi_GetSequenceRes</p>
<p>ult </p>
<p>x </p>
<p>x </p>
<p>x </p>
<p>x </p>
<p> </p>
<p>10. </p>
<p>Spi_GetVersionInfo </p>
<p>x </p>
<p>x </p>
<p>x </p>
<p>x </p>
<p> </p>
<p>11. </p>
<p>Spi_SyncTransmit </p>
<p>- </p>
<p>x </p>
<p>- </p>
<p>x </p>
<p>The IMR and </p>
<p>INTC registers </p>
<p>are accessed </p>
<p>inside this </p>
<p>function. Hence </p>
<p>it should not be </p>
<p>invoked in User </p>
<p>mode. </p>
<p>12. </p>
<p>Spi_Cancel </p>
<p>- </p>
<p>x </p>
<p>- </p>
<p>x </p>
<p>The IMR and </p>
<p>INTC registers </p>
<p>are accessed </p>
<p>inside this </p>
<p>function. Hence </p>
<p>it should not be </p>
<p>invoked in User </p>
<p>mode. </p>
<h1 style="page-break-before:always; "></h1>
<p><b>  Forethoughts </b></p>
<p><b> </b></p>
<p><b>  Chapter 4</b></p>
<p> </p>
<p>29 </p>
<p> </p>
<p>  </p>
<p>Sl. No. </p>
<p>  </p>
<p>API name </p>
<p>Interrupt mode </p>
<p>Polling mode </p>
<p> </p>
<p>Known </p>
<p>limitation in </p>
<p>User Mode </p>
<p>user </p>
<p>mode  </p>
<p>supervisor </p>
<p>mode </p>
<p>user </p>
<p>mode </p>
<p>supervisor </p>
<p>mode </p>
<p>13. </p>
<p>Spi_SetAsyncMode </p>
<p>- </p>
<p>x </p>
<p>- </p>
<p>x </p>
<p>The IMR and </p>
<p>INTC registers </p>
<p>are accessed </p>
<p>inside this </p>
<p>function. Hence </p>
<p>it should not be </p>
<p>invoked in User </p>
<p>mode. </p>
<p>14. </p>
<p>Spi_MainFunction_Ha</p>
<p>ndling </p>
<p>- </p>
<p>- </p>
<p>- </p>
<p>x </p>
<p>The IMR and </p>
<p>INTC registers </p>
<p>are accessed </p>
<p>inside this </p>
<p>function. Hence </p>
<p>it should not be </p>
<p>invoked in User </p>
<p>mode </p>
<p>15. </p>
<p>Spi_GetHWUnitStatus </p>
<p>x </p>
<p>x </p>
<p>x </p>
<p>x </p>
<p> </p>
<p>16. </p>
<p>Spi_GetErrorInfo </p>
<p>x </p>
<p>x </p>
<p>x </p>
<p>x </p>
<p> </p>
<p>17. </p>
<p>Spi_SelfTest </p>
<p>- </p>
<p>x </p>
<p>- </p>
<p>x </p>
<p>The IMR and </p>
<p>INTC registers </p>
<p>are accessed </p>
<p>inside this </p>
<p>function. </p>
<p>Hence it </p>
<p>should not be </p>
<p>invoked in </p>
<p>User mode </p>
<p>18. </p>
<p>All ISRs </p>
<p>- </p>
<p>x </p>
<p>- </p>
<p>- </p>
<p>The IMR and </p>
<p>INTC registers </p>
<p>are accessed </p>
<p>inside this </p>
<p>function. Hence </p>
<p>it should not be </p>
<p>invoked in User </p>
<p>mode </p>
<p> </p>
<p><b>Note1: </b>Implementation of Critical Section is not dependent on MCAL. Hence Critical </p>
<p>Section is not considered to the entries for User mode in the above table. </p>
<p> </p>
<p> </p>
<p><b>4.4. </b></p>
<p><b>Memory modes </b></p>
<p> </p>
<p>The SPI Driver will use different memory modes depending on the HW units </p>
<p>selected. If the HW unit configured is CSIG then only direct access mode has </p>
<p>to be configured. If the HW unit configured is CSIH then any of the following </p>
<p>four modes can be configured. </p>
<p><b>Table 4-6 </b></p>
<p><b>HW unit and Memory Mode Selection </b></p>
<p><b> </b></p>
<p><b>HW unit</b></p>
<p> </p>
<p><b>Memory mode</b></p>
<p> </p>
<p>CSIG0</p>
<p> </p>
<p>Direct Access Mode</p>
<p> </p>
<p>CSIH(0-3)</p>
<p> </p>
<p>Direct Access Mode </p>
<p>FIFO Mode </p>
<p>Dual Buffer mode </p>
<p>Transmit Only Mode</p>
<p> </p>
<h1 style="page-break-before:always; "></h1>
<p><b>  Chapter 4                                                                                                                            Forethoughts </b></p>
<p>30 </p>
<p> </p>
<p> </p>
<p><b>4.5. </b></p>
<p><b>Data Consistency </b></p>
<p> </p>
<p>To </p>
<p>support </p>
<p>the </p>
<p>re-entrance </p>
<p>and </p>
<p>interrupt </p>
<p>services, </p>
<p>the </p>
<p>AUTOSAR </p>
<p>SPI </p>
<p>component  will  ensure  the  data  consistency  while  accessing  its  own  RAM </p>
<p>storage </p>
<p>or </p>
<p>hardware </p>
<p>registers. </p>
<p>The </p>
<p>SPI </p>
<p>component </p>
<p>will </p>
<p>use </p>
<p>SchM_Enter_Spi_&lt;Exclusive  Area&gt;  and  SchM_Exit_Spi_&lt;Exclusive  Area&gt; </p>
<p>functions. The SchM_Enter_Spi_&lt;Exclusive Area&gt; function is called before the </p>
<p>data needs to be protected and SchM_Exit_Spi_&lt;Exclusive Area&gt; function is </p>
<p>called after the data is accessed. </p>
<p> </p>
<p>The following exclusive area along with scheduler services is used to provide </p>
<p>data integrity for shared resources: </p>
<p> </p>
<p>• </p>
<p>CHIP_SELECT_PROTECTION </p>
<p> </p>
<p>• </p>
<p>RAM_DATA_PROTECTION </p>
<p> </p>
<p>The </p>
<p>functions </p>
<p>SchM_Enter_Spi_&lt;Exclusive </p>
<p>Area&gt; </p>
<p>and </p>
<p>SchM_Exit_Spi_&lt;Exclusive </p>
<p>Area&gt; </p>
<p>can </p>
<p>be </p>
<p>disabled </p>
<p>by </p>
<p>disabling </p>
<p>the </p>
<p>configuration  parameter  'Spi_CriticalSectionProtection'.  The  flowchart  will </p>
<p>indicate the flow with the pre-compile option 'Spi_CriticalSectionProtection' </p>
<p>enabled. </p>
<p> </p>
<p>The information about the API’s and the protected resources by the critical </p>
<p>section are given in the following table. </p>
<p><b> </b></p>
<p><b>Table 4-7 </b></p>
<p><b>SPI Driver Protected Resources List </b></p>
<p><b> API Name</b></p>
<p> </p>
<p><b>Exclusive Area Type  </b></p>
<p><b>Protected Resources  </b></p>
<p>Spi_AsyncTransmit</p>
<p> </p>
<p>SPI_RAM_DATA_PROTECTION</p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p>Global Variable: </p>
<p>Spi_GaaSeqCancel,, </p>
<p>Spi_GddDriverStatus, </p>
<p>Spi_GaaSeqResult, </p>
<p>Spi_GucHwUnitStatus, </p>
<p>Spi_GddQueueIndex, </p>
<p>Spi_GblQueueStatus, </p>
<p>Spi_GusAllQueueSts, </p>
<p>Spi_GaaSeqQueue, </p>
<p>Spi_GddQueueIndex, </p>
<p>Spi_GblQueueStatus </p>
<p>Spi_GaaJobQueue </p>
<p>Spi_GaaJobResult </p>
<p>Spi_GaaJobCount </p>
<p>Spi_GaaHighPriorityCommRequest</p>
<p>AtIdle </p>
<p>Spi_GaaHighPriorityCommRequest</p>
<p>AtIdle </p>
<p>Spi_GaaHighPriorityCommActive </p>
<p>Spi_GaaHighPriorityCommRequest </p>
<p>Spi_GaaHighPrioritySequence </p>
<p>Spi_GucHWFifoBufferSts </p>
<p>Spi_GstFifoCurrentCommData </p>
<p> </p>
<p> HW Registers: </p>
<p> IMR and INTC registers </p>
<p> </p>
<h1 style="page-break-before:always; "></h1>
<p><b>  Forethoughts </b></p>
<p><b> </b></p>
<p><b>  Chapter 4</b></p>
<p> </p>
<p>31 </p>
<p> </p>
<p><b> API Name</b></p>
<p> </p>
<p><b>Exclusive Area Type  </b></p>
<p><b>Protected Resources  </b></p>
<p>Spi_AsyncTransmit </p>
<p>       </p>
<p>SPI_CHIP_SELECT_PROTECTION </p>
<p>HW Register: </p>
<p>Port PSR Register. </p>
<p> </p>
<p>Spi_SyncTransmit </p>
<p>SPI_RAM_DATA_PROTECTION</p>
<p> </p>
<p> </p>
<p>Global Variables: </p>
<p>Spi_GusHwStatus </p>
<p> </p>
<p>HW Registers: </p>
<p>INTC registers </p>
<p>Spi_SyncTransmit </p>
<p>SPI_CHIP_SELECT_PROTECTION</p>
<p> </p>
<p>HW Register: </p>
<p>Port PSR Register. </p>
<p> </p>
<p>Spi_Cancel </p>
<p>SPI_RAM_DATA_PROTECTION </p>
<p>Global Variable: </p>
<p>Spi_GaaSeqCancel </p>
<p><b> </b></p>
<p><b>Note: </b> The  highest  measured  duration  of  a  critical  section  is  2.10  micro </p>
<p>seconds measured for Spi_AsyncTransmit API.  </p>
<p> </p>
<p> </p>
<p><b>4.6. </b></p>
<p><b>Deviation List </b></p>
<p><b>Table 4-8 </b></p>
<p><b>SPI Driver Deviation List </b></p>
<p> </p>
<p><b>Sl. No. </b></p>
<p><b>Description </b></p>
<p><b>AUTOSAR Bugzilla </b></p>
<p>1. </p>
<p>The parameter </p>
<p>&quot;SpiHwUnitSynchronous&quot; is moved </p>
<p>to SpiJob container from </p>
<p>SpiChannel container. </p>
<p>48763 </p>
<p>2. </p>
<p>The total number of SPI Hardware </p>
<p>Units is published as </p>
<p>“SPI_MAX_HW_UNIT”. </p>
<p>24328 </p>
<p>3. </p>
<p>The parameter “SPI_BAUDRATE” </p>
<p>is not used since the value </p>
<p>configured for this parameter </p>
<p>cannot be mapped directly to the </p>
<p>register value. Hence, a parameter </p>
<p>”SpiBaudrateSelection” is used to </p>
<p>select input frequency source. </p>
<p>- </p>
<p>4. </p>
<p>The parameter 'SpiTimeClk2Cs' is </p>
<p>not used since the value of this </p>
<p>parameter is configured as count </p>
<p>value. Hence, the parameter </p>
<p>'SpiClk2CsCount' is provided to </p>
<p>configure the wait loop count to add </p>
<p>delay between clock and chip </p>
<p>select. </p>
<p>- </p>
<p>5. </p>
<p>Type of the parameter SpiHwUnit is </p>
<p>ENUMERATION-PARAM-DEF  with </p>
<p>a list of all possible hardware units. </p>
<p>- </p>
<p>6. </p>
<p>The inclusion or deletion of the </p>
<p>hardware units will not be possible </p>
<p>in the post-build time. But the </p>
<p>reassignment of configured HW </p>
<p>unit for different jobs is possible. </p>
<p>- </p>
<h1 style="page-break-before:always; "></h1>
<p><b>  Chapter 4                                                                                                                            Forethoughts </b></p>
<p>32 </p>
<p> </p>
<p><b>Sl. No. </b></p>
<p><b>Description </b></p>
<p><b>AUTOSAR Bugzilla </b></p>
<p>7. </p>
<p>Type of the parameter SpiCs is </p>
<p>ENUMERATION-PARAM-DEF with </p>
<p>a list of all possible port lines. </p>
<p>- </p>
<p>8. </p>
<p>If the parameter &quot;DataBufferPtr&quot; </p>
<p>passed through the API </p>
<p>“Spi_ReadIB” is null pointer, then </p>
<p>the error </p>
<p>SPI_E_PARAM_POINTER will be </p>
<p>reported to DET. </p>
<p>- </p>
<p>9. </p>
<p>The channel parameters </p>
<p>“SpiChannelType”, “SpiIbNBuffers” </p>
<p>and “SpiEbMaxLength” are pre- </p>
<p>compile time parameters. </p>
<p>- </p>
<p>10. </p>
<p>A queue will be implemented and </p>
<p>maintained if there are more than </p>
<p>one sequence is requested for </p>
<p>transmission. The length of the </p>
<p>queue will be number of configured </p>
<p>jobs minus 1. </p>
<p>- </p>
<p>11. </p>
<p>If a sequence is requested for </p>
<p>transmission while already one </p>
<p>uninterruptible sequence is on- </p>
<p>going, the requested sequence will </p>
<p>be put on queue. </p>
<p>- </p>
<p>12. </p>
<p>The upper and lower multiplicity of </p>
<p>the parameter ‘SpiCsIdentifier’ is ‘1’ </p>
<p>i.e. mandatory and the default value </p>
<p>is NULL. The upper and </p>
<p>lower multiplicity of the parameter </p>
<p>‘SpiEnableCS’ is ‘1’ i.e. mandatory </p>
<p>and the default value is false. </p>
<p>- </p>
<p>13. </p>
<p>The parameters SpiMaxChannel, </p>
<p>SpiMaxJob and SpiMaxSequence </p>
<p>in SpiDriverConfiguration is made </p>
<p>as mandatory in the Parameter </p>
<p>Definition File of SPI Driver </p>
<p>Component. </p>
<p>- </p>
<p>14. </p>
<p>Notification related functions and </p>
<p>parameters configuration class </p>
<p>are changed from Link time to </p>
<p>Post Build,  vice versa Spi_ </p>
<p>Lcfg.c and Spi<i>_</i>Pbcfg.c files </p>
<p>structures are updated. </p>
<p>- </p>
<p>15. </p>
<p>Memory size measurements </p>
<p>(RAM/ROM usage,Stack, </p>
<p>Throughput) are not as per </p>
<p>requirements. </p>
<p>- </p>
<p> </p>
<p> </p>
<p> </p>
<h1 style="page-break-before:always; "></h1>
<p><b>Architecture Details                                                                                                                 Chapter 5 </b></p>
<p>33 </p>
<p><b>Chapter 5 </b></p>
<p><b>Architecture Details </b></p>
<p> </p>
<p> </p>
<p>To minimize the effort and to optimize the reuse of developed software on </p>
<p>different platforms, the SPI driver is split as High Level Driver and Low Level </p>
<p>Driver. The SPI Driver architecture is shown in the following figure: </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p><b> </b></p>
<p><b> </b></p>
<p><b> </b></p>
<p><b> </b></p>
<p><b>Figure 5-1 </b></p>
<p><b>SPI Driver Architecture </b></p>
<p> </p>
<p>The High Level Driver exports the AUTOSAR API towards upper modules and </p>
<p>it will be designed to allow the compilation for different platforms without or only </p>
<p>slight modifications, i.e. that no reference to specific microcontroller features or </p>
<p>registers will appear in the High Level Driver. All these references are moved </p>
<p>inside a µC specific Low Level Driver. The Low Level Driver interface extends </p>
<p>the High Level Driver types and methods in order to adapt it to the specific </p>
<p>target microcontroller. </p>
<p> </p>
<p><b>SPI Driver component: </b></p>
<p> </p>
<p>The SPI Driver provides services for reading and writing to devices connected </p>
<p>via SPI busses. It provides access to SPI communication to several users like </p>
<p>EEPROM, Watchdog, I/O ASICs. It also provides the required mechanism to </p>
<p>configure the on chip SPI peripheral. </p>
<p> </p>
<p>The SPI Driver component is divided into the following sub modules based on </p>
<p>the functionality required: </p>
<p> </p>
<p>• </p>
<p>Initialization and De-initialization </p>
<p> </p>
<p>• </p>
<p>Buffer Management </p>
<p> </p>
<p>• </p>
<p>Communication </p>
<p> </p>
<p>• </p>
<p>Status information </p>
<p><b>SPI User </b></p>
<p><b>SPI High-level Driver </b></p>
<p><b> (Microcontroller Independent) </b></p>
<p><b>SPI Low Level Driver</b></p>
<p> </p>
<p><b>   MICROCONTROLLER</b></p>
<p> </p>
<p><b>CSIH </b></p>
<p><b>CSIG</b></p>
<p> </p>
<h1 style="page-break-before:always; "></h1>
<p><b>Chapter 5 </b></p>
<p><b> </b></p>
<p><b> </b></p>
<p><b>Architecture Details                                                                                                                </b></p>
<p> </p>
<p>34 </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p><b>- </b></p>
<p><b>I nitiali zation </b></p>
<p><b>DeIniti aliza tion </b></p>
<p><b>Buffer </b></p>
<p><b>Management </b></p>
<p><b>Communication </b></p>
<p><b>Not ification </b></p>
<p><b>Stat us Information </b></p>
<p><b>Version Information </b></p>
<p><b>SPI Driver Layer </b></p>
<p> </p>
<p>• </p>
<p>Module version information </p>
<p> </p>
<p>• </p>
<p>Communication Error Diagnosis </p>
<p> </p>
<p>The basic architecture of the SPI Driver component is illustrated in the </p>
<p>following Figure: </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p>APPLICATION LAYER </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p><b> </b></p>
<p><b> </b></p>
<p><b> </b></p>
<p><b>SP I  H ig h  Le v e l Dr ive r </b></p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p>                                             S</p>
<p>etting of </p>
<p>HW  </p>
<p>register  </p>
<p>Disabling  </p>
<p>the </p>
<p>interrupts </p>
<p> </p>
<p> </p>
<p> </p>
<p>De - </p>
<p>initialization </p>
<p>of SPI HW </p>
<p>units </p>
<p> </p>
<p> </p>
<p> </p>
<p>Transmit and </p>
<p>receive the jobs </p>
<p> and channels </p>
<p> </p>
<p> </p>
<p>Sequen </p>
<p>ce and </p>
<p>job </p>
<p>notifica </p>
<p>tion </p>
<p> </p>
<p> </p>
<p> </p>
<p>Return the </p>
<p>status of </p>
<p>module, job,  </p>
<p>sequence </p>
<p> </p>
<p><b> </b></p>
<p><b>SP I  L ow  Le v e l Dr ive r </b></p>
<p><b> </b></p>
<p><b> </b></p>
<p><b> </b></p>
<p><b>Figure 5-2 </b></p>
<p><b>Component Overview Of SPI Driver Component </b></p>
<p> </p>
<p><b>SPI Driver Initialization and De-Initialization module </b></p>
<p> </p>
<p>This  module  initializes  and  de-Initializes  the  SPI  driver.  It  provides  the </p>
<p>Spi_Init() and Spi_DeInit() APIs. The Spi_Init() API should be invoked before </p>
<p>the usage of any other APIs of Watchdog Driver Module.Spi-Init should be </p>
<p>called prior to Port_Init. De-initialization function puts all microcontroller SPI </p>
<p>peripherals in the same state such as Power On Reset. </p>
<p> </p>
<p><b>Buffer Managemen</b>t  </p>
<p> </p>
<p>This module provides the services for reading and writing the internal buffers </p>
<p>and  setting  up  the  external  buffer.  The  type  of  buffer  for  each  channel  is </p>
<p>configurable as either internal or external </p>
<p> </p>
<p>The APIs related to this module are Spi_WriteIB(), Spi_ReadIB() and </p>
<p>Spi_SetupEB(). </p>
<p> </p>
<p><b>Communication </b></p>
<p> </p>
<p>This module provides the services for the transmission of data on the SPI bus </p>
<p>both synchronously and asynchronously, cancelling the ongoing transmission </p>
<p>and setting the asynchronous transfer mode. </p>
<p> </p>
<p>The </p>
<p>synchronous </p>
<p>mode </p>
<p>is </p>
<p>based </p>
<p>on </p>
<p>polling </p>
<p>mechanism. </p>
<p>But </p>
<p>for </p>
<p>the </p>
<p>asynchronous mode, the possible mechanisms are Polling and Interrupt mode. </p>
<p><b>Communication error </b></p>
<p><b>diagnosis </b></p>
<p>Updates the Error</p>
<p> </p>
<p>Information </p>
<p>buffer</p>
<p> </p>
<p>with the</p>
<p> </p>
<p>error details </p>
<p>(Error</p>
<p> </p>
<p>Type, HW </p>
<p>unit,Sequence id, </p>
<p>Job id) </p>
<h1 style="page-break-before:always; "></h1>
<p><b>Architecture Details                                                                                                                 Chapter 5 </b></p>
<p>35 </p>
<p>One  of  these  modes  is  selectable  during  execution  by  one  of  the  services </p>
<p>provided by this sub-module. </p>
<p> </p>
<p>The APIs related to this module are Spi_SyncTransmit(), Spi_AsyncTransmit(), </p>
<p>Spi_SetAsyncMode() and Spi_Cancel(). </p>
<p> </p>
<p><b>Status Information </b></p>
<p> </p>
<p>This module provides the services for getting the status of the SPI Driver and </p>
<p>hardware unit. It also provides the services for getting the result of the specified </p>
<p>job and specified sequence. </p>
<p> </p>
<p>The APIs related to this module are Spi_GetStatus(), Spi_GetHWUnitStatus(), </p>
<p>Spi_GetJobResult() and Spi_GetSequenceResult(). </p>
<p> </p>
<p> </p>
<p><b>Module Version Information </b></p>
<p> </p>
<p>This module provides APIs for reading module Id, vendor Id and vendor </p>
<p>specific version numbers. </p>
<p> </p>
<p>The API related to this module is Spi_GetVersionInfo(). </p>
<p> </p>
<p><b>Communication Error Diagnosis </b></p>
<p> </p>
<p>This  module  provides  the  services  for  collecting  the  error  details  when  the </p>
<p>transmission of data on the SPI bus is failed. A buffer and the size of the buffer </p>
<p>shall be passed as arguments to this module. This module provides following </p>
<p>detailes of the communication error : </p>
<p>1. Type of the Hardware Error (parity, data consistency, overflow, overrun) </p>
<p>2. HW unit in which error is reported (eg. CSIG0, CSIH3, etc.)  </p>
<p>3. Sequence id for which error is reported </p>
<p>4. Job id for which error is reported </p>
<p> </p>
<p>These details will be stored in to the passed buffer. This module is implemented </p>
<p>for getting error details whenever a hardware error is reported.  </p>
<p> </p>
<p>The API related to this module is Spi_GetErrorInfo(). </p>
<p> </p>
<p>There are 2 approaches for using by upper layer. </p>
<p> </p>
<p>1. <b>Polling Method  </b></p>
<p> </p>
<p>The upper layer calls Spi_GetSequenceResult() API and when the return value </p>
<p>is SPI_SEQ_FAILED then call to Spi_GetErrorInfo() API can be done to get the </p>
<p>detailed information as to why the sequence failed. </p>
<p> </p>
<p>2. <b>Application Callback Function Executed from SPI Error ISR  </b></p>
<p> </p>
<p>The user can be informed each time a SPI error occurred through the DEM error.  </p>
<p>User can invoke Spi_GetErrorInfo API to get the error details when the DEM is </p>
<p>reported. </p>
<p>If call out from DEM is not possible, user can check the error detailed information </p>
<p>by </p>
<p>calling </p>
<p>API </p>
<p>Spi_GetErrorInfo </p>
<p>after </p>
<p>confirmation </p>
<p>of </p>
<p>failure </p>
<p>from </p>
<p>Spi_SyncTransmit API. </p>
<p> </p>
<p><b>Note :</b>  </p>
<p> </p>
<p>• </p>
<p>For each error, the error details will be stored in the eror buffer.So it is </p>
<p>not a must to invoke Spi_GetErrorInfo every time the error occurs.  </p>
<p>• </p>
<p>User can decide to call Spi_GetErrorInfo after multiple errors or for each </p>
<p>error depending on the application requirement. </p>
<p>• </p>
<p>The maximum number of error details that can be hold by the error buffer </p>
<p>can be configured by the user.  </p>
<h1 style="page-break-before:always; "></h1>
<p><b>Chapter 5 </b></p>
<p><b> </b></p>
<p><b> </b></p>
<p><b>Architecture Details                                                                                                                </b></p>
<p> </p>
<p>36 </p>
<p>• </p>
<p>To  store  the  Errors  generated,  error  ISR  will  be  invoked  in  the  case </p>
<p>Asynchronous transmission only. </p>
<p>• </p>
<p>In </p>
<p>synchronous </p>
<p>transmission </p>
<p>case, </p>
<p>the </p>
<p>internal </p>
<p>function </p>
<p>used </p>
<p>for </p>
<p>reporting error in synchronous transmission will be invoked to report the </p>
<p>Error.  </p>
<p>• </p>
<p>All the other steps and approaches are same for both Sync and Async </p>
<p>Transmit case. </p>
<p>• </p>
<p>The latest communication errors info will be always stored in error buffer </p>
<p>and it will not be cleared when it is read.</p>
<p> </p>
<p> </p>
<p>• </p>
<p>Any elements of error buffer will not be changed (not cleared /not shifted) </p>
<p>when it is read including partial read. </p>
<p>• </p>
<p>The error information from the status register </p>
<p>STCR0 </p>
<p>is cleared in Error </p>
<p>ISR  and  internal  function  used  for  reporting  error  in  synchronous </p>
<p>transmission after reading it,to avoid the possibility of reporting multiple </p>
<p>errors.  </p>
<p>• </p>
<p>Whenever  an  error  interrupt  occurs,  SPI  driver  will  check  for  all  the </p>
<p>possible errors one by one and will report separately.  </p>
<p>For Example, if an overflow and parity error is reported simultaneously </p>
<p>for  a  data  transmission,  corresponding  index  of  the  error  buffer  will </p>
<p>contain Overflow Error and other index will store Parity Error.</p>
<p> </p>
<p> </p>
<p>• </p>
<p>No variables used in SPI driver are modified in Spi_GetErrorInfo API.  </p>
<p>• </p>
<p>Copying the  error information from error buffer into the user  buffer is </p>
<p>done without modifying any Global array. </p>
<p> </p>
<p> </p>
<h1 style="page-break-before:always; "></h1>
<p><b> Registers Details </b></p>
<p><b>Chapter 6 </b></p>
<p> </p>
<p>37 </p>
<p><b>Chapter 6 </b></p>
<p><b>Registers Details </b></p>
<p> </p>
<p>This section describes the register details of SPI Driver Component. </p>
<p> </p>
<p><b>Table 6-1   </b></p>
<p><b>Register Details </b></p>
<p> </p>
<p> </p>
<p><b>API Name </b></p>
<p> </p>
<p><b>Registers </b></p>
<p><b>Config </b></p>
<p><b>Parameter </b></p>
<p><b>Register </b></p>
<p><b>Access </b></p>
<p><b>R/W/RW </b></p>
<p> </p>
<p><b>Macro/Variable </b></p>
<p>Spi_Init </p>
<p> CSIGnCTL0 </p>
<p>SpiMemoryModeSelection </p>
<p> </p>
<p>W </p>
<p>SPI_ZERO </p>
<p> CSIHnCTL0 </p>
<p>W </p>
<p>SPI_ZERO </p>
<p> DCSTCn </p>
<p>- </p>
<p>W </p>
<p>SPI_DMA_STR_CLEAR </p>
<p>DCSTn </p>
<p>- </p>
<p>R </p>
<p>- </p>
<p>DCENn </p>
<p>- </p>
<p>W </p>
<p>SPI_DMA_DCEN_DISABLE </p>
<p>DSAn </p>
<p>SpiDma </p>
<p>W </p>
<p>LpDmaConfig-</p>
<p>&gt;ulTxRxRegAddress </p>
<p>DTCTn </p>
<p>SpiTxDmaChannel/ </p>
<p>SpiRxDmaChannel </p>
<p>W </p>
<p>SPI_DMA_16BIT_TX_SETTI</p>
<p>NGS </p>
<p>SPI_DMA_16BIT_RX_SETTI</p>
<p>NGS </p>
<p> </p>
<p>DDAn </p>
<p>SpiDma </p>
<p>W </p>
<p>LpDmaConfig-</p>
<p>&gt;ulTxRxRegAddress </p>
<p>DTFRn </p>
<p>SpiTxDmaChannel/ </p>
<p>SpiRxDmaChannel </p>
<p>W </p>
<p>LpDmaConfig-</p>
<p>&gt;usDmaDtfrRegValue </p>
<p>CSIGnCTL1 </p>
<p>SpiCsInactiveAfterLastDat</p>
<p>a, SpiDataWidth </p>
<p>W </p>
<p>LunDataAccess1.ulRegData </p>
<p>CSIHnCTL1 </p>
<p>W </p>
<p>LunDataAccess1.ulRegData </p>
<p>EICn </p>
<p>- </p>
<p>W </p>
<p>SPI_CLR_INT_REQ </p>
<p>IMRn </p>
<p>SpiHwUnitSelection </p>
<p>and </p>
<p>SpiMemoryModeSelection</p>
<p> </p>
<p>W </p>
<p> </p>
<p>Spi_GstHWUnitInfo[LddHWU</p>
<p>nit].usRxImrMask, </p>
<p>Spi_GstHWUnitInfo[LddHWU</p>
<p>nit].pTxImrAddress, </p>
<p>Spi_GstHWUnitInfo[LddHWU</p>
<p>nit].pErrorImrAddress, </p>
<p>Spi_GstHWUnitInfo[LddHWU</p>
<p>nit].usRxImrMask, </p>
<p>Spi_GstHWUnitInfo[LddHWU</p>
<p>nit].pTxImrAddress, </p>
<p>LpHWUnitInfo-</p>
<p>&gt;usTxCancelImrMask, </p>
<p>Spi_GstHWUnitInfo[LddHWU</p>
<p>nit].pErrorImrAddress </p>
<p>CSIHnTX0W </p>
<p>- </p>
<p>W </p>
<p>LunDataAccess1.ulRegData </p>
<p>SELCSIHDMA </p>
<p>- </p>
<p>W </p>
<p>SPI_SELECT_CSIH_DMA_</p>
<p>REG_VAL </p>
<p>CSIGnCTL2 </p>
<p>SpiInputClockSelect </p>
<p>SpiBaudrateConfiguration </p>
<p>W </p>
<p>LpJobConfig-&gt;usCtl2Value </p>
<h1 style="page-break-before:always; "></h1>
<p><b>  Chapter 6                                                                                                                                        Registers Details </b></p>
<p> </p>
<p>38 </p>
<p> </p>
<p> </p>
<p><b>API Name </b></p>
<p> </p>
<p><b>Registers </b></p>
<p><b>Config </b></p>
<p><b>Parameter </b></p>
<p><b>Register </b></p>
<p><b>Access </b></p>
<p><b>R/W/RW </b></p>
<p> </p>
<p><b>Macro/Variable </b></p>
<p>CSIGCFG0 </p>
<p>SpiDataWidth </p>
<p>SpiParitySelection </p>
<p>SpiTransferStart </p>
<p>SpiDataShiftEdge </p>
<p>SpiShiftClockIdleLevel </p>
<p> </p>
<p>W </p>
<p>LunDataAccess1.ulRegData </p>
<p>CSIHnSTCR0 </p>
<p>- </p>
<p>W </p>
<p>SPI_CSIH_CLR_STS_FLAG</p>
<p>S </p>
<p>CSIGnSTCR0 </p>
<p>- </p>
<p>W </p>
<p>SPI_CSIG_CLR_STS_FLAG</p>
<p>S </p>
<p>CSIHnSTR0 </p>
<p>- </p>
<p>R </p>
<p>- </p>
<p>CSIGnSTR0 </p>
<p>- </p>
<p>R </p>
<p>- </p>
<p>CSIHnCTL2 </p>
<p>SpiInputClockSelect </p>
<p>SpiBaudrateConfiguration </p>
<p>W </p>
<p>LpJobConfig-&gt;usCtl2Value </p>
<p>&amp; SPI_CSIH_PRE_MASK </p>
<p>CSIHnMCTL0 </p>
<p>SpiMemoryModeSelection </p>
<p>W </p>
<p>LpJobConfig-&gt;usMCtl0Value </p>
<p>CSIHnBRSy </p>
<p>SpiInputClockSelect </p>
<p>SpiBaudrateConfiguration </p>
<p>W </p>
<p>(LpJobConfigCSConfig-</p>
<p>&gt;usCtl2Value) &amp; </p>
<p>SPI_CSIH_BRS_MASK </p>
<p>CSIHnCFGx </p>
<p>SpiDataWidth </p>
<p>SpiParitySelection </p>
<p>SpiTransferStart </p>
<p>SpiDataShiftEdge </p>
<p>SpiShiftClockIdleLevel </p>
<p> </p>
<p>W </p>
<p>LunDataAccess1.ulRegData </p>
<p>ECCCSIHnCTL </p>
<p>SpiECCSelfTest </p>
<p>R/W </p>
<p>SET_EC1EDIC_EC2EDIC </p>
<p>ECC_CTL_ECEMF_SET </p>
<p>ECC_CTL_ECER1F_ECER</p>
<p>2F_CLEAR </p>
<p>CTL_ERRCLR_FLAG </p>
<p>CTL_2BIT_ERRCLR_FLAG </p>
<p>CTL_1BIT_ERR_FLAG </p>
<p>ECCCSIHnTM</p>
<p>C </p>
<p>SpiECCSelfTest </p>
<p>W </p>
<p>SET_TMC_BITS </p>
<p>SET_TEST_DISABLE </p>
<p>ECCCSIHnTRC </p>
<p>SpiECCSelfTest </p>
<p>W </p>
<p>TRC_ERDB_INITIALIZE </p>
<p>ECCCSIHnTED </p>
<p>SpiECCSelfTest </p>
<p>R/W </p>
<p>RAM_INITIALIZE, </p>
<p>ALL_ZERO_PATTERN, </p>
<p>ALL_ONE_PATTERN, </p>
<p>TWO_BIT_PATTERN </p>
<p> </p>
<p> </p>
<p> </p>
<h1 style="page-break-before:always; "></h1>
<p><b> Registers Details </b></p>
<p><b>Chapter 6 </b></p>
<p> </p>
<p>39 </p>
<p> </p>
<p><b>API Name </b></p>
<p> </p>
<p><b>Registers </b></p>
<p><b>Config </b></p>
<p><b>Parameter </b></p>
<p><b>Register </b></p>
<p><b>Access </b></p>
<p><b>R/W/RW </b></p>
<p> </p>
<p><b>Macro/Variable </b></p>
<p>CSIHnRX0H </p>
<p>- </p>
<p>R </p>
<p>- </p>
<p>CSIGnRX0 </p>
<p>- </p>
<p>R </p>
<p>- </p>
<p>CSIGnTX0H </p>
<p>- </p>
<p>W </p>
<p>SPI_LOOPBACK_DATA </p>
<p>CSIHnMCTL1 </p>
<p>SpiMemoryModeSelection </p>
<p>W </p>
<p>SPI_CTL_32BIT_REG_VAL </p>
<p>CSIHnMCTL2 </p>
<p>SpiMemoryModeSelection </p>
<p>W </p>
<p>SPI_CTL_32BIT_REG_VAL </p>
<p>CSIGBCTL0 </p>
<p>- </p>
<p>W </p>
<p>SPI_BCTL0_SET_SCE </p>
<p>Spi_DeInit </p>
<p>CSIGnCTL0 </p>
<p>SpiMemoryModeSelection </p>
<p> </p>
<p>W </p>
<p>SPI_ZERO </p>
<p>CSIHnCTL0 </p>
<p>W </p>
<p>SPI_ZERO </p>
<p>CSIGnCTL1 </p>
<p>- </p>
<p>W </p>
<p>SPI_ZERO </p>
<p>CSIHnCTL1 </p>
<p>- </p>
<p>W </p>
<p>SPI_ZERO </p>
<p>CSIGnCTL2 </p>
<p>- </p>
<p>W </p>
<p>SPI_CTL2_16BIT_REG_DEI</p>
<p>NIT </p>
<p>CSIHnCTL2 </p>
<p>- </p>
<p>W </p>
<p>SPI_CTL2_16BIT_REG_DEI</p>
<p>NIT </p>
<p>CSIGBCTL0 </p>
<p>- </p>
<p>W </p>
<p>SPI_CTL_8BIT_REG_MASK </p>
<p>CSIHnMCTL0 </p>
<p>- </p>
<p>W </p>
<p>SPI_MCTL0_16BIT_REG_D</p>
<p>EINIT </p>
<p>CSIHnMCTL1 </p>
<p>- </p>
<p>W </p>
<p>SPI_CTL_32BIT_REG_MAS</p>
<p>K </p>
<p>CSIHnMCTL2 </p>
<p>- </p>
<p>W </p>
<p>SPI_CTL_32BIT_REG_MAS</p>
<p>K </p>
<p>CSIGnSTCR0 </p>
<p>- </p>
<p>W </p>
<p>SPI_CTL_16BIT_REG_DEIN</p>
<p>IT </p>
<p>CSIHnSTCR0 </p>
<p>- </p>
<p>W </p>
<p>SPI_CTL_16BIT_REG_DEIN</p>
<p>IT </p>
<h1 style="page-break-before:always; "></h1>
<p><b>  Chapter 6                                                                                                                                        Registers Details </b></p>
<p> </p>
<p>40 </p>
<p> </p>
<p> </p>
<p><b>API Name </b></p>
<p> </p>
<p><b>Registers </b></p>
<p><b>Config </b></p>
<p><b>Parameter </b></p>
<p><b>Register </b></p>
<p><b>Access </b></p>
<p><b>R/W/RW </b></p>
<p> </p>
<p><b>Macro/Variable </b></p>
<p>CSIHMRWP0 </p>
<p>- </p>
<p>W </p>
<p>SPI_CTL_32BIT_REG_MAS</p>
<p>K </p>
<p>CSIHnBRSy </p>
<p>- </p>
<p>W </p>
<p>SPI_CTL_16BIT_REG_DEIN</p>
<p>IT </p>
<p>DSAn </p>
<p>- </p>
<p>W </p>
<p>SPI_DMA_DEINIT </p>
<p>DDAn </p>
<p>- </p>
<p>W </p>
<p>SPI_DMA_DEINIT </p>
<p>DCENn </p>
<p>- </p>
<p>W </p>
<p>SPI_DMA_DCEN_DISABLE </p>
<p>DTCTn </p>
<p>- </p>
<p>W </p>
<p>SPI_DMA_DEINIT </p>
<p>CSIGCFG0 </p>
<p>- </p>
<p>W </p>
<p>SPI_CTL_32BIT_REG_MAS</p>
<p>K </p>
<p>CSIHCFG0 </p>
<p>- </p>
<p>W </p>
<p>SPI_CTL_32BIT_REG_MAS</p>
<p>K </p>
<p>DTFRRQCn </p>
<p>- </p>
<p>W </p>
<p>SPI_DMA_DRQ_CLEAR </p>
<p>DCSTCn </p>
<p>- </p>
<p>W </p>
<p>SPI_DMA_STR_CLEAR </p>
<p>DTFRRQn </p>
<p>- </p>
<p>R </p>
<p>- </p>
<p>DCSTn </p>
<p>- </p>
<p>R </p>
<p>- </p>
<p>DTFRn </p>
<p>- </p>
<p>W </p>
<p>SPI_DMA_DEINIT </p>
<p>CSIHnMRWP0 </p>
<p>- </p>
<p>W </p>
<p>SPI_CTL_32BIT_REG_VAL </p>
<p>CSIHnCFGx </p>
<p> </p>
<p>W </p>
<p>SPI_CTL_32BIT_REG_VAL </p>
<p>IMRn </p>
<p>SpiHwUnitSelection </p>
<p>and </p>
<p>SpiMemoryModeSelection</p>
<p> </p>
<p>W </p>
<p> </p>
<p>Spi_GstHWUnitInfo[LddHWU</p>
<p>nit].usRxImrMask, </p>
<p>Spi_GstHWUnitInfo[LddHWU</p>
<p>nit].pTxImrAddress, </p>
<p>Spi_GstHWUnitInfo[LddHWU</p>
<p>nit].pErrorImrAddress, </p>
<p>Spi_GstHWUnitInfo[LddHWU</p>
<p>nit].usRxImrMask, </p>
<p>Spi_GstHWUnitInfo[LddHWU</p>
<p>nit].pTxImrAddress, </p>
<p>LpHWUnitInfo-</p>
<p>&gt;usTxCancelImrMask, </p>
<p>Spi_GstHWUnitInfo[LddHWU</p>
<p>nit].pErrorImrAddress </p>
<p>EICn </p>
<p>- </p>
<p>W </p>
<p>SPI_CLR_INT_REQ </p>
<p>PORTPSRx </p>
<p>SpiPortPinSelect </p>
<p> </p>
<p>LpJobConfiguration-</p>
<p>&gt;ulPortPinMask </p>
<p>Spi_WriteIB </p>
<p>CSIHMCTL0 </p>
<p>SpiMemoryModeSelection </p>
<p>W </p>
<p>LusMctlData </p>
<p>SPI_TX_ONLY_MODE_SET </p>
<p>SPI_DUAL_BUFFER_MOD</p>
<p>E_SET </p>
<p>CSIHnMRWP0 </p>
<p>- </p>
<p>RW </p>
<p>ulRegData </p>
<p>LunDataAccess1.ulRegData </p>
<p>CSIHnTX0W </p>
<p>- </p>
<p>W </p>
<p>LunDataAccess1.ulRegData </p>
<h1 style="page-break-before:always; "></h1>
<p><b> Registers Details </b></p>
<p><b>Chapter 6 </b></p>
<p> </p>
<p>41 </p>
<p> </p>
<p><b>API Name </b></p>
<p> </p>
<p><b>Registers </b></p>
<p><b>Config </b></p>
<p><b>Parameter </b></p>
<p><b>Register </b></p>
<p><b>Access </b></p>
<p><b>R/W/RW </b></p>
<p> </p>
<p><b>Macro/Variable </b></p>
<p>Spi_AsyncTransmit </p>
<p> </p>
<p> </p>
<p>CSIHnMCTL0 </p>
<p>- </p>
<p>W </p>
<p>LpJobConfig-&gt;usMCtl0Value </p>
<p>CSIGnCFG0 </p>
<p>- </p>
<p>W </p>
<p>LpJobConfig-</p>
<p>&gt;ulConfigRegValue </p>
<p>CSIGnCTL0 </p>
<p>SpiMemoryModeSelection </p>
<p>W </p>
<p>SPI_RESET_PWR </p>
<p>SPI_SET_DIRECT_ACCES</p>
<p>S </p>
<p>SPI_SET_MEMORY_ACCE</p>
<p>SS </p>
<p>CSIHnCTL0 </p>
<p>W </p>
<p>SPI_RESET_PWR </p>
<p>SPI_SET_DIRECT_ACCES</p>
<p>S </p>
<p>SPI_SET_MEMORY_ACCE</p>
<p>SS </p>
<p>CSIGnSTCR0 </p>
<p>- </p>
<p>W </p>
<p>SPI_CLR_STS_FLAGS </p>
<p>CSIHnSTCR0 </p>
<p>- </p>
<p>W </p>
<p>SPI_CLR_STS_FLAGS </p>
<p>CSIHnSTR0 </p>
<p>- </p>
<p>R </p>
<p>- </p>
<p>CSIGnSTR0 </p>
<p>- </p>
<p>R  </p>
<p>- </p>
<p>CSIGnCTL1 </p>
<p>SpiCsInactiveAfterLastDat</p>
<p>a, SpiDataWidth </p>
<p>W </p>
<p>LunDataAccess1.ulRegData </p>
<p>LpJobConfig-</p>
<p>&gt;ulMainCtl1Value </p>
<p>SPI_SET_SLIT </p>
<p>CSIHnCTL1 </p>
<p>W </p>
<p>LunDataAccess1.ulRegData </p>
<p>LpJobConfig-</p>
<p>&gt;ulMainCtl1Value </p>
<p>SPI_SET_SLIT </p>
<p>DCSTCn </p>
<p>- </p>
<p>W </p>
<p>SPI_DMA_STR_CLEAR </p>
<p>DCSTn </p>
<p>- </p>
<p>R </p>
<p>- </p>
<p>DCENn </p>
<p>- </p>
<p>W </p>
<p>SPI_DMA_DCEN_DISABLE </p>
<p>DTCTn </p>
<p>- </p>
<p>W </p>
<p>SPI_DMA_FIXED_TX_SETT</p>
<p>INGS </p>
<p>SPI_DMA_INV_TX_SETTIN</p>
<p>GS </p>
<p>LddNoOfBuffers </p>
<p>SPI_DMA_STR_REQ </p>
<p>SPI_DMA_ONCE </p>
<p>SPI_DMA_FIXED_RX_SET</p>
<p>TINGS </p>
<p>SPI_DMA_INV_RX_SETTIN</p>
<p>GS </p>
<p>SPI_DMA_ONCE </p>
<p>DSAn </p>
<p>- </p>
<p>W </p>
<p>(uint32)LpTxData </p>
<p>DTFRn </p>
<p>- </p>
<p>W </p>
<p>(uint32)SPI_ZERO </p>
<p>(uint32)(LpDmaConfig-&gt; </p>
<p>usDmaDtfrRegValue </p>
<p>DCSTSn </p>
<p>- </p>
<p>W </p>
<p>SPI_DMA_STR </p>
<p>DTCn </p>
<p>- </p>
<p>W </p>
<p>SPI_ONE </p>
<p>DTFRRQCn </p>
<p>- </p>
<p>W </p>
<p>SPI_DMA_DRQ_CLEAR </p>
<p>DCENn </p>
<p>- </p>
<p>W </p>
<p>SPI_DMA_DCEN_ENABLE </p>
<p>DDAn </p>
<p>- </p>
<p>W </p>
<p>(uint32)(&amp;Spi_GddDmaRxD</p>
<p>ata) </p>
<p>CSIGnCTL2 </p>
<p>SpiBaudrateRegisterSelect </p>
<p>W </p>
<p>LpJobConfig-&gt;usCtl2Value </p>
<p>CSIHnCTL2 </p>
<p>SpiFifoTimeOut </p>
<p>W </p>
<p>LpJobConfig-&gt;usCtl2Value </p>
<p>CSIHnMCTL2 </p>
<p>- </p>
<p>W </p>
<p>LunDataAccess1.ulRegData </p>
<h1 style="page-break-before:always; "></h1>
<p><b>  Chapter 6                                                                                                                                        Registers Details </b></p>
<p> </p>
<p>42 </p>
<p> </p>
<p> </p>
<p><b>API Name </b></p>
<p> </p>
<p><b>Registers </b></p>
<p><b>Config </b></p>
<p><b>Parameter </b></p>
<p><b>Register </b></p>
<p><b>Access </b></p>
<p><b>R/W/RW </b></p>
<p> </p>
<p><b>Macro/Variable </b></p>
<p>CSIHnTX0W </p>
<p>- </p>
<p>W </p>
<p>LunDataAccess1.ulRegData, </p>
<p>LunDataAccess2.ulRegData, </p>
<p>LpDataAccess-&gt;ulRegData  </p>
<p>CSIHnTX0H </p>
<p>- </p>
<p>W </p>
<p>LddData, </p>
<p>LunDataAccess2.usRegData</p>
<p>5[SPI_ZERO] </p>
<p>CSIGnTX0H </p>
<p>- </p>
<p>W </p>
<p>LddData, </p>
<p>LunDataAccess2.usRegData</p>
<p>5[SPI_ZERO] </p>
<p>CSIHnCFGx </p>
<p>SpiCsIdleTiming, </p>
<p>SpiCsHoldTiming,</p>
<p> </p>
<p>SpiCsInterDataDelay, </p>
<p>SpiCsSetupTime, </p>
<p>SpiCsIdleEnforcement</p>
<p> </p>
<p> </p>
<p>W </p>
<p>LunDataAccess1.ulRegData </p>
<p>CSIGnTX0W </p>
<p>- </p>
<p>W </p>
<p>LunDataAccess1.ulRegData, </p>
<p>LpDataAccess-&gt;ulRegData </p>
<p>CSIHnBRS[0] </p>
<p>SpiBaudrateConfiguration </p>
<p>W </p>
<p>LpCsihOsBaseAddr-</p>
<p>&gt;usCSIHBRS[0] </p>
<p>CSIHnBRS[1] </p>
<p>- </p>
<p>W </p>
<p>LpCsihOsBaseAddr-</p>
<p>&gt;usCSIHBRS[1] </p>
<p>CSIHnBRS[2] </p>
<p>- </p>
<p>W </p>
<p>LpCsihOsBaseAddr-</p>
<p>&gt;usCSIHBRS[2] </p>
<p>CSIHnBRS[3] </p>
<p>- </p>
<p>W </p>
<p>LpCsihOsBaseAddr-</p>
<p>&gt;usCSIHBRS[3] </p>
<p>IMRn </p>
<p>SpiHwUnitSelection </p>
<p>and </p>
<p>SpiMemoryModeSelection</p>
<p> </p>
<p> </p>
<p>W </p>
<p> </p>
<p>LpHWUnitInfo-</p>
<p>&gt;usRxImrMask, </p>
<p>LpHWUnitInfo-</p>
<p>&gt;usTxImrMask, </p>
<p>LpHWUnitInfo-</p>
<p>&gt;usErrorImrMask, </p>
<p>LpHWUnitInfo-</p>
<p>&gt;usRxImrMask, </p>
<p>LpHWUnitInfo-</p>
<p>&gt;usTxImrMask, </p>
<p>LpHWUnitInfo-</p>
<p>&gt;usTxCancelImrMask, </p>
<p>LpHWUnitInfo-</p>
<p>&gt;usErrorImrMask </p>
<p>EICn </p>
<p>- </p>
<p>W </p>
<p>SPI_CLR_INT_REQ  </p>
<p>DTFRRQn </p>
<p>- </p>
<p>R </p>
<p>- </p>
<p>PORTPSRx </p>
<p>SpiPortPinSelect </p>
<p>W </p>
<p>LulPinMskVal &amp; </p>
<p>SPI_PORT_REG_MASK, </p>
<p>LulPinMskVal </p>
<p>CSIHnRX0H </p>
<p>- </p>
<p>R </p>
<p>- </p>
<p>CSIGnRx0 </p>
<p>- </p>
<p>R </p>
<p>- </p>
<p>CSIHnRX0W </p>
<p>- </p>
<p>R </p>
<p> - </p>
<p>Spi_ReadIB </p>
<p>CSIHnRX0W </p>
<p>- </p>
<p>W </p>
<p>LunDataAccess2.ulRegData </p>
<h1 style="page-break-before:always; "></h1>
<p><b> Registers Details </b></p>
<p><b>Chapter 6 </b></p>
<p> </p>
<p>43 </p>
<p> </p>
<p><b>API Name </b></p>
<p> </p>
<p><b>Registers </b></p>
<p><b>Config </b></p>
<p><b>Parameter </b></p>
<p><b>Register </b></p>
<p><b>Access </b></p>
<p><b>R/W/RW </b></p>
<p> </p>
<p><b>Macro/Variable </b></p>
<p>CSIHnRX0H </p>
<p>- </p>
<p>W </p>
<p>LunDataAccess2.usRegData</p>
<p>5[SPI_ONE], </p>
<p>LunDataAccess2.usRegData</p>
<p>5[SPI_ZERO] </p>
<p>CSIHnMRWP0 </p>
<p>- </p>
<p>RW </p>
<p>LunDataAccess1.ulRegData </p>
<p>Spi_SetupEB </p>
<p>- </p>
<p>- </p>
<p>- </p>
<p>- </p>
<p>Spi_GetStatus </p>
<p>- </p>
<p>- </p>
<p>- </p>
<p>- </p>
<p>Spi_GetJobResult </p>
<p>- </p>
<p>- </p>
<p>- </p>
<p>- </p>
<p>Spi_GetSequenceRes</p>
<p>ult </p>
<p>- </p>
<p>- </p>
<p>- </p>
<p>- </p>
<p>Spi_SyncTransmit </p>
<p>CSIHnMCTL0 </p>
<p>- </p>
<p>W </p>
<p>LpJobConfig-&gt;usMCtl0Value </p>
<p>CSIGnCTL0 </p>
<p>- </p>
<p>W </p>
<p>SPI_RESET_PWR </p>
<p>SPI_SET_DIRECT_ACCES</p>
<p>S </p>
<p>LunDataAccess1.ulRegData </p>
<p> </p>
<p>CSIHnCTL0 </p>
<p>- </p>
<p>W </p>
<p>SPI_RESET_PWR </p>
<p>SPI_SET_DIRECT_ACCES</p>
<p>S </p>
<p>SPI_SET_PWR </p>
<p>SPI_ZERO </p>
<p>CSIGnTX0W </p>
<p>- </p>
<p>W </p>
<p>LunDataAccess2.ulRegData </p>
<p>LunDataAccess1.ulRegData </p>
<p>CSIHnRX0H </p>
<p>- </p>
<p>RW </p>
<p>LunDataAccess3.ulRegData, </p>
<p>Spi_GusSynDataAccess </p>
<p>CSIGnCFG0 </p>
<p>- </p>
<p>RW </p>
<p>Spi_GusAsynDataAccess </p>
<p>LddData </p>
<p>LpJobConfig-</p>
<p>&gt;ulConfigRegValue, </p>
<p>LunDataAccess1.ulRegData </p>
<p>CSIGnSTR0 </p>
<p>- </p>
<p>R </p>
<p>- </p>
<p>CSIHnSTR0 </p>
<p>- </p>
<p>R </p>
<p>- </p>
<p>CSIGnSTCR0 </p>
<p>- </p>
<p>W </p>
<p>SPI_PE_ERR_CLR, </p>
<p>SPI_DCE_ERR_CLR, </p>
<p>SPI_OFE_ERR_CLR </p>
<p>CSIHnSTCR0 </p>
<p>- </p>
<p>W </p>
<p>SPI_DCE_ERR_CLR, </p>
<p>SPI_PE_ERR_CLR, </p>
<p>SPI_OFE_ERR_CLR </p>
<p>CSIGnCTL1 </p>
<p>- </p>
<p>W </p>
<p>LpJobConfig-</p>
<p>&gt;ulMainCtl1Value, </p>
<p>LpMainOsBaseAddr-</p>
<p>&gt;ulMainCTL1 | </p>
<p>SPI_SET_SLIT </p>
<p>CSIHnCTL1 </p>
<p>SpiCsInactiveAfterLastDat</p>
<p>a, SpiDataWidth </p>
<p>W </p>
<p>LunDataAccess1.ulRegData, </p>
<p>(LpMainOsBaseAddr-</p>
<p>&gt;ulMainCTL1 | </p>
<p>~SPI_CSRI_AND_MASK </p>
<p>CSIGnCTL2 </p>
<p>SpiBaudrateRegisterSelect </p>
<p>W </p>
<p>LunDataAccess1.ulRegData, </p>
<p>LpJobConfig-&gt;usCtl2Value,  </p>
<p>CSIHnCTL2 </p>
<p>SpiFifoTimeOut </p>
<p>W </p>
<p>LpJobConfig-&gt;usCtl2Value </p>
<p>CSIHnTX0W </p>
<p>- </p>
<p>W </p>
<p>LpJobConfig-&gt;usCtl2Value, </p>
<p>LunDataAccess3.ulRegData </p>
<h1 style="page-break-before:always; "></h1>
<p><b>  Chapter 6                                                                                                                                        Registers Details </b></p>
<p> </p>
<p>44 </p>
<p> </p>
<p> </p>
<p><b>API Name </b></p>
<p> </p>
<p><b>Registers </b></p>
<p><b>Config </b></p>
<p><b>Parameter </b></p>
<p><b>Register </b></p>
<p><b>Access </b></p>
<p><b>R/W/RW </b></p>
<p> </p>
<p><b>Macro/Variable </b></p>
<p>CSIHnCFG </p>
<p>SpiCsIdleTiming, </p>
<p>SpiCsHoldTiming,</p>
<p> </p>
<p>SpiCsInterDataDelay, </p>
<p>SpiCsSetupTime, </p>
<p>SpiCsIdleEnforcement</p>
<p> </p>
<p> </p>
<p>RW </p>
<p>LunDataAccess1.ulRegData </p>
<p>LpJobConfig-</p>
<p>&gt;ulConfigRegValue </p>
<p>CSIGnRX0 </p>
<p> </p>
<p>- </p>
<p> </p>
<p>R </p>
<p>- </p>
<p>CSIHnBRS[0] </p>
<p>SpiBaudrateConfiguration </p>
<p>W </p>
<p>LpCsihOsBaseAddr-</p>
<p>&gt;usCSIHBRS[0], </p>
<p>LpJobConfig-&gt;usCtl2Value &amp; </p>
<p>SPI_CSIH_BRS_MASK </p>
<p>CSIHnBRS[1] </p>
<p>W </p>
<p>LpCsihOsBaseAddr-</p>
<p>&gt;usCSIHBRS[1], </p>
<p>LpJobConfig-&gt;usCtl2Value) </p>
<p>&amp; SPI_CSIH_BRS_MASK </p>
<p>CSIHnBRS[2] </p>
<p>W </p>
<p>LpCsihOsBaseAddr-</p>
<p>&gt;usCSIHBRS[2], </p>
<p>LpJobConfig-&gt;usCtl2Value) </p>
<p>&amp; SPI_CSIH_BRS_MASK </p>
<p>CSIHnBRS[3] </p>
<p>W </p>
<p>LpCsihOsBaseAddr-</p>
<p>&gt;usCSIHBRS[3], </p>
<p>LpJobConfig-&gt;usCtl2Value) </p>
<p>&amp; SPI_CSIH_BRS_MASK </p>
<p>EICn </p>
<p>- </p>
<p>W </p>
<p>SPI_CLR_INT_REQ  </p>
<p>PORTPSRx </p>
<p>SpiPortPinSelect </p>
<p>W </p>
<p>LulPinMskVal, LulPinMskVal </p>
<p>&amp; SPI_PORT_REG_MASK </p>
<p>Spi_GetHWUnitStatus  CSIGnSTR0 </p>
<p>- </p>
<p>R </p>
<p>- </p>
<p>CSIHnSTR0 </p>
<p>- </p>
<p>R </p>
<p>- </p>
<p>Spi_Cancel </p>
<p>CSIHnCTL0 </p>
<p> </p>
<p>- </p>
<p>       R/W </p>
<p>SPI_SET_JOBE </p>
<p>IMRn </p>
<p>- </p>
<p>W </p>
<p>LpHWUnitInfo-</p>
<p>&gt;ucTxCancelImrMask </p>
<p>EICn </p>
<p>- </p>
<p>W </p>
<p>SPI_CLR_INT_REQ  </p>
<p>Spi_SetAsyncMode </p>
<p>IMRn </p>
<p>SpiHwUnitSelection </p>
<p>and </p>
<p>SpiMemoryModeSelection</p>
<p> </p>
<p> </p>
<p>W </p>
<p> </p>
<p>Spi_GstHWUnitInfo[LddHWU</p>
<p>nit].usRxImrMask, </p>
<p>Spi_GstHWUnitInfo[LddHWU</p>
<p>nit].usTxImrMask, </p>
<p>Spi_GstHWUnitInfo[LddHWU</p>
<p>nit].usErrorImrMask, </p>
<p>Spi_GstHWUnitInfo[LddHWU</p>
<p>nit].usRxImrMask, </p>
<p>Spi_GstHWUnitInfo[LddHWU</p>
<p>nit].usTxImrMask, </p>
<p>Spi_GstHWUnitInfo[LddHWU</p>
<p>nit].usTxCancelImrMask </p>
<p>Spi_GstHWUnitInfo[LddHWU</p>
<p>nit].usErrorImrMask </p>
<p>EICn </p>
<p>- </p>
<p>w </p>
<p>SPI_CLR_INT_REQ  </p>
<p>Spi_MainFunction_Ha</p>
<p>ndling </p>
<p>CSIGnCTL0 </p>
<p>- </p>
<p>W </p>
<p>SPI_SET_PWR </p>
<p>CSIHnCTL0 </p>
<p>- </p>
<p>W </p>
<p>SPI_SET_PWR </p>
<h1 style="page-break-before:always; "></h1>
<p><b> Registers Details </b></p>
<p><b>Chapter 6 </b></p>
<p> </p>
<p>45 </p>
<p> </p>
<p><b>API Name </b></p>
<p> </p>
<p><b>Registers </b></p>
<p><b>Config </b></p>
<p><b>Parameter </b></p>
<p><b>Register </b></p>
<p><b>Access </b></p>
<p><b>R/W/RW </b></p>
<p> </p>
<p><b>Macro/Variable </b></p>
<p>CSIGnRX0 </p>
<p>- </p>
<p>R </p>
<p>- </p>
<p>CSIHnRX0H </p>
<p>- </p>
<p>R </p>
<p>- </p>
<p>CSIGnTX0W </p>
<p>- </p>
<p>W </p>
<p>LunDataAccess1.ulRegData </p>
<p>CSIHnTX0W </p>
<p>- </p>
<p>W </p>
<p>LunDataAccess1.ulRegData </p>
<p>CSIGnTX0H </p>
<p>- </p>
<p>W </p>
<p>LddData </p>
<p>LunDataAccess2.usRegData</p>
<p>5[0] </p>
<p>CSIHnTX0H </p>
<p>- </p>
<p>W </p>
<p>LddData </p>
<p>LunDataAccess2.usRegData</p>
<p>5[0] </p>
<p>CSIHnRX0W </p>
<p>- </p>
<p>R </p>
<p>- </p>
<p>CSIHnMCTL2 </p>
<p>SpiMemoryModeSelection </p>
<p>W </p>
<p>LunDataAccess1.ulRegData </p>
<p>EICn </p>
<p>- </p>
<p> </p>
<p>W </p>
<p> </p>
<p>SPI_CLR_INT_REQ </p>
<p> </p>
<p>DCSTCn </p>
<p>- </p>
<p>W </p>
<p>SPI_DMA_STR_CLEAR </p>
<p>DCSTn </p>
<p>- </p>
<p>R </p>
<p>- </p>
<p>DCENn </p>
<p>- </p>
<p>W </p>
<p>SPI_DMA_DCEN_DISABLE </p>
<p>DTCTn </p>
<p>- </p>
<p>W </p>
<p>SPI_DMA_FIXED_TX_SETT</p>
<p>INGS </p>
<p>SPI_DMA_INV_TX_SETTIN</p>
<p>GS </p>
<p>LddNoOfBuffers </p>
<p>SPI_DMA_STR_REQ </p>
<p>SPI_DMA_ONCE </p>
<p>SPI_DMA_FIXED_RX_SET</p>
<p>TINGS </p>
<p>SPI_DMA_INV_RX_SETTIN</p>
<p>GS </p>
<p>SPI_DMA_ONCE </p>
<p>DSAn </p>
<p>- </p>
<p>W </p>
<p>(uint32)LpTxData </p>
<p>DTFRn </p>
<p>- </p>
<p>W </p>
<p>(uint32)SPI_ZERO </p>
<p>(uint32)(LpDmaConfig-&gt; </p>
<p>usDmaDtfrRegValue </p>
<p>DCSTSn </p>
<p>- </p>
<p>W </p>
<p>SPI_DMA_STR </p>
<p>DTCn </p>
<p>- </p>
<p>W </p>
<p>SPI_ONE </p>
<p>DTFRRQCn </p>
<p>- </p>
<p>W </p>
<p>SPI_DMA_DRQ_CLEAR </p>
<p>DCENn </p>
<p>- </p>
<p>W </p>
<p>SPI_DMA_DCEN_ENABLE </p>
<p>DDAn </p>
<p>- </p>
<p>W </p>
<p>(uint32)(&amp;Spi_GddDmaRxD</p>
<p>ata) </p>
<p>CSIGnSTCR0 </p>
<p>- </p>
<p>W </p>
<p>SPI_CLR_STS_FLAGS </p>
<p>CSIHnSTCR0 </p>
<p>- </p>
<p>W </p>
<p>SPI_CLR_STS_FLAGS </p>
<p>CSIHnSTR0 </p>
<p>- </p>
<p>R </p>
<p>- </p>
<p>CSIGnSTR0 </p>
<p>- </p>
<p>R  </p>
<p>- </p>
<p>CSIGnCTL1 </p>
<p>SpiCsInactiveAfterLastDat</p>
<p>a, SpiDataWidth </p>
<p>W </p>
<p>LunDataAccess1.ulRegData </p>
<p>LpJobConfig-</p>
<p>&gt;ulMainCtl1Value </p>
<p>SPI_SET_SLIT </p>
<p>CSIHnCTL1 </p>
<p>- </p>
<p>W </p>
<p>LunDataAccess1.ulRegData </p>
<p>LpJobConfig-</p>
<p>&gt;ulMainCtl1Value </p>
<p>SPI_SET_SLIT </p>
<p>CSIGnCTL2 </p>
<p>SpiBaudrateRegisterSelect </p>
<p>W </p>
<p>LpJobConfig-&gt;usCtl2Value </p>
<p>CSIHnCTL2 </p>
<p>SpiFifoTimeOut </p>
<p>W </p>
<p>LpJobConfig-&gt;usCtl2Value </p>
<p>CSIHnMCTL2 </p>
<p>- </p>
<p>W </p>
<p>LunDataAccess1.ulRegData </p>
<h1 style="page-break-before:always; "></h1>
<p><b>  Chapter 6                                                                                                                                        Registers Details </b></p>
<p> </p>
<p>46 </p>
<p> </p>
<p> </p>
<p><b>API Name </b></p>
<p> </p>
<p><b>Registers </b></p>
<p><b>Config </b></p>
<p><b>Parameter </b></p>
<p><b>Register </b></p>
<p><b>Access </b></p>
<p><b>R/W/RW </b></p>
<p> </p>
<p><b>Macro/Variable </b></p>
<p>CSIHnCFGx </p>
<p>SpiCsIdleTiming, </p>
<p>SpiCsHoldTiming,</p>
<p> </p>
<p>SpiCsInterDataDelay, </p>
<p>SpiCsSetupTime, </p>
<p>SpiCsIdleEnforcement</p>
<p> </p>
<p> </p>
<p>W </p>
<p>LunDataAccess1.ulRegData </p>
<p>CSIHnBRS[0] </p>
<p>SpiBaudrateConfiguration </p>
<p>W </p>
<p>LpCsihOsBaseAddr-</p>
<p>&gt;usCSIHBRS[0] </p>
<p>CSIHnBRS[1] </p>
<p>- </p>
<p>W </p>
<p>LpCsihOsBaseAddr-</p>
<p>&gt;usCSIHBRS[1] </p>
<p>CSIHnBRS[2] </p>
<p>- </p>
<p>W </p>
<p>LpCsihOsBaseAddr-</p>
<p>&gt;usCSIHBRS[2] </p>
<p>CSIHnBRS[3] </p>
<p>- </p>
<p>W </p>
<p>LpCsihOsBaseAddr-</p>
<p>&gt;usCSIHBRS[3] </p>
<p>CSIHnMCTL0 </p>
<p>- </p>
<p>W </p>
<p>LpJobConfig-&gt;usMCtl0Value </p>
<p>DTFRRQn </p>
<p>- </p>
<p>R </p>
<p>- </p>
<p>PORTPSRx</p>
<p> </p>
<p> </p>
<p>SpiPortPinSelect </p>
<p>W </p>
<p>LulPinMskVal, LulPinMskVal </p>
<p>&amp; SPI_PORT_REG_MASK </p>
<p>Spi_GetVersionInfo </p>
<p>- </p>
<p>- </p>
<p>- </p>
<p>- </p>
<p>Spi_GetErrorInfor </p>
<p>- </p>
<p>- </p>
<p>- </p>
<p>- </p>
<p>Spi_SelfTest </p>
<p>CSIGnRX0 </p>
<p>- </p>
<p>R </p>
<p>- </p>
<p>CSIHnRX0H </p>
<p>- </p>
<p>R </p>
<p>- </p>
<p>CSIGnCTL0 </p>
<p>SpiLoopBackSelfTest </p>
<p>W </p>
<p>SPI_SET_DIRECT_ACCES</p>
<p>S </p>
<p>SPI_ZERO </p>
<p>CSIHnCTL0 </p>
<p>SpiLoopBackSelfTest </p>
<p>W </p>
<p>LpJobConfig-&gt;usMCtl0Value </p>
<p>SPI_ZERO </p>
<p>CSIGnCTL1 </p>
<p>SpiLoopBackSelfTest </p>
<p>W </p>
<p>SPI_LOOPBACK_ENABLE </p>
<p>SPI_ZERO </p>
<p>SPI_SET_SLIT </p>
<p>CSIHnCTL1 </p>
<p>SpiLoopBackSelfTest </p>
<p>W </p>
<p>SPI_LOOPBACK_ENABLE </p>
<p>SPI_ZERO  SPI_SET_SLIT </p>
<p>LunDataAccess1.ulRegData </p>
<p>CSIGnCTL2 </p>
<p>SpiLoopBackSelfTest </p>
<p>W </p>
<p>SPI_LOOPBACK_CNTRL2_</p>
<p>VALUE </p>
<p>SPI_ZERO </p>
<p>LpJobConfig-&gt;usCtl2Value </p>
<p>CSIHnCTL2 </p>
<p>SpiLoopBackSelfTest </p>
<p>W </p>
<p>SPI_LOOPBACK_CSIH_CN</p>
<p>TRL2_VALUE </p>
<p>SPI_ZERO </p>
<p>((LpJobConfig-&gt;usCtl2Value) </p>
<p>&amp; SPI_CSIH_PRE_MASK) </p>
<h1 style="page-break-before:always; "></h1>
<p><b> Registers Details </b></p>
<p><b>Chapter 6 </b></p>
<p> </p>
<p>47 </p>
<p> </p>
<p><b>API Name </b></p>
<p> </p>
<p><b>Registers </b></p>
<p><b>Config </b></p>
<p><b>Parameter </b></p>
<p><b>Register </b></p>
<p><b>Access </b></p>
<p><b>R/W/RW </b></p>
<p> </p>
<p><b>Macro/Variable </b></p>
<p>CSIGnCFG0 </p>
<p>SpiLoopBackSelfTest </p>
<p>W </p>
<p>SPI_LOOPBACK_DLS_SET</p>
<p>TING </p>
<p>SPI_ZERO </p>
<p>LunDataAccess1.ulRegData </p>
<p>CSIGnSTCR0 </p>
<p>SpiLoopBackSelfTest </p>
<p>W </p>
<p>SPI_PE_ERR_CLR </p>
<p>SPI_ZERO </p>
<p>CSIHnSTCR0 </p>
<p>SpiLoopBackSelfTest </p>
<p>W </p>
<p>SPI_CSIH_CLR_STS_FLAG</p>
<p>S </p>
<p>SPI_PE_ERR_CLR </p>
<p>SPI_ZERO </p>
<p>CSIGnTX0H </p>
<p>SpiLoopBackSelfTest </p>
<p>W </p>
<p>SPI_LOOPBACK_DATA </p>
<p>SPI_ZERO </p>
<p>CSIHnCFG0 </p>
<p>SpiLoopBackSelfTest </p>
<p>W </p>
<p>SPI_LOOPBACK_DLS_SET</p>
<p>TING SPI_ZERO </p>
<p>LunDataAccess1.ulRegData </p>
<p>CSIHnBRSy </p>
<p>SpiLoopBackSelfTest </p>
<p>W </p>
<p>SPI_LOOPBACK_CSIH_BR</p>
<p>S0_VALUE </p>
<p>SPI_ZERO </p>
<p>((LpJobConfigCSConfig-</p>
<p>&gt;usCtl2Value) &amp; </p>
<p>SPI_CSIH_BRS_MASK) </p>
<p>CSIHnTX0W </p>
<p>SpiLoopBackSelfTest </p>
<p>W </p>
<p>SPI_LOOPBACK_DATA </p>
<p>SPI_ZERO </p>
<p>CSIHnSTR0 </p>
<p>SpiLoopBackSelfTest </p>
<p>R </p>
<p>- </p>
<p>CSIGnSTR0 </p>
<p>SpiLoopBackSelfTest </p>
<p>R </p>
<p>- </p>
<p>ECCCSIHnCTL </p>
<p>SpiECCSelfTest </p>
<p>R/W </p>
<p>SET_EC1EDIC_EC2EDIC </p>
<p>ECC_CTL_ECEMF_SET </p>
<p>ECC_CTL_ECER1F_ECER</p>
<p>2F_CLEAR </p>
<p>CTL_ERRCLR_FLAG </p>
<p>CTL_2BIT_ERRCLR_FLAG </p>
<p>CTL_1BIT_ERR_FLAG </p>
<p>ECCCSIHnTM</p>
<p>C </p>
<p>SpiECCSelfTest </p>
<p>W </p>
<p>SET_TMC_BITS </p>
<p>SET_TEST_DISABLE </p>
<p>ECCCSIHnTRC </p>
<p>SpiECCSelfTest </p>
<p>W </p>
<p>TRC_ERDB_INITIALIZE </p>
<p>ECCCSIHnTED </p>
<p>SpiECCSelfTest </p>
<p>R/W </p>
<p>RAM_INITIALIZE, </p>
<p>ALL_ZERO_PATTERN, </p>
<p>ALL_ONE_PATTERN, </p>
<p>TWO_BIT_PATTERN </p>
<p>IMR </p>
<p>SpiHwUnitSelection </p>
<p>and </p>
<p>SpiLoopBackSelfTest</p>
<p> </p>
<p>W </p>
<p> </p>
<p>Spi_GstHWUnitInfo[LddHWU</p>
<p>nit].usRxImrMask, </p>
<p>Spi_GstHWUnitInfo[LddHWU</p>
<p>nit].pTxImrAddress, </p>
<p>Spi_GstHWUnitInfo[LddHWU</p>
<p>nit].pErrorImrAddress, </p>
<p>Spi_GstHWUnitInfo[LddHWU</p>
<p>nit].usRxImrMask, </p>
<p>LpHWUnitInfo-</p>
<p>&gt;usTxCancelImrMask </p>
<p>EICn </p>
<p>- </p>
<p>W </p>
<p>SPI_CLR_INT_REQ </p>
<h1 style="page-break-before:always; "></h1>
<p><b>  Chapter 6                                                                                                                                        Registers Details </b></p>
<p> </p>
<p>48 </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<h1 style="page-break-before:always; "></h1>
<p><b> Interaction Between The User And SPI Driver Component </b></p>
<p><b>Chapter 7 </b></p>
<p> </p>
<p>49 </p>
<p><b>Chapter 7 </b></p>
<p><b>Interaction Between The User And SPI </b></p>
<p><b>Driver Component  </b></p>
<p> </p>
<p>The details of the services supported by the SPI Driver Component to the </p>
<p>upper layers users and the mapping of the channels to the hardware units is </p>
<p>provided in the following sections: </p>
<p> </p>
<p><b>7.1.  Services Provided By SPI Driver Component To The </b></p>
<p><b>User </b></p>
<p> </p>
<p> </p>
<p>The SPI Driver Component provides the following functions to upper layer: - </p>
<p> </p>
<p>• </p>
<p>To provide the required mechanism to configure the on-chip SPI peripheral. </p>
<p> </p>
<p>• </p>
<p>To initialize and de-initialize the SPI driver. </p>
<p> </p>
<p>• </p>
<p>To read and write to devices connected through SPI buses. </p>
<p> </p>
<p>• </p>
<p>To provide the transmission of data on the SPI bus both synchronously and </p>
<p>asynchronously. </p>
<p> </p>
<p>• </p>
<p>To cancel an ongoing transmission. </p>
<p> </p>
<p>• </p>
<p>To set the asynchronous transfer mode. </p>
<p> </p>
<p>• </p>
<p>To get the status of the SPI Driver and hardware unit. </p>
<p> </p>
<p>• </p>
<p>To get the result of the specified job and specified sequence. </p>
<p> </p>
<p>• </p>
<p>To provide access to SPI communication to several users(for example, </p>
<p>EEPROM, I/O ASICs). </p>
<p> </p>
<p>• </p>
<p>To read the SPI Driver Component version information. </p>
<p> </p>
<p>• </p>
<p>To copy Hardware Error Details to User Buffer. </p>
<p>  </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<h1 style="page-break-before:always; "></h1>
<p><b>  Chapter 7                                                      Interaction Between The User And SPI Driver Component </b></p>
<p> </p>
<p>50 </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<h1 style="page-break-before:always; "></h1>
<p><b>SPI Driver Component Header And Source File Description </b></p>
<p><b>Chapter 8 </b></p>
<p> </p>
<p>51 </p>
<p><b>Chapter 8 </b></p>
<p><b>SPI Driver Component Header And </b></p>
<p><b>Source File Description </b></p>
<p> </p>
<p>This section explains the SPI Driver Component’s source and header </p>
<p>files. These files have to be included in the project application while integrating </p>
<p>with other modules. </p>
<p> </p>
<p>The C header file generated by SPI Driver Generation Tool: </p>
<p> </p>
<p>• </p>
<p>Spi_Cfg.h </p>
<p> </p>
<p>• </p>
<p>Spi_Cbk.h </p>
<p> </p>
<p>The C source file generated by SPI Driver Generation Tool: </p>
<p> </p>
<p>• </p>
<p>Spi_PBcfg.c </p>
<p> </p>
<p>• </p>
<p>Spi_Lcfg.c </p>
<p> </p>
<p>The SPI Driver Component C header files: </p>
<p> </p>
<p>• </p>
<p>Spi_Driver.h </p>
<p> </p>
<p>• </p>
<p>Spi_PBTypes.h </p>
<p> </p>
<p>• </p>
<p>Spi_LTTypes.h </p>
<p> </p>
<p>• </p>
<p>Spi_Ram.h </p>
<p> </p>
<p>• </p>
<p>Spi.h </p>
<p> </p>
<p>• </p>
<p>Spi_Irq.h </p>
<p> </p>
<p>• </p>
<p>Spi_Scheduler.h </p>
<p> </p>
<p>• </p>
<p>Spi_Version.h </p>
<p> </p>
<p>• </p>
<p>Spi_Types.h </p>
<p> </p>
<p>• </p>
<p>Spi_RegWrite.h </p>
<p> </p>
<p> </p>
<p>The SPI Driver Component C source files: </p>
<p> </p>
<p>• </p>
<p>Spi_Driver.c </p>
<p> </p>
<p>• </p>
<p>Spi.c </p>
<p> </p>
<p>• </p>
<p>Spi_Irq.c </p>
<p> </p>
<p>• </p>
<p>Spi_Ram.c </p>
<p> </p>
<p>• </p>
<p>Spi_Scheduler.c </p>
<p> </p>
<p>• </p>
<p>Spi_Version.c </p>
<p> </p>
<p>The Stub C header files: </p>
<p> </p>
<p>• </p>
<p>Compiler.h </p>
<p> </p>
<p>• </p>
<p>Compiler_Cfg.h </p>
<p> </p>
<p>• </p>
<p>MemMap.h </p>
<p>• </p>
<p>Platform_Types.h </p>
<p>• </p>
<p>rh850_Types.h  </p>
<p>• </p>
<p>Dem.h </p>
<p> </p>
<h1 style="page-break-before:always; "></h1>
<p><b>Chapter 8                                                     SPI Driver Component Header And Source File Description </b></p>
<p> </p>
<p>52 </p>
<p>• </p>
<p>SchM_Spi.h </p>
<p> </p>
<p>• </p>
<p>Det.h </p>
<p> </p>
<p>• </p>
<p>Os.h </p>
<p> </p>
<p>• </p>
<p>Rte.h </p>
<p>• </p>
<p>Std_Types.h </p>
<p> </p>
<p>The description of the SPI Driver Component files is provided in the table </p>
<p>below: </p>
<p><b>Table 8-1 </b></p>
<p><b>Description Of The SPI Driver Component Files </b></p>
<p> </p>
<p><b>File</b></p>
<p> </p>
<p><b>Details</b></p>
<p> </p>
<p>Spi_Cfg.h</p>
<p> </p>
<p>This file is generated by the SPI Driver Component Code Generation Tool for </p>
<p>various SPI Driver component pre-compile time parameters. This file contains </p>
<p>macro definitions for the configuration elements and exclusive areas for data </p>
<p>protection. The macros and the parameters generated will vary with respect to the </p>
<p>configuration in the input XML file.</p>
<p> </p>
<p> </p>
<p>Spi_Cbk.h</p>
<p> </p>
<p>This file is generated by the SPI Driver Component Code Generation Tool for </p>
<p>provision of function prototype Declarations for SPI callback Notification </p>
<p>Functions.</p>
<p> </p>
<p>Spi_PBcfg.c</p>
<p> </p>
<p>This file contains post-build configuration data. The structures related to channel </p>
<p>configuration, job configuration and sequence configuration are provided in this </p>
<p>file. Data structures will vary with respect to parameters configured.</p>
<p> </p>
<p>Spi_Lcfg.c</p>
<p> </p>
<p>This file contains provision of SPI Link time Parameters. The structures related </p>
<p>to hardware registers are provided in this file. Data structures will vary with </p>
<p>respect to parameters configured.</p>
<p> </p>
<p>Spi_Driver.h</p>
<p> </p>
<p>This file contains the Function Prototypes that are defined in Spi_Driver.c file.</p>
<p> </p>
<p>Spi_PBTypes.h</p>
<p> </p>
<p>This file contains the data structure definitions of the channel configuration, </p>
<p>job configuration and sequence configuration</p>
<p> </p>
<p>Spi_LTTypes.h</p>
<p> </p>
<p>This file contains the data structure definitions of CSIG and CSIH hardware </p>
<p>registers, Interrupt control registers, DMA hardware registers, Hardware unit </p>
<p>information, DMA unit information, storing current status of SPI communication, </p>
<p>channel for the link time parameters, function pointer for Callback notification </p>
<p>function for Jobs, processing sequence, storing external buffer attributes, </p>
<p>Scheduler and DMA Address.</p>
<p> </p>
<p>Spi_Ram.h</p>
<p> </p>
<p>This file contains the extern declarations for the global variables that are defined in </p>
<p>Spi_Ram.c file and the version information of the file.</p>
<p> </p>
<p>Spi.h</p>
<p> </p>
<p>This file provides extern declarations for all the SPI Driver Component APIs. This </p>
<p>file provides service Ids of APIs, DET Error codes and type definitions for SPI </p>
<p>Driver initialization structure. This header file shall be included in other modules </p>
<p>to use the features of SPI Driver Component.</p>
<p> </p>
<p>Spi_Irq.h</p>
<p> </p>
<p>This file contains the function prototypes that are defined in Spi_Irq.c file.</p>
<p> </p>
<p>Spi_Scheduler.h</p>
<p> </p>
<p>This file contains the function prototypes that are defined in Spi_Scheduler.c file.</p>
<p> </p>
<p>Spi_Types.h</p>
<p> </p>
<p>This file contains the common macro definitions and the data types required </p>
<p>internally by the SPI software component.</p>
<p> </p>
<p>Spi_Version.h</p>
<p> </p>
<p>This file contains the definitions of AUTOSAR version numbers of all modules </p>
<p>that are interfaced to SPI Driver.</p>
<p> </p>
<p>Spi_RegWrite.h </p>
<p>This file is to have macro definitions for the register write verification. </p>
<p>Spi_Driver.c</p>
<p> </p>
<p>This file contains the SPI Low Level Driver code.</p>
<p> </p>
<p>Spi.c</p>
<p> </p>
<p>This file contains the implementation of all APIs.</p>
<p> </p>
<p>Spi_Irq.c</p>
<p> </p>
<p>This file contains the ISR functions for SPI Driver Component.</p>
<p> </p>
<p>Spi_Ram.c</p>
<p> </p>
<p>This file contains the global variables used by SPI Driver Component.</p>
<p> </p>
<h1 style="page-break-before:always; "></h1>
<p><b>SPI Driver Component Header And Source File Description </b></p>
<p><b>Chapter 8 </b></p>
<p> </p>
<p>53 </p>
<p><b>File</b></p>
<p> </p>
<p><b>Details</b></p>
<p> </p>
<p>Spi_Scheduler.c</p>
<p> </p>
<p>This file contains the SPI Scheduler code. This contains function to schedule </p>
<p>the sequences according to the priority of the jobs.</p>
<p> </p>
<p>Spi_Version.c</p>
<p> </p>
<p>This file contains the code for checking version of all modules that are interfaced to </p>
<p>SPI Driver.</p>
<p> </p>
<p>Compiler.h</p>
<p> </p>
<p>This file Provides compiler specific (non-ANSI) keywords. All mappings of keywords, </p>
<p>which are not standardized, and/or compiler specific are placed and organized in this </p>
<p>compiler specific header.</p>
<p> </p>
<p>Compiler_Cfg.h</p>
<p> </p>
<p>This file contains the memory and pointer classes.</p>
<p> </p>
<p>MemMap.h</p>
<p> </p>
<p>This file allows to map variables, constants and code of modules to individual </p>
<p>memory sections. Memory mapping can be modified as per ECU specific </p>
<p>needs.</p>
<p> </p>
<p>Platform_Types.h</p>
<p> </p>
<p>This file provides provision for defining platform and compiler dependent types.</p>
<p> </p>
<p>rh850_Types.h  </p>
<p> </p>
<p> This file provides macros to perform supervisor mode (SV) write enabled Register    </p>
<p> ICxxx and IMR register writing using OR/AND/Direct operation  </p>
<p>Dem.h </p>
<p>This file is a stub for DEM Component </p>
<p>Det.h </p>
<p>This file is a stub for DET Component </p>
<p>Os.h </p>
<p>This file is a stub for Os Component </p>
<p>Rte.h </p>
<p>This file is a stub for Rte Component </p>
<p>SchM_Spi.h </p>
<p>This file is a stub for Spi SchM Component </p>
<p>Std_Types.h </p>
<p>This file is a stub for Standard types </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<h1 style="page-break-before:always; "></h1>
<p><b>Chapter 8                                                     SPI Driver Component Header And Source File Description </b></p>
<p> </p>
<p>54 </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<h1 style="page-break-before:always; "></h1>
<p><b>Generation Tool Guide                                                                                                          Chapter 9 </b></p>
<p> </p>
<p>55 </p>
<p><b>Chapter 9 </b></p>
<p><b>Generation Tool Guide </b></p>
<p> </p>
<p>For  information  on  the  SPI  Driver  Component  Code  Generation  Tool, </p>
<p>please refer “R20UT3727EJ0101-AUTOSAR.pdf” document. </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<h1 style="page-break-before:always; "></h1>
<p><b>  Chapter 9                                                                                                                              Generation Tool Guide </b></p>
<p> </p>
<p>56 </p>
<p> </p>
<h1 style="page-break-before:always; "></h1>
<p><b>Application Programming Interface                                                                                     Chapter 10 </b></p>
<p> </p>
<p>57 </p>
<p><b>Chapter 10 </b></p>
<p><b>Application Programming Interface </b></p>
<p> </p>
<p>This section explains the Data types and APIs provided by the SPI Driver                        </p>
<p>Component to the Upper layers. </p>
<p>  </p>
<p><b>10.1   Imported Types </b></p>
<p>  </p>
<p>  This section explains the Data types imported by the SPI Driver Component                    </p>
<p>  and lists its dependency on other modules. </p>
<p> </p>
<p> </p>
<p> </p>
<p>In this section all types included from the Std_Types.h are listed: </p>
<p> </p>
<p>• </p>
<p>Std_ReturnType </p>
<p> </p>
<p>• </p>
<p>Std_VersionInfoType </p>
<p> </p>
<p><b>10.1.1   Standard Types </b></p>
<p> </p>
<p>In this section all types included from the Std_Types.h are listed: </p>
<p> </p>
<p>• </p>
<p>Std_ReturnType </p>
<p> </p>
<p>• </p>
<p>Std_VersionInfoType </p>
<p> </p>
<p><b>10.1.2   Other Module Types </b></p>
<p> </p>
<p>In this chapter all types included from the Dem_types.h are listed: </p>
<p> </p>
<p>• </p>
<p>Dem_EventIdType </p>
<p> </p>
<p>• </p>
<p>Dem_EventStatusType </p>
<p> </p>
<p> </p>
<p><b>10.2  Type Definitions </b></p>
<p> </p>
<p>Following  are  the  type  definitions  of  SPI  Driver  Component  according  to </p>
<p>AUTOSAR Specification. </p>
<p> </p>
<p><b> </b></p>
<p><b>Spi_ConfigType </b></p>
<p> </p>
<p><b>Name:</b></p>
<p> </p>
<p>Spi_ConfigType</p>
<p> </p>
<p><b>Type:</b></p>
<p> </p>
<p>Structure</p>
<p> </p>
<p> </p>
<p><b>Range:</b></p>
<p> </p>
<p>Implementation Specific</p>
<p> </p>
<p>The  contents  of  the  initialization  data </p>
<p>structure are SPI specific</p>
<p> </p>
<p> </p>
<p><b>Description:</b></p>
<p> </p>
<p>This type of the external data structure shall contain the initialization data for the SPI </p>
<p>driver/Handler</p>
<p> </p>
<p> </p>
<p><b> </b></p>
<p><b>Spi_StatusType </b></p>
<p> </p>
<p><b>Name:</b></p>
<p> </p>
<p>Spi_StatusType</p>
<p> </p>
<p><b>Type:</b></p>
<p> </p>
<p>Enumeration</p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p><b>Range:</b></p>
<p> </p>
<p>SPI_UNINIT </p>
<p>The SPI Handler/Driver is not initialized or not </p>
<p>usable </p>
<p>SPI_IDLE </p>
<p>The SPI Handler/Driver is not currently </p>
<p>transmitting any job </p>
<h1 style="page-break-before:always; "></h1>
<p><b>Chapter 10                                                                                     Application Programming Interface </b></p>
<p><b> </b></p>
<p>58 </p>
<p>SPI_BUSY </p>
<p>The SPI Handler/Driver is performing a SPI </p>
<p>job(transmit) </p>
<p><b>Description:</b></p>
<p> </p>
<p>This type defines a range of specific status for SPI Handler/driver </p>
<p> </p>
<p><b> </b></p>
<p><b>Spi_JobResultType </b></p>
<p> </p>
<p><b>Name:</b></p>
<p> </p>
<p>Spi_JobResultType</p>
<p> </p>
<p><b>Type:</b></p>
<p> </p>
<p>Enumeration</p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p><b>Range:</b></p>
<p> </p>
<p>SPI_JOB_OK</p>
<p> </p>
<p>The last transmission of the job has been </p>
<p>finished successfully</p>
<p> </p>
<p>SPI_JOB_PENDING</p>
<p> </p>
<p>The SPI Handler/Driver is performing a SPI </p>
<p>Job. The meaning of this status is equal to </p>
<p>SPI_BUSY</p>
<p> </p>
<p>SPI_JOB_FAILED</p>
<p> </p>
<p>The last transmission of the job has failed</p>
<p> </p>
<p><b>Description:</b></p>
<p> </p>
<p>This type defines a range of specific jobs status for SPI Handler/driver</p>
<p> </p>
<p> </p>
<p><b> </b></p>
<p><b>Spi_SeqResultType </b></p>
<p> </p>
<p><b>Name:</b></p>
<p> </p>
<p>Spi_SeqResultType</p>
<p> </p>
<p><b>Type:</b></p>
<p> </p>
<p>Enumeration</p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p><b>Range:</b></p>
<p> </p>
<p>SPI_SEQ_OK</p>
<p> </p>
<p>The last transmission of the Sequence has </p>
<p>been finished successfully</p>
<p> </p>
<p>SPI_SEQ_PENDING</p>
<p> </p>
<p>The SPI Handler/Driver is performing a SPI </p>
<p>Sequence The meaning of this status is equal to </p>
<p>SPI_BUSY</p>
<p> </p>
<p>SPI_SEQ_FAILED</p>
<p> </p>
<p>The last transmission of the Sequence has </p>
<p>failed</p>
<p> </p>
<p>SPI_SEQ_CANCELLED</p>
<p> </p>
<p>The last transmission of the Sequence has </p>
<p>been cancelled by user.</p>
<p> </p>
<p><b>Description:</b></p>
<p> </p>
<p>This type defines a range of specific sequences status for SPI Handler/driver</p>
<p> </p>
<p> </p>
<p>  </p>
<p><b> </b></p>
<p><b>Spi_DataType </b></p>
<p> </p>
<p><b>Name:</b></p>
<p> </p>
<p>Spi_DataType</p>
<p> </p>
<p><b>Type:</b></p>
<p> </p>
<p>uint8,uint16,uint32</p>
<p> </p>
<p> </p>
<p> </p>
<p><b>Range:</b></p>
<p> </p>
<p>0 to 255, 0 to 65535, </p>
<p>0 to 4294967296.</p>
<p> </p>
<p>This is implementation specific but not all </p>
<p>values may be valid within the type This type </p>
<p>shall be chosen in order to have the most </p>
<p>efficient implementation on a specific </p>
<p>microcontroller platform</p>
<p> </p>
<p><b>Description:</b></p>
<p> </p>
<p>Type of application data buffer elements</p>
<p> </p>
<p> </p>
<p> </p>
<p><b> </b></p>
<p><b>Spi_NumberOfDataType </b></p>
<p> </p>
<p><b>Name:</b></p>
<p> </p>
<p>Spi_NumberOfDataType</p>
<p> </p>
<p><b>Type:</b></p>
<p> </p>
<p>uint16</p>
<p> </p>
<p><b>Range:</b></p>
<p> </p>
<p>0 to 65535</p>
<p> </p>
<p> </p>
<p><b>Description:</b></p>
<p> </p>
<p>Type for defining the number of data elements of the type Spi_DataType to send </p>
<p>and/or receive by channel</p>
<p> </p>
<p> </p>
<h1 style="page-break-before:always; "></h1>
<p><b>Application Programming Interface                                                                                    Chapter 10 </b></p>
<p> </p>
<p>59 </p>
<p> </p>
<p><b> </b></p>
<p><b>Spi_ChannelType </b></p>
<p> </p>
<p><b>Name:</b></p>
<p> </p>
<p>Spi_ChannelType</p>
<p> </p>
<p><b>Type:</b></p>
<p> </p>
<p>uint8</p>
<p> </p>
<p><b>Range:</b></p>
<p> </p>
<p>0 to 255</p>
<p> </p>
<p><b>Description:</b></p>
<p> </p>
<p>Specifies the identification(Id) for a channel</p>
<p> </p>
<p> </p>
<p><b> </b></p>
<p><b>Spi_JobType </b></p>
<p> </p>
<p><b>Name:</b></p>
<p> </p>
<p>Spi_JobType</p>
<p> </p>
<p><b>Type:</b></p>
<p> </p>
<p>uint16</p>
<p> </p>
<p><b>Range:</b></p>
<p> </p>
<p>0 to 65535</p>
<p> </p>
<p><b>Description:</b></p>
<p> </p>
<p>Specifies the identification(Id) for a Job</p>
<p> </p>
<p> </p>
<p><b> </b></p>
<p><b>Spi_SequenceType </b></p>
<p> </p>
<p><b>Name:</b></p>
<p> </p>
<p>Spi_SequenceType</p>
<p> </p>
<p><b>Type:</b></p>
<p> </p>
<p>uint8</p>
<p> </p>
<p><b>Range:</b></p>
<p> </p>
<p>0 to 255</p>
<p> </p>
<p><b>Description:</b></p>
<p> </p>
<p>Specifies the identification(Id) for a sequence of Jobs</p>
<p> </p>
<p> </p>
<p><b> </b></p>
<p><b>  Spi_HWUnitType </b></p>
<p> </p>
<p><b>Name:</b></p>
<p> </p>
<p>Spi_HWUnitType</p>
<p> </p>
<p><b>Type:</b></p>
<p> </p>
<p>uint8</p>
<p> </p>
<p><b>Range:</b></p>
<p> </p>
<p>0 to 255</p>
<p> </p>
<p><b>Description:</b></p>
<p> </p>
<p>Specifies the identification(Id) for a SPI Hardware microcontroller peripheral(unit)</p>
<p> </p>
<p> </p>
<p><b> </b></p>
<p><b>  Spi_AsyncModeType </b></p>
<p> </p>
<p><b>Name:</b></p>
<p> </p>
<p>Spi_AsyncModeType</p>
<p> </p>
<p><b>Type:</b></p>
<p> </p>
<p>Enumeration</p>
<p> </p>
<p> </p>
<p> </p>
<p><b>Range:</b></p>
<p> </p>
<p>SPI_POLLING_MODE</p>
<p> </p>
<p>The asynchronous mechanism is ensured </p>
<p>by polling, so interrupts related to SPI </p>
<p>busses handled asynchronously are </p>
<p>disabled</p>
<p> </p>
<p>SPI_INTERRUPT_MODE</p>
<p> </p>
<p>Streaming access mode</p>
<p> </p>
<p> </p>
<p><b>Description:</b></p>
<p> </p>
<p>Specifies the asynchronous mechanism mode for SPI busses handled </p>
<p>asynchronously in LEVEL2.</p>
<p> </p>
<p> </p>
<p> </p>
<p>     </p>
<p>Following are the internal type definitions used by the SPI Driver module. </p>
<p><b> </b></p>
<p><b>  Spi_CommErrorType </b></p>
<p> </p>
<p> </p>
<p><b>Name:</b></p>
<p> </p>
<p>Spi_CommErrorType</p>
<p> </p>
<p> </p>
<p><b>Type:</b></p>
<p> </p>
<p>Structure</p>
<p> </p>
<h1 style="page-break-before:always; "></h1>
<p><b>Chapter 10                                                                                     Application Programming Interface </b></p>
<p><b> </b></p>
<p>60 </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p><b>Element:</b></p>
<p> </p>
<p><b>Type</b></p>
<p> </p>
<p><b>Name</b></p>
<p> </p>
<p><b>Explanation</b></p>
<p> </p>
<p>Spi_HWErrorsType </p>
<p>ErrorType </p>
<p>This is the type of the    </p>
<p>hardware error.</p>
<p> </p>
<p>Spi_HWUnitType </p>
<p>HwUnit </p>
<p>This is the hardware   </p>
<p>unit in which error is </p>
<p>reported.</p>
<p> </p>
<p>Spi_SequenceType </p>
<p>SeqID </p>
<p>This is the sequence </p>
<p>id for which error is </p>
<p>reported. </p>
<p> </p>
<p>Spi_JobType </p>
<p>JobID </p>
<p>This is the job id for </p>
<p>which error is </p>
<p>reported.</p>
<p> </p>
<p><b>Description:</b></p>
<p> </p>
<p>This type is used to provide the details regarding the type of hardware errors, hardware </p>
<p>unit, sequence and job in which the errors were reported. </p>
<p> </p>
<p> </p>
<p><b> </b></p>
<p><b>  Spi_HWErrorsType </b></p>
<p> </p>
<p><b>Name:</b></p>
<p> </p>
<p>Spi_HWErrorsType</p>
<p> </p>
<p><b>Type:</b></p>
<p> </p>
<p>Enumeration</p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p><b>Range:</b></p>
<p> </p>
<p>SPI_NO_ERROR</p>
<p> </p>
<p>No hardware error has occured. </p>
<p>SPI_OVERRUN_ERROR</p>
<p> </p>
<p>Over Run Error has occured.</p>
<p> </p>
<p>SPI_PARITY_ERROR</p>
<p> </p>
<p>Parity Error has occured.</p>
<p> </p>
<p>SPI_DATA_CONSISTENCY_ERROR</p>
<p> </p>
<p>Data Consistency Error has occured</p>
<p> </p>
<p>SPI_OVERFLOW_ERROR </p>
<p>Over Flow Error has occured </p>
<p>SPI_ECC_1BIT_ERROR </p>
<p>1 Bit ECC Error has occured </p>
<p><b>Description:</b></p>
<p> </p>
<p>This type defines different types of hardware errors in SPI driver.</p>
<p> </p>
<p> </p>
<p> </p>
<p><b> </b></p>
<p><b>  Spi_SelfTestType </b></p>
<p> </p>
<p><b>Name:</b></p>
<p> </p>
<p>Spi_SelfTestType</p>
<p> </p>
<p><b>Type:</b></p>
<p> </p>
<p>uint8</p>
<p> </p>
<p><b>Range:</b></p>
<p> </p>
<p>0 to 255</p>
<p> </p>
<p><b>Description:</b></p>
<p> </p>
<p>Specifies the type for self test functionality.</p>
<p> </p>
<p> </p>
<p> </p>
<p><b> </b></p>
<p><b>  Spi_ReturnStatus </b></p>
<p> </p>
<p><b>Name: </b></p>
<p>Spi_ReturnStatus </p>
<p><b>Type: </b></p>
<p>Enumeration </p>
<p> </p>
<p> </p>
<p><b> Range: </b></p>
<p> </p>
<p> </p>
<p> </p>
<p><b>Range: </b></p>
<p>SPI_SELFTEST_INVALID_MODE </p>
<p>When invalid argument other than </p>
<p>LoopBack_Init/</p>
<p> </p>
<p>LoopBack_Init_RunTime/</p>
<p> </p>
<p>ECC_Init_RunTime/</p>
<p> </p>
<p>ECC_Init are </p>
<p>passed. </p>
<p>SPI_SELFTEST_DRIVERBUSY </p>
<p>When SelfTest API is invoked during any </p>
<p>active transmission, i.e when driver is busy. </p>
<p>SPI_SELFTEST_PASS </p>
<p>SelfTest functionality is successful. </p>
<p>SPI_SELFTEST_FAILED </p>
<p>SelfTest functionality is failed. </p>
<p><b>Description: </b></p>
<p>This type defines the return status of the self test functionality. </p>
<h1 style="page-break-before:always; "></h1>
<p> </p>
<p><b>Application Programming Interface </b></p>
<p><b>Chapter 10</b></p>
<p> </p>
<p>61 </p>
<p><b>10.3  Function Definitions </b></p>
<p> </p>
<p><b>                                           Table 10-1                      The APIs provided by the SPI Driver Component </b></p>
<p><b>              </b></p>
<p><b> SI. No </b></p>
<p><b>API’s </b></p>
<p><b> </b></p>
<p>1. </p>
<p>Spi_Init </p>
<p>2. </p>
<p>Spi_DeInit </p>
<p>3. </p>
<p>Spi_WriteIB </p>
<p>4. </p>
<p>Spi_AsyncTransmit </p>
<p>5. </p>
<p>Spi_ReadIB </p>
<p>6. </p>
<p>Spi_SetupEB </p>
<p>7. </p>
<p>Spi_GetStatus </p>
<p>8. </p>
<p>Spi_GetJobResult </p>
<p>9. </p>
<p>Spi_GetSequenceResult </p>
<p>10. </p>
<p>Spi_GetVersionInfo </p>
<p>11. </p>
<p>Spi_SyncTransmit </p>
<p>12. </p>
<p>Spi_Cancel </p>
<p>13. </p>
<p>Spi_SetAsyncMode </p>
<p>14. </p>
<p>Spi_MainFunction_Handling </p>
<p>15. </p>
<p>Spi_GetHWUnitStatus </p>
<p>16. </p>
<p>Spi_SelfTest </p>
<p>17. </p>
<p>Spi_GetErrorInfo </p>
<p> </p>
<p><b>10.3.1    Spi_Init </b></p>
<p> </p>
<p><b>Name:</b></p>
<p> </p>
<p>Spi_Init</p>
<p> </p>
<p> </p>
<p><b>Prototype:</b></p>
<p> </p>
<p>FUNC (void, SPI_PUBLIC_CODE) Spi_Init </p>
<p>( </p>
<p>P2CONST(Spi_ConfigType, AUTOMATIC, SPI_APPL_CONST) ConfigPtr </p>
<p>) </p>
<p><b>Service ID:</b></p>
<p> </p>
<p>0x00</p>
<p> </p>
<p><b>Sync/Async:</b></p>
<p> </p>
<p>Synchronous</p>
<p> </p>
<p><b>Reentrancy:</b></p>
<p> </p>
<p>Non-Reentrant</p>
<p> </p>
<p> </p>
<p><b>Parameters In:</b></p>
<p> </p>
<p><b>Type</b></p>
<p> </p>
<p><b>Parameter</b></p>
<p> </p>
<p><b>Value/Range</b></p>
<p> </p>
<p>Pointer to Spi_ConfigType  </p>
<p> </p>
<p>ConfigPtr </p>
<p>NA </p>
<p><b>  Parameters InOut:</b></p>
<p> </p>
<p>NA</p>
<p> </p>
<p>NA</p>
<p> </p>
<p>NA</p>
<p> </p>
<p><b>Parameters out:</b></p>
<p> </p>
<p>NA</p>
<p> </p>
<p>NA</p>
<p> </p>
<p>NA</p>
<p> </p>
<p> </p>
<p><b>Return Value:</b></p>
<p> </p>
<p><b>Type</b></p>
<p> </p>
<p><b>Possible Return Values</b></p>
<p> </p>
<p>void</p>
<p> </p>
<p>NA</p>
<p> </p>
<p><b>Description:</b></p>
<p> </p>
<p>This service performs initialization of the SPI Driver component. </p>
<p> </p>
<p><b>Configuration </b></p>
<p><b>Dependency:</b></p>
<p> </p>
<p>None</p>
<p> </p>
<p><b>Preconditions:</b></p>
<p> </p>
<p>None</p>
<p> </p>
<p> </p>
<h1 style="page-break-before:always; "></h1>
<p><b>Chapter 10                                                                                   Application Programming Interface </b></p>
<p><b> </b></p>
<p>62 </p>
<p> </p>
<p><b>10.3.2    Spi_DeInit </b></p>
<p> </p>
<p><b>Name:</b></p>
<p> </p>
<p>Spi_DeInit</p>
<p> </p>
<p> </p>
<p><b>Prototype:</b></p>
<p> </p>
<p>FUNC (Std_ReturnType, SPI_PUBLIC_CODE) Spi_DeInit </p>
<p>( </p>
<p>void </p>
<p>) </p>
<p><b>Service ID:</b></p>
<p> </p>
<p>0x01 </p>
<p><b>Sync/Async:</b></p>
<p> </p>
<p>Synchronous</p>
<p> </p>
<p><b>Reentrancy:</b></p>
<p> </p>
<p>Non-Reentrant</p>
<p> </p>
<p> </p>
<p><b>Parameters In:</b></p>
<p> </p>
<p><b>Type</b></p>
<p> </p>
<p><b>Parameter</b></p>
<p> </p>
<p><b>Value/Range</b></p>
<p> </p>
<p>NA</p>
<p> </p>
<p>NA </p>
<p>NA </p>
<p><b>  Parameters InOut:</b></p>
<p> </p>
<p>NA</p>
<p> </p>
<p>NA</p>
<p> </p>
<p>NA</p>
<p> </p>
<p><b>Parameters out:</b></p>
<p> </p>
<p>NA</p>
<p> </p>
<p>NA</p>
<p> </p>
<p>NA</p>
<p> </p>
<p> </p>
<p><b>Return Value:</b></p>
<p> </p>
<p><b>Type</b></p>
<p> </p>
<p><b>Possible Return Values</b></p>
<p> </p>
<p>Std_ReturnType </p>
<p>E_OK, E_NOT_OK </p>
<p><b>Description:</b></p>
<p> </p>
<p>This service performs De-initialization of the SPI Driver component. </p>
<p> </p>
<p><b>Configuration </b></p>
<p><b>Dependency:</b></p>
<p> </p>
<p>None</p>
<p> </p>
<p><b>Preconditions:</b></p>
<p> </p>
<p>None</p>
<p> </p>
<p> </p>
<p><b>10.3.3    Spi_WriteIB </b></p>
<p> </p>
<p><b>Name:</b></p>
<p> </p>
<p>Spi_WriteIB</p>
<p> </p>
<p> </p>
<p><b>Prototype:</b></p>
<p> </p>
<p>FUNC (Std_ReturnType, SPI_PUBLIC_CODE) Spi_WriteIB </p>
<p>( </p>
<p>Spi_ChannelType Channel, </p>
<p>P2CONST(Spi_DataType, AUTOMATIC, SPI_APPL_CONST) DataBufferPtr </p>
<p>) </p>
<p><b>Service ID:</b></p>
<p> </p>
<p>0x02 </p>
<p><b>Sync/Async:</b></p>
<p> </p>
<p>Synchronous</p>
<p> </p>
<p><b>Reentrancy:</b></p>
<p> </p>
<p>Reentrant</p>
<p> </p>
<p> </p>
<p><b>Parameters In:</b></p>
<p> </p>
<p><b>Type</b></p>
<p> </p>
<p><b>Parameter</b></p>
<p> </p>
<p><b>Value/Range</b></p>
<p> </p>
<p>Spi_ChannelType </p>
<p>Channel </p>
<p>Min: 0 </p>
<p>Max: 255 </p>
<p>Pointer to Spi_DataType </p>
<p>DataBufferPtr </p>
<p>NA </p>
<p><b>  Parameters InOut:</b></p>
<p> </p>
<p>NA</p>
<p> </p>
<p>NA</p>
<p> </p>
<p>NA</p>
<p> </p>
<p><b>Parameters out:</b></p>
<p> </p>
<p>NA</p>
<p> </p>
<p>NA</p>
<p> </p>
<p>NA</p>
<p> </p>
<p> </p>
<p><b>Return Value:</b></p>
<p> </p>
<p><b>Type</b></p>
<p> </p>
<p><b>Possible Return Values</b></p>
<p> </p>
<p>Std_ReturnType </p>
<p>E_OK, E_NOT_OK </p>
<p><b>Description:</b></p>
<p> </p>
<p>This service for writing one or more data to an IB SPI Handler/Driver channel specified </p>
<p>by parameter. </p>
<p><b>Configuration </b></p>
<p><b>Dependency:</b></p>
<p> </p>
<p>None </p>
<p>Preconditions: </p>
<p>The SPI Handler/Driver should have been initialized before this service is called. </p>
<p> </p>
<h1 style="page-break-before:always; "></h1>
<p><b> Application Programming Interface </b></p>
<p><b>Chapter 10 </b></p>
<p> </p>
<p>63 </p>
<p><b>10.3.4    Spi_AsyncTransmit </b></p>
<p> </p>
<p><b>Name:</b></p>
<p> </p>
<p>Spi_AsyncTransmit</p>
<p> </p>
<p> </p>
<p>Prototype: </p>
<p> FUNC (Std_ReturnType, SPI_PUBLIC_CODE) Spi_AsyncTransmit </p>
<p> ( </p>
<p>Spi_SequenceType Sequence </p>
<p>) </p>
<p><b>Service ID:</b></p>
<p> </p>
<p> 0x03 </p>
<p><b>Sync/Async:</b></p>
<p> </p>
<p> Asynchronous</p>
<p> </p>
<p><b>Reentrancy:</b></p>
<p> </p>
<p> Reentrant</p>
<p> </p>
<p> </p>
<p><b>Parameters In:</b></p>
<p> </p>
<p><b>Type</b></p>
<p> </p>
<p><b>Parameter</b></p>
<p> </p>
<p><b>Value/Range</b></p>
<p> </p>
<p>Spi_SequenceType </p>
<p>Sequence </p>
<p>Min: 0 </p>
<p>Max: 255 </p>
<p><b>  Parameters InOut:</b></p>
<p> </p>
<p>NA</p>
<p> </p>
<p>NA</p>
<p> </p>
<p>NA</p>
<p> </p>
<p><b>Parameters out:</b></p>
<p> </p>
<p>NA</p>
<p> </p>
<p>NA</p>
<p> </p>
<p>NA</p>
<p> </p>
<p> </p>
<p><b>Return Value:</b></p>
<p> </p>
<p><b>Type</b></p>
<p> </p>
<p><b>Possible Return Values</b></p>
<p> </p>
<p> Std_ReturnType</p>
<p> </p>
<p>E_OK, E_NOT_OK</p>
<p> </p>
<p><b>Description:</b></p>
<p> </p>
<p>This service for transmitting data asynchronously </p>
<p><b>Configuration </b></p>
<p><b>Dependency:</b></p>
<p> </p>
<p>None </p>
<p>Preconditions: </p>
<p>The SPI Handler/Driver should have been initialized before this service is called. </p>
<p>This method shall be called after a Spi_SetupEB method for EB Channels or </p>
<p>Spi_WriteIB method for IB Channels but before the Spi_ReadIB method. </p>
<p> </p>
<p><b>10.3.5    Spi_ReadIB </b></p>
<p> </p>
<p><b>Name:</b></p>
<p> </p>
<p>Spi_ReadIB</p>
<p> </p>
<p> </p>
<p>Prototype: </p>
<p>FUNC (Std_ReturnType, SPI_PUBLIC_CODE) Spi_ReadIB </p>
<p>( </p>
<p>Spi_ChannelType Channel, </p>
<p>P2VAR(Spi_DataType, AUTOMATIC, SPI_APPL_DATA) DataBufferPtr </p>
<p>) </p>
<p><b>Service ID:</b></p>
<p> </p>
<p>0x04 </p>
<p><b>Sync/Async:</b></p>
<p> </p>
<p>Synchronous</p>
<p> </p>
<p><b>Reentrancy:</b></p>
<p> </p>
<p>Reentrant</p>
<p> </p>
<p> </p>
<p><b>Parameters In:</b></p>
<p> </p>
<p><b>Type</b></p>
<p> </p>
<p><b>Parameter</b></p>
<p> </p>
<p><b>Value/Range</b></p>
<p> </p>
<p>Spi_ChannelType </p>
<p>Channel   </p>
<p>Min: 0 </p>
<p>Max: 255 </p>
<p>Pointer to Spi_DataType </p>
<p>DataBufferPtr </p>
<p>NA </p>
<p><b>  Parameters InOut:</b></p>
<p> </p>
<p>NA</p>
<p> </p>
<p>NA</p>
<p> </p>
<p>NA</p>
<p> </p>
<p><b>Parameters out:</b></p>
<p> </p>
<p>NA</p>
<p> </p>
<p>NA</p>
<p> </p>
<p>NA</p>
<p> </p>
<p> </p>
<p><b>Return Value:</b></p>
<p> </p>
<p><b>Type</b></p>
<p> </p>
<p><b>Possible Return Values</b></p>
<p> </p>
<p>Std_ReturnType </p>
<p>E_OK, E_NOT_OK </p>
<p><b>Description:</b></p>
<p> </p>
<p>Service for reading one or more data from an IB SPI Handler/Driver Channel specified by </p>
<p>parameter.</p>
<p> </p>
<p> </p>
<h1 style="page-break-before:always; "></h1>
<p><b>Chapter 10                                                                                   Application Programming Interface </b></p>
<p><b> </b></p>
<p>64 </p>
<p> </p>
<p><b>Configuration </b></p>
<p><b>Dependency:</b></p>
<p> </p>
<p>None </p>
<p>Preconditions: </p>
<p>The SPI Handler/Driver should have been initialized before this service is called.  </p>
<p>This method shall be called after one Transmit method call to have relevant data within </p>
<p>IB Channel. </p>
<p> </p>
<p><b>10.3.6    Spi_SetupEB </b></p>
<p> </p>
<p><b>Name:</b></p>
<p> </p>
<p>Spi_SetupEB</p>
<p> </p>
<p> </p>
<p>Prototype: </p>
<p>FUNC (Std_ReturnType, SPI_PUBLIC_CODE) Spi_SetupEB </p>
<p>( </p>
<p>Spi_ChannelType Channel, </p>
<p>CONST(Spi_DataType, AUTOMATIC, SPI_APPL_DATA) SrcDataBufferPtr </p>
<p>P2VAR(Spi_DataType, AUTOMATIC, SPI_APPL_DATA) DesDataBufferPtr </p>
<p>Spi_NumberOfDataType Length, </p>
<p>) </p>
<p><b>Service ID:</b></p>
<p> </p>
<p>0x05 </p>
<p><b>Sync/Async:</b></p>
<p> </p>
<p>Synchronous</p>
<p> </p>
<p><b>Reentrancy:</b></p>
<p> </p>
<p>Reentrant</p>
<p> </p>
<p> </p>
<p><b>Parameters In:</b></p>
<p> </p>
<p><b>Type</b></p>
<p> </p>
<p><b>Parameter</b></p>
<p> </p>
<p><b>Value/Range</b></p>
<p> </p>
<p>Pointer to Spi_DataType </p>
<p>SrcDataBufferPtr </p>
<p>NA </p>
<p>Spi_ChannelType </p>
<p>Channel </p>
<p>Min : 0 </p>
<p>MAx: 255 </p>
<p> </p>
<p>Spi_NumberOfDataType </p>
<p>Length </p>
<p> </p>
<p> </p>
<p>Min : 0 </p>
<p>MAx: 65535 </p>
<p>Pointer to Spi_DataType </p>
<p>DesDataBufferPtr </p>
<p> </p>
<p>NA </p>
<p><b> Parameters InOut:</b></p>
<p> </p>
<p>NA</p>
<p> </p>
<p>NA</p>
<p> </p>
<p>NA</p>
<p> </p>
<p><b>Parameters out:</b></p>
<p> </p>
<p>NA</p>
<p> </p>
<p>NA</p>
<p> </p>
<p>NA</p>
<p> </p>
<p> </p>
<p><b>Return Value:</b></p>
<p> </p>
<p><b>Type</b></p>
<p> </p>
<p><b>Possible Return Values</b></p>
<p> </p>
<p> Std_ReturnType </p>
<p>E_OK, E_NOT_OK </p>
<p><b>Description:</b></p>
<p> </p>
<p>Service to setup the buffers and the length of data for the EB SPI Handler/Driver  </p>
<p>Channel specified. </p>
<p><b>Configuration </b></p>
<p><b>Dependency:</b></p>
<p> </p>
<p>None  </p>
<p>Preconditions: </p>
<p>The SPI Handler/Driver should have been initialized before this service is called.  </p>
<p> </p>
<p> </p>
<p><b>10.3.7    Spi_GetStatus </b></p>
<p> </p>
<p><b>Name:</b></p>
<p> </p>
<p>Spi_GetStatus</p>
<p> </p>
<p> </p>
<p>Prototype: </p>
<p>FUNC (Spi_StatusType, SPI_PUBLIC_CODE) Spi_GetStatus </p>
<p>( </p>
<p>void </p>
<p>) </p>
<p><b>Service ID:</b></p>
<p> </p>
<p>0x06 </p>
<h1 style="page-break-before:always; "></h1>
<p><b> Application Programming Interface </b></p>
<p><b>Chapter 10 </b></p>
<p> </p>
<p>65 </p>
<p><b>Sync/Async:</b></p>
<p> </p>
<p>Synchronous</p>
<p> </p>
<p><b>Reentrancy:</b></p>
<p> </p>
<p>Reentrant</p>
<p> </p>
<p> </p>
<p><b>Parameters In:</b></p>
<p> </p>
<p><b>Type</b></p>
<p> </p>
<p><b>Parameter</b></p>
<p> </p>
<p><b>Value/Range</b></p>
<p> </p>
<p>NA</p>
<p> </p>
<p>NA</p>
<p> </p>
<p>NA </p>
<p><b> Parameters InOut:</b></p>
<p> </p>
<p>NA</p>
<p> </p>
<p>NA</p>
<p> </p>
<p>NA</p>
<p> </p>
<p><b>Parameters out:</b></p>
<p> </p>
<p>NA</p>
<p> </p>
<p>NA</p>
<p> </p>
<p>NA</p>
<p> </p>
<p> </p>
<p><b>Return Value:</b></p>
<p> </p>
<p><b>Type</b></p>
<p> </p>
<p><b>Possible Return Values</b></p>
<p> </p>
<p>Spi_StatusType </p>
<p>SPI_UNINIT/SPI_IDLE/SPI_BUSY </p>
<p><b>Description:</b></p>
<p> </p>
<p>This service shall return the SPI Handler/Driver software module status. </p>
<p><b>Configuration </b></p>
<p><b>Dependency:</b></p>
<p> </p>
<p>None </p>
<p>Preconditions: </p>
<p>None </p>
<p> </p>
<p><b>10.3.8    Spi_GetJobResult </b></p>
<p> </p>
<p><b>Name:</b></p>
<p> </p>
<p>Spi_GetJobResult</p>
<p> </p>
<p> </p>
<p>Prototype: </p>
<p>FUNC (Spi_JobResultType, SPI_PUBLIC_CODE) Spi_GetJobResult </p>
<p>( </p>
<p>Spi_JobType Job </p>
<p>) </p>
<p><b>Service ID:</b></p>
<p> </p>
<p>0x07 </p>
<p><b>Sync/Async:</b></p>
<p> </p>
<p>Synchronous</p>
<p> </p>
<p><b>Reentrancy:</b></p>
<p> </p>
<p>Reentrant</p>
<p> </p>
<p> </p>
<p><b>Parameters In:</b></p>
<p> </p>
<p><b>Type</b></p>
<p> </p>
<p><b>Parameter</b></p>
<p> </p>
<p><b>Value/Range</b></p>
<p> </p>
<p> Spi_JobType</p>
<p> </p>
<p>Job </p>
<p> </p>
<p>Min: 0 </p>
<p>Max: 65535 </p>
<p><b> Parameters InOut:</b></p>
<p> </p>
<p>NA</p>
<p> </p>
<p>NA</p>
<p> </p>
<p>NA</p>
<p> </p>
<p><b>Parameters out:</b></p>
<p> </p>
<p>NA</p>
<p> </p>
<p>NA</p>
<p> </p>
<p>NA</p>
<p> </p>
<p> </p>
<p><b>Return Value:</b></p>
<p> </p>
<p><b>Type</b></p>
<p> </p>
<p><b>Possible Return Values</b></p>
<p> </p>
<p>Spi_JobResultType </p>
<p>SPI_JOB_OK/SPI_JOB_PENDING/SPI_JOB_FAILED </p>
<p><b>Description:</b></p>
<p> </p>
<p>This service shall return the last transmission result of the specified Job. </p>
<p> </p>
<p><b>Configuration </b></p>
<p><b>Dependency:</b></p>
<p> </p>
<p>None </p>
<p>Preconditions: </p>
<p>The SPI Handler/Driver should have been initialized before this service is called. </p>
<p> </p>
<p> </p>
<p><b>10.3.9    Spi_GetSequenceResult </b></p>
<p> </p>
<p><b>Name:</b></p>
<p> </p>
<p>Spi_GetSequenceResult</p>
<p> </p>
<p> </p>
<p>Prototype: </p>
<p>FUNC (Spi_SeqResultType, SPI_PUBLIC_CODE) Spi_GetSequenceResult </p>
<p>( </p>
<p>Spi_SequenceType Sequence </p>
<p>) </p>
<p><b>Service ID:</b></p>
<p> </p>
<p>0x08 </p>
<h1 style="page-break-before:always; "></h1>
<p><b>Chapter 10                                                                                   Application Programming Interface </b></p>
<p><b> </b></p>
<p>66 </p>
<p> </p>
<p><b>Sync/Async:</b></p>
<p> </p>
<p>Synchronous</p>
<p> </p>
<p><b>Reentrancy:</b></p>
<p> </p>
<p>Reentrant</p>
<p> </p>
<p> </p>
<p><b>Parameters In:</b></p>
<p> </p>
<p><b>Type</b></p>
<p> </p>
<p><b>Parameter</b></p>
<p> </p>
<p><b>Value/Range</b></p>
<p> </p>
<p>Spi_SequenceType</p>
<p> </p>
<p>Sequence </p>
<p> </p>
<p>Min: 0 </p>
<p>Max: 255 </p>
<p><b> Parameters InOut:</b></p>
<p> </p>
<p>NA</p>
<p> </p>
<p>NA</p>
<p> </p>
<p>NA</p>
<p> </p>
<p><b>Parameters out:</b></p>
<p> </p>
<p>NA</p>
<p> </p>
<p>NA</p>
<p> </p>
<p>NA</p>
<p> </p>
<p> </p>
<p><b>Return Value:</b></p>
<p> </p>
<p><b>Type</b></p>
<p> </p>
<p><b>Possible Return Values</b></p>
<p> </p>
<p>Spi_SeqResultType </p>
<p>SPI_SEQ_OK/SPI_SEQ_PENDING/SPI_SEQ_FAILED/ </p>
<p>SPI_SEQ_CANCELLED </p>
<p><b>Description:</b></p>
<p> </p>
<p>This service shall return the last transmission result of the specified Sequence. </p>
<p> </p>
<p><b>Configuration </b></p>
<p><b>Dependency:</b></p>
<p> </p>
<p>None </p>
<p>Preconditions: </p>
<p>The SPI Handler/Driver should have been initialized before this service is called. </p>
<p> </p>
<p><b>10.3.10    Spi_SyncTransmit </b></p>
<p> </p>
<p><b>Name:</b></p>
<p> </p>
<p>Spi_SyncTransmit</p>
<p> </p>
<p> </p>
<p>Prototype: </p>
<p>FUNC (Std_ReturnType, SPI_PUBLIC_CODE) Spi_SyncTransmit </p>
<p>( </p>
<p>Spi_SequenceType Sequence </p>
<p>) </p>
<p><b>Service ID:</b></p>
<p> </p>
<p>0x0A </p>
<p><b>Sync/Async:</b></p>
<p> </p>
<p>Asynchronous</p>
<p> </p>
<p><b>Reentrancy:</b></p>
<p> </p>
<p>Reentrant</p>
<p> </p>
<p> </p>
<p><b>Parameters In:</b></p>
<p> </p>
<p><b>Type</b></p>
<p> </p>
<p><b>Parameter</b></p>
<p> </p>
<p><b>Value/Range</b></p>
<p> </p>
<p>Spi_SequenceType</p>
<p> </p>
<p>Sequence </p>
<p> </p>
<p>Min: 0 </p>
<p>Max: 255 </p>
<p><b> Parameters InOut:</b></p>
<p> </p>
<p>NA</p>
<p> </p>
<p>NA</p>
<p> </p>
<p>NA</p>
<p> </p>
<p><b>Parameters out:</b></p>
<p> </p>
<p>NA</p>
<p> </p>
<p>NA</p>
<p> </p>
<p>NA</p>
<p> </p>
<p> </p>
<p><b>Return Value:</b></p>
<p> </p>
<p><b>Type</b></p>
<p> </p>
<p><b>Possible Return Values</b></p>
<p> </p>
<p>Std_ReturnType </p>
<p>E_OK/E_NOT_OK </p>
<p><b>Description:</b></p>
<p> </p>
<p>This service is for transmitting data synchronously. </p>
<p><b>Configuration </b></p>
<p><b>Dependency:</b></p>
<p> </p>
<p>None </p>
<p>Preconditions: </p>
<p>The SPI Handler/Driver should have been initialized before this service is called. </p>
<p> </p>
<p><b>10.3.11    Spi_GetHWUnitStatus </b></p>
<p> </p>
<p><b>Name:</b></p>
<p> </p>
<p>Spi_GetHWUnitStatus</p>
<p> </p>
<p> </p>
<p>Prototype: </p>
<p>FUNC (Spi_StatusType, SPI_PUBLIC_CODE) Spi_GetHWUnitStatus </p>
<p>( </p>
<p>Spi_HWUnitType HWUnit </p>
<p>) </p>
<p><b>Service ID:</b></p>
<p> </p>
<p>0x0B </p>
<h1 style="page-break-before:always; "></h1>
<p><b> Application Programming Interface </b></p>
<p><b>Chapter 10 </b></p>
<p> </p>
<p>67 </p>
<p><b>Sync/Async:</b></p>
<p> </p>
<p>Synchronous</p>
<p> </p>
<p><b>Reentrancy:</b></p>
<p> </p>
<p>Reentrant</p>
<p> </p>
<p> </p>
<p><b>Parameters In:</b></p>
<p> </p>
<p><b>Type</b></p>
<p> </p>
<p><b>Parameter</b></p>
<p> </p>
<p><b>Value/Range</b></p>
<p> </p>
<p>Spi_HWUnitType </p>
<p> HWUnit </p>
<p>Min: 0 </p>
<p>Max: 255 </p>
<p><b> Parameters InOut:</b></p>
<p> </p>
<p>NA</p>
<p> </p>
<p>NA</p>
<p> </p>
<p> NA</p>
<p> </p>
<p><b>Parameters out:</b></p>
<p> </p>
<p>NA</p>
<p> </p>
<p>NA</p>
<p> </p>
<p> NA</p>
<p> </p>
<p> </p>
<p><b>Return Value:</b></p>
<p> </p>
<p><b>Type</b></p>
<p> </p>
<p><b>Possible Return Values</b></p>
<p> </p>
<p>Spi_StatusType </p>
<p>SPI_UNINIT/SPI_IDLE/SPI_BUSY </p>
<p><b>Description:</b></p>
<p> </p>
<p>This service shall return the status of the specified SPI Hardware microcontroller </p>
<p>peripheral </p>
<p> </p>
<p><b>Configuration </b></p>
<p><b>Dependency:</b></p>
<p> </p>
<p>SpiHwStatusApi should be Enabled </p>
<p>Preconditions: </p>
<p>The SPI Handler/Driver should have been initialized before this service is called </p>
<p> </p>
<p><b>10.3.12    Spi_Cancel </b></p>
<p> </p>
<p><b>Name:</b></p>
<p> </p>
<p>Spi_Cancel</p>
<p> </p>
<p> </p>
<p>Prototype: </p>
<p>FUNC (void, SPI_PUBLIC_CODE) Spi_Cancel </p>
<p>( </p>
<p>Spi_SequenceType Sequence </p>
<p>) </p>
<p><b>Service ID:</b></p>
<p> </p>
<p>0x0C </p>
<p><b>Sync/Async:</b></p>
<p> </p>
<p>Asynchronous</p>
<p> </p>
<p><b>Reentrancy:</b></p>
<p> </p>
<p>Reentrant</p>
<p> </p>
<p> </p>
<p><b>Parameters In:</b></p>
<p> </p>
<p><b>Type</b></p>
<p> </p>
<p><b>Parameter</b></p>
<p> </p>
<p><b>Value/Range</b></p>
<p> </p>
<p>Spi_SequenceType</p>
<p> </p>
<p>Sequence </p>
<p> </p>
<p>Min: 0 </p>
<p>Max: 255 </p>
<p><b> Parameters InOut:</b></p>
<p> </p>
<p>NA</p>
<p> </p>
<p>NA</p>
<p> </p>
<p>NA</p>
<p> </p>
<p><b>Parameters out:</b></p>
<p> </p>
<p>NA</p>
<p> </p>
<p>NA</p>
<p> </p>
<p>NA</p>
<p> </p>
<p> </p>
<p><b>Return Value:</b></p>
<p> </p>
<p><b>Type</b></p>
<p> </p>
<p><b>Possible Return Values</b></p>
<p> </p>
<p>NA</p>
<p> </p>
<p>NA</p>
<p> </p>
<p><b>Description:</b></p>
<p> </p>
<p>This service shall cancel the specified on-going sequence transmission. </p>
<p> </p>
<p><b>Configuration </b></p>
<p><b>Dependency:</b></p>
<p> </p>
<p>SpiCancelApi should be Enabled </p>
<p>Preconditions: </p>
<p>The SPI Handler/Driver should have been initialized before this service is called </p>
<p> </p>
<p><b>10.3.13    Spi_SetAsyncMode </b></p>
<p> </p>
<p><b>Name:</b></p>
<p> </p>
<p>Spi_SetAsyncMode</p>
<p> </p>
<p> </p>
<p>Prototype: </p>
<p> FUNC (Std_ReturnType, SPI_PUBLIC_CODE) Spi_SetAsyncMode </p>
<p> ( </p>
<p>Spi_AsyncModeType Mode </p>
<p> ) </p>
<h1 style="page-break-before:always; "></h1>
<p><b>Chapter 10                                                                                   Application Programming Interface </b></p>
<p><b> </b></p>
<p>68 </p>
<p> </p>
<p><b>Service ID:</b></p>
<p> </p>
<p> 0x0D </p>
<p><b>Sync/Async:</b></p>
<p> </p>
<p> Synchronous</p>
<p> </p>
<p><b>Reentrancy:</b></p>
<p> </p>
<p> Non Reentrant</p>
<p> </p>
<p> </p>
<p><b>Parameters In:</b></p>
<p> </p>
<p><b>Type</b></p>
<p> </p>
<p><b>Parameter</b></p>
<p> </p>
<p><b>Value/Range</b></p>
<p> </p>
<p>Spi_AsyncModeType </p>
<p> Mode </p>
<p>SPI_POLLING_MODE /</p>
<p> </p>
<p>SPI_INTERRUPT_MODE </p>
<p><b> Parameters InOut:</b></p>
<p> </p>
<p>NA</p>
<p> </p>
<p>NA</p>
<p> </p>
<p>NA</p>
<p> </p>
<p><b>Parameters out:</b></p>
<p> </p>
<p>NA</p>
<p> </p>
<p>NA</p>
<p> </p>
<p>NA</p>
<p> </p>
<p> </p>
<p><b>Return Value:</b></p>
<p> </p>
<p><b>Type</b></p>
<p> </p>
<p><b>Possible Return Values</b></p>
<p> </p>
<p> Std_ReturnType </p>
<p>E_OK/E_NOT_OK </p>
<p><b>Description:</b></p>
<p> </p>
<p>Service to set the asynchronous mechanism mode for SPI buses handled </p>
<p>asynchronously.  </p>
<p><b>Configuration </b></p>
<p><b>Dependency:</b></p>
<p> </p>
<p>None </p>
<p>Preconditions: </p>
<p>The SPI Handler/Driver should have been initialized before this service is called </p>
<p> </p>
<p><b>10.3.14    Spi_GetVersionInfo </b></p>
<p> </p>
<p><b>Name:</b></p>
<p> </p>
<p>Spi_GetVersionInfo</p>
<p> </p>
<p> </p>
<p>Prototype: </p>
<p>FUNC (void, SPI_PUBLIC_CODE) Spi_GetVersionInfo </p>
<p>( </p>
<p>P2VAR(Std_VersionInfoType, AUTOMATIC, SPI_APPL_DATA)  </p>
<p>versionInfoPtr </p>
<p>) </p>
<p><b>Service ID:</b></p>
<p> </p>
<p>0x09 </p>
<p><b>Sync/Async:</b></p>
<p> </p>
<p>Synchronous</p>
<p> </p>
<p><b>Reentrancy:</b></p>
<p> </p>
<p>Reentrant</p>
<p> </p>
<p> </p>
<p><b>Parameters In:</b></p>
<p> </p>
<p><b>Type</b></p>
<p> </p>
<p><b>Parameter</b></p>
<p> </p>
<p><b>Value/Range</b></p>
<p> </p>
<p> NA </p>
<p>  NA </p>
<p>NA </p>
<p><b> Parameters InOut:</b></p>
<p> </p>
<p>NA</p>
<p> </p>
<p>NA</p>
<p> </p>
<p>NA</p>
<p> </p>
<p><b>Parameters out:</b></p>
<p> </p>
<p>pointer to Std_VersionInfoType </p>
<p>versionInfoPtr </p>
<p> </p>
<p>NA</p>
<p> </p>
<p> </p>
<p><b>Return Value:</b></p>
<p> </p>
<p><b>Type</b></p>
<p> </p>
<p><b>Possible Return Values</b></p>
<p> </p>
<p>NA</p>
<p> </p>
<p>NA</p>
<p> </p>
<p><b>Description:</b></p>
<p> </p>
<p>This service returns the version information of this module. The version information </p>
<p>includes: </p>
<p>- Module Id </p>
<p>- Vendor Id </p>
<p>- Vendor specific version numbers </p>
<p> </p>
<p><b>Configuration </b></p>
<p><b>Dependency:</b></p>
<p> </p>
<p>SpiVersionInfoApi should be Enabled </p>
<p><b>Preconditions: </b></p>
<p>None </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<h1 style="page-break-before:always; "></h1>
<p><b> Application Programming Interface </b></p>
<p><b>Chapter 10 </b></p>
<p> </p>
<p>69 </p>
<p><b>10.3.15    Spi_MainFunction_Handling </b></p>
<p> </p>
<p><b>Name:</b></p>
<p> </p>
<p>Spi_MainFunction_Handling</p>
<p> </p>
<p> </p>
<p>Prototype: </p>
<p>FUNC(void, SPI_PUBLIC_CODE) Spi_MainFunction_Handling </p>
<p>( </p>
<p>     void </p>
<p>) </p>
<p><b>Service ID:</b></p>
<p> </p>
<p>0x10 </p>
<p><b>Sync/Async:</b></p>
<p> </p>
<p>NA</p>
<p> </p>
<p><b>Reentrancy:</b></p>
<p> </p>
<p>Non Reentrant</p>
<p> </p>
<p> </p>
<p><b>Parameters In:</b></p>
<p> </p>
<p><b>Type</b></p>
<p> </p>
<p><b>Parameter</b></p>
<p> </p>
<p><b>Value/Range</b></p>
<p> </p>
<p> NA </p>
<p>  NA </p>
<p>NA </p>
<p><b> Parameters InOut:</b></p>
<p> </p>
<p>NA</p>
<p> </p>
<p>NA</p>
<p> </p>
<p>NA</p>
<p> </p>
<p><b>Parameters out:</b></p>
<p> </p>
<p>NA</p>
<p> </p>
<p>NA</p>
<p> </p>
<p>NA</p>
<p> </p>
<p> </p>
<p><b>Return Value:</b></p>
<p> </p>
<p><b>Type</b></p>
<p> </p>
<p><b>Possible Return Values</b></p>
<p> </p>
<p>NA </p>
<p>NA </p>
<p><b>Description:</b></p>
<p> </p>
<p>This function is to be invoked in the scheduler loop for asynchronous transmission in </p>
<p>polling mode  </p>
<p><b>Configuration </b></p>
<p><b>Dependency:</b></p>
<p> </p>
<p>None </p>
<p>Preconditions: </p>
<p>This function should be invoked only when polling is selected by Spi_SetAsyncMode API </p>
<p> </p>
<p><b>10.3.16    Spi_SelfTest </b></p>
<p> </p>
<p><b>Name:</b></p>
<p> </p>
<p>Spi_SelfTest</p>
<p> </p>
<p> </p>
<p>Prototype: </p>
<p> FUNC(Spi_ReturnStatus, SPI_PUBLIC_CODE) Spi_SelfTest </p>
<p> ( </p>
<p>  Spi_SelfTestType LucTestFeature </p>
<p> ) </p>
<p><b>Service ID:</b></p>
<p> </p>
<p>0x11 </p>
<p><b>Sync/Async:</b></p>
<p> </p>
<p>Synchronous</p>
<p> </p>
<p><b>Reentrancy:</b></p>
<p> </p>
<p>Reentrant</p>
<p> </p>
<p> </p>
<p><b>Parameters In:</b></p>
<p> </p>
<p><b>Type</b></p>
<p> </p>
<p><b>Parameter</b></p>
<p> </p>
<p><b>Value/Range</b></p>
<p> </p>
<p>Spi_SelfTestType </p>
<p> LucTestFeature </p>
<p>Min: 0 </p>
<p>Max: 255 </p>
<p><b> Parameters InOut:</b></p>
<p> </p>
<p>NA</p>
<p> </p>
<p>NA</p>
<p> </p>
<p>NA</p>
<p> </p>
<p><b>Parameters out:</b></p>
<p> </p>
<p>NA</p>
<p> </p>
<p>NA</p>
<p> </p>
<p>NA</p>
<p> </p>
<p> </p>
<p><b>Return Value:</b></p>
<p> </p>
<p><b>Type</b></p>
<p> </p>
<p><b>Possible Return Values</b></p>
<p> </p>
<p>Spi_ReturnStatus </p>
<p>SPI_SELFTEST_DRIVERBUSY, SPI_SELFTEST_PASS, </p>
<p>SPI_SELFTEST_FAILED, SPI_SELFTEST_INVALID_MODE </p>
<p><b>Description:</b></p>
<p> </p>
<p>Function to Execute SPI Self Test </p>
<p><b>Configuration </b></p>
<p><b>Dependency:</b></p>
<p> </p>
<p>None </p>
<p>Preconditions: </p>
<p>None </p>
<p> </p>
<h1 style="page-break-before:always; "></h1>
<p><b>Chapter 10                                                                                   Application Programming Interface </b></p>
<p><b> </b></p>
<p>70 </p>
<p> </p>
<p><b>10.3.17    Spi_GetErrorInfo </b></p>
<p> </p>
<p><b>Name:</b></p>
<p> </p>
<p>Spi_GetErrorInfo</p>
<p> </p>
<p> </p>
<p>Prototype: </p>
<p>FUNC(uint8, SPI_PUBLIC_CODE) Spi_GetErrorInfo  </p>
<p>( </p>
<p>P2VAR(Spi_CommErrorType, AUTOMATIC, SPI_CONFIG_DATA) LpUserBuffer, </p>
<p>uint8 LucBufferSize  </p>
<p>) </p>
<p><b>Service ID:</b></p>
<p> </p>
<p>0x12 </p>
<p><b>Sync/Async:</b></p>
<p> </p>
<p>Synchronous</p>
<p> </p>
<p><b>Reentrancy:</b></p>
<p> </p>
<p>Reentrant</p>
<p> </p>
<p> </p>
<p><b>Parameters In:</b></p>
<p> </p>
<p><b>Type</b></p>
<p> </p>
<p><b>Parameter</b></p>
<p> </p>
<p><b>Value/Range</b></p>
<p> </p>
<p>Pointer to Spi_CommErrorType  LpUserBuffer </p>
<p>NA </p>
<p>unit8 </p>
<p>LucBufferSize </p>
<p> </p>
<p>Min: 0 </p>
<p>Max: 255 </p>
<p><b> Parameters InOut:</b></p>
<p> </p>
<p>NA</p>
<p> </p>
<p>NA</p>
<p> </p>
<p>NA</p>
<p> </p>
<p><b>Parameters out:</b></p>
<p> </p>
<p>NA</p>
<p> </p>
<p>NA</p>
<p> </p>
<p>NA</p>
<p> </p>
<p> </p>
<p><b>Return Value:</b></p>
<p> </p>
<p><b>Type</b></p>
<p> </p>
<p><b>Possible Return Values</b></p>
<p> </p>
<p>uint8 </p>
<p>0 to 255 </p>
<p><b>Description:</b></p>
<p> </p>
<p>Function to Copy Hardware Error Details to User Buffer </p>
<p><b>Configuration </b></p>
<p><b>Dependency:</b></p>
<p> </p>
<p>None </p>
<p>Preconditions: </p>
<p>None </p>
<p> </p>
<p> </p>
<p> </p>
<h1 style="page-break-before:always; "></h1>
<p> </p>
<p><b>Development And Production Errors </b></p>
<p><b>Chapter 11</b></p>
<p> </p>
<p>71 </p>
<p><b>Chapter 11 </b></p>
<p><b>Development And Production Errors </b></p>
<p> </p>
<p>In this section the development errors that are reported by the SPI Driver Component </p>
<p>are tabulated. The development errors will be reported only when the pre compiler option </p>
<p>SpiDevErrorDetect is enabled in the configuration. The production code errors are not </p>
<p>supported by SPI Driver Component. </p>
<p> </p>
<p><b>11.1 </b></p>
<p><b> SPI Driver Component Development Errors </b></p>
<p> </p>
<p>The following table contains the DET errors that are reported by SPI Driver </p>
<p>Component. These errors are reported to Development Error Tracer Module when the SPI </p>
<p>Driver Component APIs are invoked with wrong input parameters or without initialization of </p>
<p>the driver. </p>
<p> </p>
<p><b>Table 11-1 </b></p>
<p><b>DET Errors Of SPI Driver Component </b></p>
<p> </p>
<p><b>Sl. No.</b></p>
<p> </p>
<p><b>1</b></p>
<p> </p>
<p>Error Code</p>
<p> </p>
<p>SPI_E_PARAM_CHANNEL</p>
<p> </p>
<p>Related API(s)</p>
<p> </p>
<p>Spi_WriteIB, SpiReadIB and Spi_SetupEB</p>
<p> </p>
<p>Source of Error</p>
<p> </p>
<p>When the API service is invoked with invalid channel Id and if incorrect type of </p>
<p>channel (IB or EB) is used with services. </p>
<p><b>Sl. No.</b></p>
<p> </p>
<p><b>2</b></p>
<p> </p>
<p>Error Code</p>
<p> </p>
<p>SPI_E_PARAM_JOB</p>
<p> </p>
<p>Related API(s)</p>
<p> </p>
<p>Spi_GetJobResult</p>
<p> </p>
<p>Source of Error</p>
<p> </p>
<p>When the API service is invoked with invalid job Id.</p>
<p> </p>
<p><b>Sl. No.</b></p>
<p> </p>
<p><b>3</b></p>
<p> </p>
<p>Error Code</p>
<p> </p>
<p>SPI_E_PARAM_SEQ</p>
<p> </p>
<p>Related API(s)</p>
<p> </p>
<p>Spi_AsyncTransmit, Spi_GetSequenceResult, Spi_SyncTransmit and Spi_Cancel.</p>
<p> </p>
<p>Source of Error</p>
<p> </p>
<p>When the API service is invoked with invalid sequence Id.</p>
<p> </p>
<p><b>Sl. No.</b></p>
<p> </p>
<p><b>4</b></p>
<p> </p>
<p>Error Code</p>
<p> </p>
<p>SPI_E_PARAM_LENGTH</p>
<p> </p>
<p>Related API(s)</p>
<p> </p>
<p>Spi_SetupEB</p>
<p> </p>
<p>Source of Error</p>
<p> </p>
<p>When the API service is invoked with length greater than the configured length.</p>
<p> </p>
<p><b>Sl. No.</b></p>
<p> </p>
<p><b>5</b></p>
<p> </p>
<p>Error Code</p>
<p> </p>
<p>SPI_E_PARAM_UNIT</p>
<p> </p>
<p>Related API(s)</p>
<p> </p>
<p>Spi_GetHWUnitStatus</p>
<p> </p>
<p>Source of Error</p>
<p> </p>
<p>When the API service is invoked with invalid hardware unit Id.</p>
<p> </p>
<p><b>Sl. No.</b></p>
<p> </p>
<p><b>6</b></p>
<p> </p>
<p>Error Code</p>
<p> </p>
<p>SPI_E_SEQ_PENDING</p>
<p> </p>
<p>Related API(s)</p>
<p> </p>
<p>Spi_AsyncTransmit</p>
<p> </p>
<p>Source of Error</p>
<p> </p>
<p>When the API service is invoked in a wrong sequence.</p>
<p> </p>
<p><b>Sl. No.</b></p>
<p> </p>
<p><b>7</b></p>
<p> </p>
<p>Error Code</p>
<p> </p>
<p>SPI_E_SEQ_IN_PROCESS</p>
<p> </p>
<p>Related API(s)</p>
<p> </p>
<p>Spi_SyncTransmit, Spi_SelfTest</p>
<p> </p>
<p>Source of Error</p>
<p> </p>
<p>When the API service is invoked at wrong time.</p>
<p> </p>
<p><b>Sl. No.</b></p>
<p> </p>
<p><b>8</b></p>
<p> </p>
<p>Error Code</p>
<p> </p>
<p>SPI_E_ALREADY_INITIALIZED</p>
<p> </p>
<p>Related API(s)</p>
<p> </p>
<p>Spi_Init</p>
<p> </p>
<h1 style="page-break-before:always; "></h1>
<p><b>Chapter 11                                                                                Development And Production Errors </b></p>
<p><b> </b></p>
<p>72 </p>
<p> </p>
<p>Source of Error</p>
<p> </p>
<p>When the API Spi_Init is invoked when the SPI driver is already initialized.</p>
<p> </p>
<p><b>Sl. No.</b></p>
<p> </p>
<p><b>9</b></p>
<p> </p>
<p>Error Code</p>
<p> </p>
<p>SPI_E_INVALID_DATABASE</p>
<p> </p>
<p>Related API(s)</p>
<p> </p>
<p>Spi_Init</p>
<p> </p>
<p>Source of Error</p>
<p> </p>
<p>When the API service is invoked with invalid pointer.</p>
<p> </p>
<p><b>Sl. No.</b></p>
<p> </p>
<p><b>10</b></p>
<p> </p>
<p>Error Code</p>
<p> </p>
<p>SPI_E_UNINIT</p>
<p> </p>
<p>Related API(s)</p>
<p> </p>
<p>Spi_DeInit, Spi_AsyncTransmit, Spi_Cancel,</p>
<p> </p>
<p>Spi_GetStatus,  </p>
<p>Spi_GetHWUnitStatus, Spi_GetJobResult, Spi_GetSequenceResult, Spi_WriteIB, </p>
<p>Spi_ReadIB, Spi_SetupEB, Spi_SyncTransmit, Spi_SetAsyncMode, </p>
<p>Spi_MainFunction_Handling and Spi_GetErrorInfo.</p>
<p> </p>
<p>Source of Error</p>
<p> </p>
<p>When the APIs are invoked without the initialization of  SPI Driver Component.</p>
<p> </p>
<p><b>Sl. No. </b></p>
<p><b>11 </b></p>
<p>Error Code </p>
<p>SPI_E_PARAM_POINTER </p>
<p>Related API(s) </p>
<p>  Spi_ReadIB and Spi_GetVersionInfo. </p>
<p>Source of Error </p>
<p> When the API service is invoked with null pointer. </p>
<p> Note: This error code (SPI_E_PARAM_POINTER) is applicable for  Autosar R4.0 </p>
<p>only. </p>
<p><b>Sl. No. </b></p>
<p><b>12 </b></p>
<p>Error Code </p>
<p>SPI_E_PARAM_CONFIG </p>
<p>Related API(s) </p>
<p>Spi_Init </p>
<p>Source of Error </p>
<p>When the API invoked with null config pointer. </p>
<p><b>Sl. No. </b></p>
<p><b>13 </b></p>
<p>Error Code </p>
<p>SPI_E_MAINFUNCTION_HANDLING_INVALIDMODE </p>
<p>Related API(s) </p>
<p>Spi_MainFunction_Handling </p>
<p>Source of Error </p>
<p>When the API invoked in SPI_INTERRUPT_MODE. </p>
<p><b> </b></p>
<p><b> </b></p>
<p><b>11.2 </b></p>
<p><b> SPI Driver Component Production Errors </b></p>
<p> </p>
<p>In this section the DEM errors identified in the SPI Driver Component are listed. SPI Driver </p>
<p>Component reports these errors to DEM by invoking Dem_ReportErrorStatus API. This API is </p>
<p>invoked, when the processing of the given API request fails. </p>
<p> </p>
<p><b>Table 11-2 </b></p>
<p><b>DEM Errors Of SPI Driver Component </b></p>
<p><b> </b></p>
<p><b>Sl. No.</b></p>
<p> </p>
<p><b>1</b></p>
<p> </p>
<p>Error Code</p>
<p> </p>
<p>SPI_E_HARDWARE_ERROR</p>
<p> </p>
<p>Related API(s)</p>
<p> </p>
<p>Spi_Init , Spi_SyncTransmit, Spi_MainFunction_Handling, Spi_ComErrorISR and </p>
<p>Spi_SelfTest</p>
<p> </p>
<p>Source of Error</p>
<p> </p>
<p>1. Overrun error: When previously received data still resides in the reception </p>
<p>register(RX), because it wasn’t read, and new data is received. </p>
<p>2. Data Consistency Check error: When data physically sent to the output pin is not </p>
<p>identical to the original data that was copied to the shift register. </p>
<p>3. Parity error: When parity check fails during data transmission. </p>
<p> </p>
<p>Note: When DEM error 'SPI_E_HARDWARE_ERROR' occurs, corresponding </p>
<p>sequence result will be updated as failed and sequence will be suspended.</p>
<p> </p>
<p><b>Sl. No.</b></p>
<p> </p>
<p><b>2</b></p>
<p> </p>
<p>Error Code</p>
<p> </p>
<p>SPI_E_DATA_TX_TIMEOUT_FAILURE </p>
<p>Related API(s)</p>
<p> </p>
<p>Spi_SyncTransmit, Spi_Init and Spi_SelfTest. </p>
<h1 style="page-break-before:always; "></h1>
<p><b> Development And Production Errors </b></p>
<p><b>Chapter 11 </b></p>
<p> </p>
<p>73 </p>
<p>Source of Error</p>
<p> </p>
<p>When Hardware data transmit timeout error is detected, This error will be reported to </p>
<p>DEM </p>
<p><b>Sl. No.</b></p>
<p> </p>
<p>3 </p>
<p>Error Code</p>
<p> </p>
<p>SPI_E_INT_INCONSISTENT </p>
<p>Related API(s)</p>
<p> </p>
<p>All ISRs </p>
<p>Source of Error</p>
<p> </p>
<p> DemEventParameter which shall be issued when Interrupt consistency error was  </p>
<p>detected. </p>
<p><b>Sl. No.</b></p>
<p> </p>
<p><b>4</b></p>
<p> </p>
<p>Error Code</p>
<p> </p>
<p>SPI_E_ECC_SELFTEST_FAILURE </p>
<p>Related API(s)</p>
<p> </p>
<p>Spi_Init and Spi_SelfTest </p>
<p>Source of Error</p>
<p> </p>
<p>DemEventParameter which shall be issued when Ecc selft test error was detected. </p>
<p><b>Sl. No.</b></p>
<p> </p>
<p>5 </p>
<p>Error Code</p>
<p> </p>
<p>SPI_E_LOOPBACK_SELFTEST_FAILURE </p>
<p>Related API(s)</p>
<p> </p>
<p>Spi_Init and Spi_SelfTest </p>
<p>Source of Error</p>
<p> </p>
<p>DemEventParameter which shall be issued when loop back self test error was </p>
<p>detected. </p>
<p><b>Sl. No.</b></p>
<p> </p>
<p>6 </p>
<p>Error Code</p>
<p> </p>
<p> SPI_E_REG_WRITE_VERIFY </p>
<p>Related API(s)</p>
<p> </p>
<p>All APIs accessing the registers </p>
<p>Source of Error</p>
<p> </p>
<p>DemEventParameter which shall be issued when a mismatch during write-verify </p>
<p>check is detected. </p>
<p> </p>
<p><b>11.3 </b></p>
<p><b> SPI Driver Hardware Errors </b></p>
<p> </p>
<p><b>11.3.1   Data Consistency Check  </b></p>
<p> </p>
<p>The purpose of the data consistency check is to ensure that the data physically sent to the output pin is </p>
<p>identical to the original data that was copied to the shift register.When the data consistency check is </p>
<p>active, the data transferred from CSIGnTX0W/CSIGnTX0H or  CSIHnTX0W/CSIHnTX0H to the shift </p>
<p>register is copied to a separate register. In addition, the physical levels at CSIGTSO/ CSIHTSO are </p>
<p>capture and the logical interpretation is written to an own shift register.After completion of the </p>
<p>transmission, the data sent is compared with the original transmission data. </p>
<p> </p>
<p><b>11.3.2   Parity Check </b></p>
<p> </p>
<p>Parity is a mean to detect a single bit failure during data transmission. CSIG/CSIH can append a </p>
<p>parity bit to the last data bit.The parity bit is checked after reception is complete.When the extended                      </p>
<p>data length (EDL) function is used, a parity bit is added after the last bit of the data. </p>
<p><b> </b></p>
<p><b>11.3.3   Overrun  </b></p>
<p> </p>
<p>This error occurs when previously received data still resides in the reception register </p>
<p>CSIGnRX0/CSIHnRX0, because it wasn’t read, and new data is received.The overrun error is not </p>
<p>generated if data reception is disabled. </p>
<p> </p>
<p>Note: </p>
<p> </p>
<p>In general, If any of the above error is occured,a DEM error 'SPI_E_HARDWARE_ERROR' is reported to </p>
<p>DEM .Also corresponding sequence result will be updated as failed and sequence will be suspended. </p>
<p> </p>
<p> </p>
<h1 style="page-break-before:always; "></h1>
<p><b>Chapter 11                                                                                Development And Production Errors </b></p>
<p><b> </b></p>
<p>74 </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<h1 style="page-break-before:always; "></h1>
<p> </p>
<p><b>Memory Organization </b></p>
<p><b>Chapter 12</b></p>
<p> </p>
<p>75 </p>
<p><b>Chapter 12 </b></p>
<p><b>Memory Organization </b></p>
<p> </p>
<p>Following picture depicts a typical memory organization, which must be met </p>
<p>for proper functioning of SPI Driver Component software. </p>
<h1 style="page-break-before:always; "></h1>
<p><b>Chapter 12                                                                                                            Memory Organization </b></p>
<p><b> </b></p>
<p>76 </p>
<p> </p>
<p>Figure 12-1 </p>
<p>SPI Driver Component Driver Organization</p>
<p><b>ROM Section </b></p>
<p><b>SPI Driver Component </b></p>
<p><b>Library </b></p>
<p><b>Object </b></p>
<p><b>es</b></p>
<p> </p>
<p><b>RAM </b></p>
<p><b>ect</b></p>
<p> </p>
<p><b>X1 </b></p>
<p><b>X2 </b></p>
<p><b>Y1 </b></p>
<p><b>Y2 </b></p>
<p><b>Y3</b></p>
<p> </p>
<p> </p>
<p><b>Tool Generated Files </b></p>
<p> </p>
<p><b>X4</b></p>
<p> </p>
<p><b>X5</b></p>
<p> </p>
<p><b>Y4</b></p>
<p> </p>
<p>SPI Driver code related to APIs are </p>
<p>placed in this memory.  </p>
<p>Segment Name:</p>
<p> </p>
<p><b>SPI_PUBLIC_CODE_ROM</b></p>
<p> </p>
<p>SPI Driver code related to internal </p>
<p>functions are placed in this memory </p>
<p>Segment Name:</p>
<p> </p>
<p><b>SPI_PRIVATE_CODE_ROM </b></p>
<p> </p>
<p>Global RAM of unspecific size </p>
<p>required for SPI Driver functioning. </p>
<p>Segment Name:</p>
<p> </p>
<p><b>NO_INIT_RAM_UNSPECIFIED</b></p>
<p> </p>
<p>Global 1- bit RAM initialized by </p>
<p>start-Up code. </p>
<p>Segment Name: </p>
<p><b>RAM_UNSPECIFIED </b></p>
<p> </p>
<p>Global 1-bit RAM to be initialized </p>
<p>by SPI Driver </p>
<p>Segment Name:</p>
<p> </p>
<p><b>NO_INIT_RAM_1BIT</b></p>
<p> </p>
<p>The const section (other than SP I </p>
<p>Configuration structure) in the file </p>
<p>Spi_PBcfg.c is placed in this memory.  </p>
<p> </p>
<p>Segment name: </p>
<p><b>SPI_CFG_DATA_UNSPECIFIED</b></p>
<p> </p>
<p>The const section in the file Spi_Lcfg.c, </p>
<p>is placed in this memory. </p>
<p> </p>
<p> </p>
<p>Segment Name:</p>
<p> </p>
<p><b>CONST_ROM_UNSPECIFIED</b></p>
<p> </p>
<p> </p>
<p> </p>
<p>Global 8- bit R AM initialized by </p>
<p>SPI D river. </p>
<p>Segment Name:</p>
<p> </p>
<p><b>NO_IN IT_RA M _8BIT </b></p>
<p> </p>
<p>SPI Driver code related to ISR functions </p>
<p>are placed in this memory </p>
<p>Segment Name:</p>
<p> </p>
<p><b>SPI_FAST_CODE_ROM</b></p>
<p> </p>
<p><b>X3</b></p>
<p> </p>
<p>Global 16 -bit RAM initialized by </p>
<p>SPI Driver. </p>
<p>Segment Name:</p>
<p> </p>
<p><b>NO_INIT_RAM_16BIT </b></p>
<p>Global RAM of unspecific size required </p>
<p>for SPI Driver  functioning. The </p>
<p>Generation tool allocates this RAM.   </p>
<p>Segment Name: </p>
<p><b>SPI_CFG_RAM_UNSPECIFIED </b></p>
<p>                                </p>
<p><b>Y5</b></p>
<p> </p>
<p><b>Y7</b></p>
<p> </p>
<p>Global RAM variables of 16-bit size that are </p>
<p>initialized by start-up code</p>
<p>   </p>
<p>Segment Name:</p>
<p> </p>
<p><b>RAM_16BIT</b></p>
<p> </p>
<p><b>Y6</b></p>
<p> </p>
<h1 style="page-break-before:always; "></h1>
<p><b>Memory Organization </b></p>
<p><b>Chapter 12</b></p>
<p> </p>
<p> </p>
<p>77 </p>
<p><b> </b></p>
<p><b>ROM Section (X1, X2, X3,X4,X5 and X6): </b></p>
<p> </p>
<p><b>SPI_PUBLIC_CODE_ROM (X1): </b>API(s) of SPI Driver Component, which can </p>
<p>be located in code memory. </p>
<p> </p>
<p><b>SPI_PRIVATE_CODE_ROM (X2): </b>Internal functions of SPI Driver Component </p>
<p>code that can be located in code memory. </p>
<p> </p>
<p><b>                                         SPI_FAST_CODE_ROM(X3): </b>SPI Driver code related to ISR  </p>
<p>functions are placed in this memory Segment Name </p>
<p> </p>
<p><b>SPI_CFG_DATA_UNSPECIFIED (X4): </b>This section consists of SPI Driver </p>
<p>Component constant configuration structures. This can be located in code </p>
<p>memory. </p>
<p> </p>
<p><b>CONST_ROM_UNSPECIFIED (X5): </b>This section consists of SPI Driver </p>
<p>Component constant structures used for function pointers in SPI Driver </p>
<p>Component. This can be located in code memory. </p>
<p> </p>
<p><b>RAM Section (Y1, Y2, Y3, Y4, Y5 and Y6): </b></p>
<p> </p>
<p><b>NO_INIT_RAM_UNSPECIFIED (Y1): </b>This section consists of the global RAM </p>
<p>variables  that  are  used  internally  by  SPI  Driver  Component.  This  can  be </p>
<p>located in data memory. </p>
<p> </p>
<p><b>RAM_UNSPECIFIED (Y2): </b>This section consists of the global RAM variables </p>
<p>of 1-bit size that are initialized  by start-up code  and  used internally by  SPI </p>
<p>Driver Component. This can be located in data memory. </p>
<p> </p>
<p><b>RAM_1BIT (Y3): </b>This section consists of the global RAM variables of 1-bit size </p>
<p>that </p>
<p>are </p>
<p>initialized </p>
<p>by </p>
<p>start-up  code </p>
<p>and </p>
<p>used </p>
<p>internally </p>
<p>by </p>
<p>SPI </p>
<p>Driver </p>
<p>Component. The specific sections of respective software components will be </p>
<p>merged into this RAM section accordingly. </p>
<p> </p>
<p><b>NO_INIT_RAM_8BIT (Y4): </b>This section consists of the global RAM variables of </p>
<p>8-bit size that are used internally by SPI Driver Component. This can be </p>
<p>located in data memory. </p>
<p> </p>
<p><b>NO_INIT_RAM_16BIT (Y5): </b>This section consists of the global RAM variables </p>
<p>of 16-bit size that are used internally by SPI Driver Component. This can be </p>
<p>located in data memory. </p>
<p> </p>
<p><b>RAM_16BIT (Y6): </b>This section consists of the global RAM variables of 16-bit </p>
<p>size that are initialized  by start-up  code  and  used  internally  by SPI software </p>
<p>component and other software components. The specific sections of respective </p>
<p>software components will be merged into this RAM section accordingly. </p>
<p> </p>
<p><b>SPI_CFG_RAM_UNSPECIFIED (Y7): </b>This section consists of the global RAM </p>
<p>variables that are generated by SPI Driver Component Generation Tool. This </p>
<p>can be located in data memory. </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<h1 style="page-break-before:always; "></h1>
<p><b>   Chapter 12                                                                   </b></p>
<p><b> </b></p>
<p><b>Memory Organization</b></p>
<p> </p>
<p><b> </b></p>
<p>78 </p>
<p> </p>
<p><b>Remark </b></p>
<p> </p>
<p></p>
<p> </p>
<p>X1, X2, Y1, Y2, Y3, Y4, Y5, Y6 pertain to only SPI Driver Component and </p>
<p>do  not  include  memory  occupied  by  Spi_PBcfg.c  or  Spi_Lcfg.c  file </p>
<p>generated by SPI Driver Component Generation Tool. </p>
<p> </p>
<p></p>
<p> </p>
<p>User must ensure that none of the memory areas overlap with each other. </p>
<p>Even ‘debug’ information should not overlap. </p>
<p> </p>
<p> </p>
<h1 style="page-break-before:always; "></h1>
<p><b>P1M Specific Information </b></p>
<p><b>Chapter 13                                                                              </b></p>
<p> </p>
<p>79 </p>
<p><b>Chapter 13 </b></p>
<p><b>P1M Specific Information </b></p>
<p> </p>
<p>P1M supports following devices: </p>
<p></p>
<p> </p>
<p>R7F701304</p>
<p> </p>
<p></p>
<p> </p>
<p>R7F701305</p>
<p> </p>
<p></p>
<p> </p>
<p>R7F701310</p>
<p> </p>
<p></p>
<p> </p>
<p>R7F701311</p>
<p> </p>
<p></p>
<p> </p>
<p>R7F701312 </p>
<p></p>
<p> </p>
<p>R7F701313</p>
<p> </p>
<p></p>
<p> </p>
<p>R7F701314</p>
<p> </p>
<p></p>
<p> </p>
<p>R7F701315</p>
<p> </p>
<p></p>
<p> </p>
<p>R7F701318</p>
<p> </p>
<p></p>
<p> </p>
<p>R7F701319</p>
<p> </p>
<p></p>
<p> </p>
<p>R7F701320</p>
<p> </p>
<p></p>
<p> </p>
<p>R7F701321</p>
<p> </p>
<p></p>
<p> </p>
<p>R7F701322</p>
<p> </p>
<p></p>
<p> </p>
<p>R7F701323</p>
<p> </p>
<p> </p>
<p><b>13.1. Interaction Between The User And SPI Driver </b></p>
<p><b>Component </b></p>
<p> </p>
<p>The details of the services supported by the SPI Driver Component to the </p>
<p>upper layers users and the mapping of the channels to the hardware units is </p>
<p>provided in the following sections: </p>
<p> </p>
<p><b>13.1.1 </b></p>
<p><b>Translation Header File </b></p>
<p> </p>
<p>The translation header file supports following devices: </p>
<p> </p>
<p></p>
<p> </p>
<p>R7F701304</p>
<p> </p>
<p></p>
<p> </p>
<p>R7F701305</p>
<p> </p>
<p></p>
<p> </p>
<p>R7F701310</p>
<p> </p>
<p></p>
<p> </p>
<p>R7F701311</p>
<p> </p>
<p></p>
<p> </p>
<p>R7F701312 </p>
<p></p>
<p> </p>
<p>R7F701313</p>
<p> </p>
<p></p>
<p> </p>
<p>R7F701314</p>
<p> </p>
<p></p>
<p> </p>
<p>R7F701315</p>
<p> </p>
<p></p>
<p> </p>
<p>R7F701318</p>
<p> </p>
<p></p>
<p> </p>
<p>R7F701319</p>
<p> </p>
<p></p>
<p> </p>
<p>R7F701320</p>
<p> </p>
<p></p>
<p> </p>
<p>R7F701321</p>
<p> </p>
<p></p>
<p> </p>
<p>R7F701322</p>
<p> </p>
<p></p>
<p> </p>
<p>R7F701323</p>
<p> </p>
<p> </p>
<p><b>13.1.2 </b></p>
<p><b>Parameter Definition File </b></p>
<p>Parameter definition files support information for P1M </p>
<p><b>Table 13-1 </b></p>
<p><b>PDF information for P1M </b></p>
<p> </p>
<p><b>PDF Files</b></p>
<p> </p>
<p><b>Devices Supported</b></p>
<p> </p>
<p>R403_SPI_P1M_04_05_12_13_20_21.</p>
<p>arxml </p>
<p>701304, 701305, 701312, 701313, 701320, </p>
<p>701321</p>
<p> </p>
<h1 style="page-break-before:always; "></h1>
<p><b>Chapter 13  </b></p>
<p><b>     P1M Specific Information </b></p>
<p> </p>
<p>80 </p>
<p> </p>
<p>R403_SPI_P1M_10_11_14_15_18_19</p>
<p>_22_23.arxml </p>
<p>701310, 701311, 701314, 701315, 701318, </p>
<p>701319, 701322, 701323</p>
<p> </p>
<p> </p>
<p> </p>
<p><b>13.1.3 </b></p>
<p><b>ISR Function </b></p>
<p> </p>
<p>The table below provides the list of handler addresses corresponding to the </p>
<p>hardware unit ISR(s) in SPI Driver Component. The user should configure the </p>
<p>ISR functions mentioned below. </p>
<p><b>Table 13-2 </b></p>
<p><b>Interrupt Handler  </b></p>
<p> </p>
<p><b>Interrupt Source</b></p>
<p> </p>
<p><b>Name of the ISR Function</b></p>
<p> </p>
<p>INTCSIG0IRE</p>
<p> </p>
<p>SPI_CSIG0_TIRE_ISR</p>
<p> </p>
<p>SPI_CSIG0_TIRE_CAT2_ISR</p>
<p> </p>
<p>INTCSIG0IR</p>
<p> </p>
<p>SPI_CSIG0_TIR_ISR</p>
<p> </p>
<p>SPI_CSIG0_TIR_CAT2_ISR</p>
<p> </p>
<p>INTCSIG0IC</p>
<p> </p>
<p>SPI_CSIG0_TIC_ISR</p>
<p> </p>
<p>SPI_CSIG0_TIC_CAT2_ISR</p>
<p> </p>
<p>INTCSIH0IRE</p>
<p> </p>
<p>SPI_CSIH0_TIRE_ISR</p>
<p> </p>
<p>SPI_CSIH0_TIRE_CAT2_ISR</p>
<p> </p>
<p>INTCSIH0IR</p>
<p> </p>
<p>SPI_CSIH0_TIR_ISR</p>
<p> </p>
<p>SPI_CSIH0_TIR_CAT2_ISR</p>
<p> </p>
<p>INTCSIH0IC</p>
<p> </p>
<p>SPI_CSIH0_TIC_ISR</p>
<p> </p>
<p>SPI_CSIH0_TIC_CAT2_ISR</p>
<p> </p>
<p>INTCSIH0IJC</p>
<p> </p>
<p>SPI_CSIH0_TIJC_ISR</p>
<p> </p>
<p>SPI_CSIH0_TIJC_CAT2_ISR</p>
<p> </p>
<p>INTCSIH1IRE</p>
<p> </p>
<p>SPI_CSIH1_TIRE_ISR</p>
<p> </p>
<p>SPI_CSIH1_TIRE_CAT2_ISR</p>
<p> </p>
<p>INTCSIH1IR</p>
<p> </p>
<p>SPI_CSIH1_TIR_ISR</p>
<p> </p>
<p>SPI_CSIH1_TIR_CAT2_ISR</p>
<p> </p>
<p>INTCSIH1IC</p>
<p> </p>
<p>SPI_CSIH1_TIC_ISR</p>
<p> </p>
<p>SPI_CSIH1_TIC_CAT2_ISR</p>
<p> </p>
<p>INTCSIH1IJC</p>
<p> </p>
<p>SPI_CSIH1_TIJC_ISR</p>
<p> </p>
<p>SPI_CSIH1_TIJC_CAT2_ISR</p>
<p> </p>
<p>INTCSIH2IRE</p>
<p> </p>
<p>SPI_CSIH2_TIRE_ISR</p>
<p> </p>
<p>SPI_CSIH2_TIRE_CAT2_ISR</p>
<p> </p>
<p>INTCSIH2IR</p>
<p> </p>
<p>SPI_CSIH2_TIR_ISR</p>
<p> </p>
<p>SPI_CSIH2_TIR_CAT2_ISR</p>
<p> </p>
<p>INTCSIH2IC</p>
<p> </p>
<p>SPI_CSIH2_TIC_ISR</p>
<p> </p>
<p>SPI_CSIH2_TIC_CAT2_ISR</p>
<p> </p>
<p>INTCSIH2IJC</p>
<p> </p>
<p>SPI_CSIH2_TIJC_ISR</p>
<p> </p>
<p>SPI_CSIH2_TIJC_CAT2_ISR</p>
<p> </p>
<p>INTCSIH3IRE</p>
<p> </p>
<p>SPI_CSIH3_TIRE_ISR</p>
<p> </p>
<p>SPI_CSIH3_TIRE_CAT2_ISR</p>
<p> </p>
<p>INTCSIH3IR</p>
<p> </p>
<p>SPI_CSIH3_TIR_ISR</p>
<p> </p>
<h1 style="page-break-before:always; "></h1>
<p><b>P1M Specific Information </b></p>
<p><b>Chapter 13                                                                              </b></p>
<p> </p>
<p>81 </p>
<p><b>Interrupt Source</b></p>
<p> </p>
<p><b>Name of the ISR Function</b></p>
<p> </p>
<p>SPI_CSIH3_TIR_CAT2_ISR</p>
<p> </p>
<p>INTCSIH3IC</p>
<p> </p>
<p>SPI_CSIH3_TIC_ISR</p>
<p> </p>
<p>SPI_CSIH3_TIC_CAT2_ISR</p>
<p> </p>
<p>INTCSIH3IJC</p>
<p> </p>
<p>SPI_CSIH3_TIJC_ISR</p>
<p> </p>
<p>SPI_CSIH3_TIJC_CAT2_ISR</p>
<p> </p>
<p>INTDMA[0-15] </p>
<p> </p>
<p>SPI_DMA00_ISR </p>
<p>SPI_DMA00_CAT2_ISR </p>
<p>SPI_DMA01_ISR </p>
<p>SPI_DMA01_CAT2_ISR </p>
<p>SPI_DMA02_ISR </p>
<p>SPI_DMA02_CAT2_ISR </p>
<p>SPI_DMA03_ISR </p>
<p>SPI_DMA03_CAT2_ISR </p>
<p>SPI_DMA04_ISR </p>
<p>SPI_DMA04_CAT2_ISR </p>
<p>SPI_DMA05_ISR </p>
<p>SPI_DMA05_CAT2_ISR </p>
<p>SPI_DMA06_ISR </p>
<p>SPI_DMA06_CAT2_ISR </p>
<p>SPI_DMA07_ISR </p>
<p>SPI_DMA07_CAT2_ISR  </p>
<p>SPI_DMA08_ISR </p>
<p>SPI_DMA08_CAT2_ISR  </p>
<p>SPI_DMA09_ISR </p>
<p>SPI_DMA09_CAT2_ISR  </p>
<p>SPI_DMA10_ISR </p>
<p>SPI_DMA10_CAT2_ISR  </p>
<p>SPI_DMA11_ISR </p>
<p>SPI_DMA11_CAT2_ISR  </p>
<p>SPI_DMA12_ISR </p>
<p>SPI_DMA12_CAT2_ISR  </p>
<p>SPI_DMA13_ISR </p>
<p>SPI_DMA13_CAT2_ISR  </p>
<p>SPI_DMA14_ISR </p>
<p>SPI_DMA14_CAT2_ISR  </p>
<p>SPI_DMA15_ISR </p>
<p>SPI_DMA15_CAT2_ISR  </p>
<p> </p>
<p> </p>
<p> </p>
<p><b>Note: </b>The functions with “INTERRUPT“ as pilot tag, provides an indication to </p>
<p>the compiler that the function following this tag is an interrupt function type. </p>
<p>The tag name can vary according to the compiler. User should take care of </p>
<p>the tag name with respect to compiler used. </p>
<p> </p>
<h1 style="page-break-before:always; "></h1>
<p><b>Chapter 13  </b></p>
<p><b>     P1M Specific Information </b></p>
<p> </p>
<p>82 </p>
<p> </p>
<p> </p>
<p><b>13.2. Sample Application </b></p>
<p>The Sample Application is provided as reference to the user to understand the </p>
<p>method in which the SPI APIs can be invoked from the application. </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p>                                        <b>Figure 13-1 </b></p>
<p><b>Overview Of SPI Driver Sample Application </b></p>
<p> </p>
<p><b>13.2.1 </b></p>
<p><b>Sample Application Structure </b></p>
<p> </p>
<p>The Sample Application of the P1M is available in the path </p>
<p> </p>
<p>The Sample Application consists of the following folder structure </p>
<p>X1X\P1x\modules\spi\definition\&lt;AUTOSAR_version&gt;\  </p>
<p>                                         &lt;SubVariant&gt;\R403_SPI_P1M_04_05_12_13_20_21.arxml                          </p>
<p>                                                               \R403_SPI_P1M_10_11_14_15_18_19_22_23.arxml </p>
<p>X1X\P1x\modules\spi\sample_application\&lt;SubVariant&gt;\&lt;AUTOSAR_version&gt; </p>
<p>                                                                                      </p>
<p>                                                                                      \src\Spi_Lcfg.c </p>
<p> </p>
<p>\src\Spi_PBcfg.c </p>
<p> </p>
<p>\inc\Spi_Cfg.h </p>
<p> </p>
<p>\inc\Spi_Cbk.h </p>
<p> </p>
<p>/config/App_SPI_P1M_701304_Sample.arxml </p>
<p> </p>
<p>/config/App_SPI_P1M_701305_Sample.arxml </p>
<p> </p>
<p>/config/App_SPI_P1M_701310_Sample.arxml </p>
<p> </p>
<p>/config/App_SPI_P1M_701311_Sample.arxml </p>
<p> </p>
<p>/config/App_SPI_P1M_701312_Sample.arxml </p>
<p> </p>
<p>/config/App_SPI_P1M_701313_Sample.arxml </p>
<p> </p>
<p>/config/App_SPI_P1M_701314_Sample.arxml </p>
<p> </p>
<p>RH850 Types </p>
<p>Common SPI </p>
<p>sample </p>
<p>application </p>
<p>P1x </p>
<p> </p>
<p>Sample </p>
<p>application </p>
<p>STUB </p>
<p>DEM </p>
<p>ST</p>
<p> </p>
<p>STUB Os </p>
<p>STUB </p>
<p>SchM </p>
<p>STUB </p>
<p>MCU </p>
<p>Generic </p>
<p>AUTOSAR </p>
<h1 style="page-break-before:always; "></h1>
<p><b>P1M Specific Information </b></p>
<p><b>Chapter 13                                                                              </b></p>
<p> </p>
<p>83 </p>
<p>/config/App_SPI_P1M_701315_Sample.arxml </p>
<p> </p>
<p>/config/App_SPI_P1M_701318_Sample.arxml </p>
<p> </p>
<p>/config/App_SPI_P1M_701319_Sample.arxml </p>
<p> </p>
<p>/config/App_SPI_P1M_701320_Sample.arxml </p>
<p> </p>
<p>/config/App_SPI_P1M_701321_Sample.arxml </p>
<p> </p>
<p>/config/App_SPI_P1M_701322_Sample.arxml </p>
<p> </p>
<p>/config/App_SPI_P1M_701323_Sample.arxml </p>
<p> </p>
<p>In  the  Sample  Application  all  the  SPI  APIs  are  invoked  in  the  following    </p>
<p>sequence: </p>
<p> </p>
<p>• </p>
<p>The  API  Spi_Init  is  invoked  with  a  valid  database  address  for  the  proper </p>
<p>initialization of the SPI Driver, all the SPI Driver control registers and RAM </p>
<p>variables will get initialized after this API is called.</p>
<p> </p>
<p> </p>
<p>• </p>
<p>The API Spi_GetVersionInfo is invoked to get the version of the SPI Driver </p>
<p>module with a variable of Std_VersionInfoType, after the call of this API the </p>
<p>passing parameter will get updated with the SPI Driver version details. </p>
<p> </p>
<p>• </p>
<p>The  API  Spi_GetHWUnitStatus  will  return  the  status  of  the  specified  SPI </p>
<p>Hardware microcontroller peripheral. </p>
<p> </p>
<p>• </p>
<p>The API Spi_SyncTransmit will transmit data on the SPI bus synchronously. </p>
<p> </p>
<p>• </p>
<p>This module will take the passing parameter and set the SPI Driver status to </p>
<p>SPI_BUSY. Also it sets the sequence result to SPI_SEQ_PENDING and first </p>
<p>job result to SPI_JOB_PENDING and performs the transmission. </p>
<p> </p>
<p>• </p>
<p>The API Spi_SetAsyncMode will set the asynchronous mechanism mode for </p>
<p>SPI busses handled asynchronously. </p>
<p> </p>
<p>• </p>
<p>The API Spi_GetErrorInfo copies Hardware Error Details to User Buffer </p>
<p> </p>
<p>• </p>
<p>The API Spi_MainFunction_Driving is used for Asynchronous transmission </p>
<p>of the sequences in polling mode. This service is should be invoked in a </p>
<p>scheduler loop if the asynchronous transmission mode is selected as  </p>
<p>                                                SPI_POLLING_MODE. </p>
<p> </p>
<p>• </p>
<p>The </p>
<p>API </p>
<p>Spi_Cancel </p>
<p>will </p>
<p>cancel </p>
<p>the </p>
<p>specified </p>
<p>on-going </p>
<p>sequence   </p>
<p>transmission without canceling any Job transmission and the SPI Driver will </p>
<p>set the sequence result to SPI_SEQ_CANCELLED. </p>
<p> </p>
<p>• </p>
<p>The API Spi_DeInit is invoked for de-initialization of the all the controls  </p>
<p>registers and RAM variables. </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<h1 style="page-break-before:always; "></h1>
<p><b>Chapter 13  </b></p>
<p><b>     P1M Specific Information </b></p>
<p> </p>
<p>84 </p>
<p> </p>
<p><b>13.2.2 </b></p>
<p><b>Building Sample Application </b></p>
<p> </p>
<p><b>13.2.2.1 </b></p>
<p><b>Configuration Example </b></p>
<p> </p>
<p>This section contains the typical configuration which is used for measuring </p>
<p>RAM/ROM consumption, stack depth and throughput details </p>
<p><b>Configuration Details</b>: App_SPI_P1M_&lt;Device_name&gt;_Sample.arxml </p>
<p> </p>
<p><b>13.2.2.2 </b></p>
<p><b>Debugging The Sample Application </b></p>
<p><b>Remark </b></p>
<p>GNU Make utility version 3.81 or above must be installed and available in the </p>
<p>path as defined by the environment user variable “GNUMAKE” to complete the </p>
<p>build process using the delivered sample files. </p>
<p> </p>
<p>• </p>
<p>Open a Command window and change the current working directory to </p>
<p>”make” directory present as mentioned in below path: </p>
<p>  “X1X\P1x\common_family\make\&lt;Compiler&gt;” </p>
<p>• </p>
<p>Now execute the batch file SampleApp.bat with following parameters </p>
<p> </p>
<p>SampleApp.bat Spi 4.0.3 &lt;Device_name&gt;. </p>
<p> </p>
<p>• </p>
<p>After this, the tool output files will be generated with the configuration as </p>
<p>mentioned in App_SPI_P1M_&lt;Device_Name&gt;_Sample.arxml file available </p>
<p>in the path: </p>
<p> </p>
<p>“X1X\P1x\modules\spi\sample_application\&lt;SubVariant&gt;\&lt;AUTOSAR_ver</p>
<p>sion&gt;\config\App_SPI_P1M_&lt;Device_Name&gt;_Sample.arxml” </p>
<p> </p>
<p>• </p>
<p>After this, all the object files, map file and the executable file </p>
<p>App_Spi_P1M_Sample.out will be available in the output folder: </p>
<p>(“X1X\P1x\modules\spi\sample_application\&lt;SubVariant&gt; </p>
<p>\obj\&lt;Compiler&gt;”) </p>
<p> </p>
<p>• </p>
<p>The executable can be loaded into the debugger and the sample application </p>
<p>can be executed. </p>
<p><b> </b></p>
<p><b>Remark </b></p>
<p>Executable files with ‘*.out’ extension can be downloaded into the target </p>
<p>hardware with the help of Green Hills debugger. </p>
<p> </p>
<p>• </p>
<p>If any configuration changes (only post-build) are made to the ECU </p>
<p>Configuration Description files </p>
<p> </p>
<p>“X1X\P1x\modules\spi\sample_application\&lt;SubVariant&gt; </p>
<p>\&lt;AUTOSAR_version&gt;\config\App_SPI_P1M_&lt;Device_Name&gt;_Sample.arx</p>
<p>ml” </p>
<p> </p>
<p>• </p>
<p>The database alone can be generated by using the following commands. </p>
<p>make –f App_SPI_P1M_Sample.mak generate_spi_config </p>
<p>make –f App_SPI_P1M_Sample.mak App_SPI_P1M_Sample.s37 </p>
<p>After this, a flash able Motorola S-Record file App_SPI_P1M_Sample.s37 is  </p>
<p>available in the output folder. </p>
<p><b>Note: </b>The &lt;Device_name&gt; indicates the device to be compiled, which can </p>
<p>be 701304 or 701305 or 701310 or 701311 or 701312 or 701313 or 701314 </p>
<p>or 701315 or 701318 or 701319 or  701320 or 701321 or 701322 or 701323           </p>
<h1 style="page-break-before:always; "></h1>
<p><b>P1M Specific Information </b></p>
<p><b>Chapter 13                                                                              </b></p>
<p> </p>
<p>85 </p>
<p><b>13.3. Memory And Throughput  </b></p>
<p> </p>
<p><b>13.3.1 </b></p>
<p><b>ROM/RAM Usage </b></p>
<p> </p>
<p>The details of memory usage for the typical configuration, with DET </p>
<p>disabled as provided in Section 13.2.2.1 <i>Configuration Example </i>are provided </p>
<p>in this section. </p>
<p><b>Table 13-3 </b></p>
<p><b>ROM/RAM Details without DET </b></p>
<p> </p>
<p><b>Sl. No. </b></p>
<p><b>ROM/RAM </b></p>
<p><b>Segment Name </b></p>
<p><b>Size in bytes for </b></p>
<p><b>701318 </b></p>
<p>1. </p>
<p>ROM </p>
<p>SPI_PUBLIC_CODE_ROM </p>
<p>SPI_PRIVATE_CODE_ROM </p>
<p>CONST_ROM_UNSPECIFIED  </p>
<p>SPI_CFG_DATA_UNSPECIFIED </p>
<p> </p>
<p>SPI_FAST_CODE_ROM </p>
<p> </p>
<p>ROM.RAM_UNSPECIFIED </p>
<p> </p>
<p> </p>
<p> </p>
<p>730 </p>
<p> </p>
<p>6312 </p>
<p> </p>
<p>100 </p>
<p> </p>
<p>212 </p>
<p> </p>
<p>               1108 </p>
<p> </p>
<p>                20 </p>
<p>2. </p>
<p>RAM </p>
<p>RAM_UNSPECIFIED </p>
<p>NO_INIT_RAM_1BIT </p>
<p>NO_INIT_RAM_8BIT </p>
<p>NO_INIT_RAM_16BIT </p>
<p>NO_INIT_RAM_UNSPECIFIED </p>
<p>SPI_CFG_RAM_UNSPECIFIED </p>
<p>20 </p>
<p> </p>
<p>2 </p>
<p> </p>
<p>0 </p>
<p> </p>
<p>6 </p>
<p> </p>
<p>103 </p>
<p> </p>
<p>0 </p>
<p> </p>
<p> </p>
<p>The details of memory usage for the typical configuration, with DET </p>
<p>enabled and all other configurations as provided in13.2.2.1 <i>Configuration </i></p>
<p><i>Example </i>are provided in this section. </p>
<p> </p>
<p><b>Table 13-4 </b></p>
<p><b>ROM/RAM Details with DET </b></p>
<p> </p>
<p><b>Sl. No. </b></p>
<p><b>ROM/RAM </b></p>
<p><b>Segment Name </b></p>
<p><b>Size in bytes for </b></p>
<p><b>701318 </b></p>
<p>1. </p>
<p>ROM </p>
<p>SPI_PUBLIC_CODE_ROM </p>
<p>SPI_PRIVATE_CODE_ROM </p>
<p>CONST_ROM_UNSPECIFIED  </p>
<p>SPI_CFG_DATA<b>_</b>UNSPECIFIED </p>
<p> </p>
<p>SPI_FAST_CODE_ROM </p>
<p> </p>
<p>ROM.RAM_UNSPECIFIED </p>
<p> </p>
<p>1672 </p>
<p> </p>
<p>6494 </p>
<p> </p>
<p>100 </p>
<p> </p>
<p>212 </p>
<p> </p>
<p>1108 </p>
<p> </p>
<p>20 </p>
<h1 style="page-break-before:always; "></h1>
<p><b>Chapter 13  </b></p>
<p><b>     P1M Specific Information </b></p>
<p> </p>
<p>86 </p>
<p> </p>
<p>2. </p>
<p>RAM </p>
<p>RAM_UNSPECIFIED </p>
<p>NO_INIT_RAM_1BIT </p>
<p>NO_INIT_RAM_8BIT </p>
<p>NO_INIT_RAM_16BIT </p>
<p>NO_INIT_RAM_UNSPECIFIED </p>
<p>SPI_CFG_RAM_UNSPECIFIED </p>
<p>20 </p>
<p> </p>
<p>2 </p>
<p>      </p>
<p>0 </p>
<p> </p>
<p>6 </p>
<p> </p>
<p>103 </p>
<p> </p>
<p>0 </p>
<p><b>13.3.2 </b></p>
<p><b>Stack Depth </b></p>
<p> </p>
<p>The worst-case stack depth for Driver Component is 88 bytes for the </p>
<p>typical configuration provided in Section 13.2.2.1 <i>Configuration Example</i>. </p>
<p> </p>
<p> </p>
<p><b>13.3.3 </b></p>
<p><b>Throughput Details </b></p>
<p> </p>
<p>The throughput details of the APIs for the configuration mentioned in </p>
<p>the  Section13.2.2.1 <i>Configuration Example</i>.  The  clock  frequency  used  to </p>
<p>measure the throughput is 160 MHz for all APIs. </p>
<p> </p>
<p><b>Table 13-5 </b></p>
<p><b>Throughput Details Of The APIs </b></p>
<p> </p>
<p> </p>
<p><b>Sl. No.</b></p>
<p> </p>
<p> </p>
<p><b>API Name</b></p>
<p> </p>
<p><b>Throughput in </b></p>
<p><b>microseconds </b></p>
<p><b>for 701318</b></p>
<p> </p>
<p> </p>
<p><b>Remarks</b></p>
<p> </p>
<p>1. </p>
<p>Spi_Init </p>
<p>4.000 </p>
<p> </p>
<p> </p>
<p>- </p>
<p>2. </p>
<p>Spi_DeInit </p>
<p>4.550 </p>
<p>- </p>
<p>3. </p>
<p>Spi_WriteIB </p>
<p>0.612 </p>
<p> </p>
<p>- </p>
<p>- </p>
<p>4. </p>
<p>Spi_AsyncTransmit </p>
<p>11.250 </p>
<p>- </p>
<p>5. </p>
<p>Spi_ReadIB </p>
<p>0.437 </p>
<p>- </p>
<p>- </p>
<p>6. </p>
<p>Spi_SetupEB </p>
<p>0.287 </p>
<p>- </p>
<p>7. </p>
<p>Spi_GetStatus </p>
<p>0.870 </p>
<p>- </p>
<p>8. </p>
<p>Spi_GetJobResult </p>
<p>0.100 </p>
<p>- </p>
<p>9. </p>
<p>Spi_GetSequenceResult </p>
<p>0.100 </p>
<p>- </p>
<p>10. </p>
<p>Spi_GetVersionInfo </p>
<p>0.150 </p>
<p>- </p>
<p>11. </p>
<p>Spi_SyncTransmit </p>
<p>13.950 </p>
<p>- </p>
<p>12. </p>
<p>Spi_GetHWUnitStatus </p>
<p>0.362 </p>
<p>- </p>
<p>13. </p>
<p>Spi_Cancel </p>
<p>0.662 </p>
<p>- </p>
<p>14. </p>
<p>Spi_SetAsyncMode </p>
<p>0.262 </p>
<p>SPI_INTERRUPT</p>
<p>_ MODE </p>
<p>15. </p>
<p>Spi_SetAsyncMode </p>
<p>         2.862 </p>
<p> </p>
<p>SPI_POLLING_</p>
<p>MODE </p>
<p>16. </p>
<p>Spi_MainFunction_Handling </p>
<p>1.462 </p>
<p>- </p>
<p>17. </p>
<p>Spi_SelfTest </p>
<p>        2227.500 </p>
<p> </p>
<p>SPI_LOOP_BACK</p>
<p>_SELF_TEST </p>
<p>18.  </p>
<p>Spi_SelfTest </p>
<p>57.275 </p>
<p>SPI_ECC_SELF_T</p>
<p>EST </p>
<p>19. </p>
<p>Spi_GetErrorInfo </p>
<p>0.225 </p>
<p>- </p>
<p> </p>
<p> </p>
<h1 style="page-break-before:always; "></h1>
<p><b>  Release Details </b></p>
<p><b> </b></p>
<p><b>      Chapter 14           </b></p>
<p> </p>
<p> </p>
<p>87 </p>
<p><b>Chapter 14 </b></p>
<p><b>Release Details </b></p>
<p> </p>
<p><b>SPI Driver Software </b></p>
<p> </p>
<p>Version: 1.6.6 </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<h1 style="page-break-before:always; "></h1>
<p><b>Chapter 14                                                                                                                    Release Details </b></p>
<p> </p>
<p>88 </p>
<p> </p>
<h1 style="page-break-before:always; "></h1>
<p> </p>
<p>89 </p>
<p><b>Revision History </b></p>
<p> </p>
<p><b>Sl.No.</b></p>
<p> </p>
<p><b>Description</b></p>
<p> </p>
<p><b>Version</b></p>
<p> </p>
<p><b>Date</b></p>
<p> </p>
<p>1.</p>
<p> </p>
<p>Initial Version</p>
<p> </p>
<p>1.0.0</p>
<p> </p>
<p>25-Oct-2013</p>
<p> </p>
<p>2. </p>
<p>Following changes are made. </p>
<p>1. </p>
<p>Chapter 2 is updated for referenced documents version. </p>
<p>2. </p>
<p>Section 13.1.1 is updated for adding the device names.  </p>
<p>3. </p>
<p>Section 13.2 is updated for assembler and linker details.  </p>
<p>4. </p>
<p>Section 13.3 is updated for naming convention change of </p>
<p>parameter definition files.  </p>
<p>5. </p>
<p>Chapter 14 is updated for SPI driver component version </p>
<p>information. </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p>1.0.1 </p>
<p>28-Jan-2014 </p>
<p>3. </p>
<p>Following changes are made. </p>
<p>1. </p>
<p>In section 13.4.3,Throughput Details are updated. </p>
<p>2. </p>
<p>In Section 13.4.1,ROM/RAM Usage are updated. </p>
<p>3. </p>
<p>In Section13.3.1,Sample Application Structure API details are </p>
<p>updated. </p>
<p>4. </p>
<p>In chapter 5, Architecture Details Spi API  are updated. </p>
<p>5. </p>
<p>In chapter 14, Release Details Spi software version is updated. </p>
<p> </p>
<p> </p>
<p> 1.0.2 </p>
<p> </p>
<p> </p>
<p> </p>
<p>02-May-2014 </p>
<p>4. </p>
<p>Following changes are made. </p>
<p>1.Unwanted Device names are removed. </p>
<p>2.In page no 47, header is updated. </p>
<p> </p>
<p>1.0.3 </p>
<p>12-May-2014 </p>
<p>5. </p>
<p>Following changes are made. </p>
<p>1. Chapter 4 is updated for CS logs and note is added </p>
<p>regarding general limitation of the serial controllers. </p>
<p>2. Note is added regarding the usage of the parameter </p>
<p>‘SpiCsHoldTiming’ for synchronous transmission. </p>
<p>3. Name of Table 4-4 and 4-5 is updated. </p>
<p>4. Table 4-3, Table 4-4 and Table 4-5 are updated for </p>
<p>Static configuration. </p>
<p>5. Section 4.1, description of parameter ‘SpiTimeOut’ is updated. </p>
<p>6. In Section 4.1 Note is added regarding extended data size </p>
<p>supported by FIFO. </p>
<p>7. Sections 13.4, ROM/RAM and Throughput Details are </p>
<p>updated. </p>
<p>8. Section 4.6 Deviation list is updated. </p>
<p>9. Section 13.2.1, 13.2.2 and 13.2.3 are updated for compiler, linker </p>
<p>and assembler details. </p>
<p>10. Chapter 14, Release Details are updated. </p>
<p>11. Section 11.2 is updated to delete error code </p>
<p>‘SPI_E_SELF_TEST_FAILURE’ for Self-Test and  </p>
<p>SPI_E_READBACK_FAILURE</p>
<p> for readback. </p>
<p>12. Chapter 12 Memory Organization is updated to correct section </p>
<p>name SPI_START_SEC_CODE_FAST to </p>
<p>SPI_FAST_CODE_ROM. </p>
<p>13. Section 13 is updated for device names and  to add Parameter </p>
<p>Definition files section. </p>
<p>14. Chapter 8 is update to include rh850_types.h file </p>
<p>15. In chapter 4 note is added regarding the DMA access for local RAM </p>
<p>area. </p>
<p> </p>
<p>1.0.4 </p>
<p>27-Oct-2014 </p>
<h1 style="page-break-before:always; "></h1>
<p> </p>
<p>90 </p>
<p><b>Sl.No.</b></p>
<p> </p>
<p><b>Description</b></p>
<p> </p>
<p><b>Version</b></p>
<p> </p>
<p><b>Date</b></p>
<p> </p>
<p>6. </p>
<p>Following changes are made. </p>
<p> </p>
<p>1. Section 4.1 is updated to correct the notes and spell checks. </p>
<p>2. Revision history points are corrected  </p>
<p>1.0.5 </p>
<p>19-Nov-2014 </p>
<p>7. </p>
<p>Following changes are made: </p>
<p> </p>
<p>1.Updated Chapter 2 ‘Reference Documents’ to correct the name and </p>
<p>version of device manual. </p>
<p>2.Information regarding Interrupt vector table has been provided in </p>
<p>section 4.1 ‘General’. </p>
<p>3.In Chapter 13, ’P1M Specific Information’ P1M 4.0.3 supported </p>
<p>devices are updated. </p>
<p>4.Table 13-1 PDF information updated for P1M 4.0.3 supported </p>
<p>devices.  </p>
<p>5.Section 13.1.1 has been updated to include the translation header file </p>
<p>for all P1M 4.0.3 supporting devices. </p>
<p>6.Updated section 13.3.1 ‘Sample Application Structure’ to add all the </p>
<p>supported devices for P1M 4.0.3. </p>
<p>7.Updated section 13.3.2 ‘Building the Sample Application’ to add </p>
<p>configuration details for the device 701310. </p>
<p>8.Updated section 13.4  ‘Memory and Throughput’ for the device </p>
<p>R7F701310. </p>
<p>9.Updated chapter 14 ‘Release Details’ to correct the SPI driver </p>
<p>version. </p>
<p>10.Removed section ‘Compiler, Linker and Assembler’ from chapter 13. </p>
<p>11.Updated table 6.1 in Chapter 6 ‘Registers Details’. </p>
<p>1.0.6 </p>
<p>29-April-2015 </p>
<p>8. </p>
<p>As per P1x V4.00.05 release following changes are made: </p>
<p> </p>
<p>1. </p>
<p>Section 4.1 General forethoughts are updated. </p>
<p>2. </p>
<p>Section 4.3 User mode/ supervisor mode is updated as per </p>
<p>JIRA#ARDAAAE-1426 to add ISR related information. </p>
<p>3. </p>
<p>Section 4.6 Deviation list is updated for the memory size </p>
<p>measurement mismatches. </p>
<p>4. </p>
<p>Section 6 Register details are updated for new added APIs </p>
<p>Spi_SelfTest and Spi_GetErrorInfo. </p>
<p>5. </p>
<p>Section 10.3 Function definitions is updated for new added APIs </p>
<p>Spi_SelfTest and Spi_GetErrorInfo. </p>
<p>6. </p>
<p>Section 11.2 Component production errors </p>
<p>SPI_E_INT_INCONSISTENT, </p>
<p>SPI_E_ECC_SELFTEST_FAILURE, </p>
<p>SPI_E_LOOPBACK_SELFTEST_FAILURE and </p>
<p>SPI_E_REG_WRITE_VERIFY are added. </p>
<p>7. </p>
<p>Section 13.3 Memory and Throughput details are updated. </p>
<p>8. </p>
<p>Section 14 S/W driver version is updated. </p>
<p>9. </p>
<p>Chapter 11, As per JIRA#ARDAAAE-1419, new development </p>
<p>error SPI_E_MAINFUNCTION_HANDLING_INVALIDMODE is </p>
<p>added for Spi_MainFunction_Handling API. </p>
<p>10.  Section 4.3, as per JIRA#ARDAAAE-1335, “-“ is marked for </p>
<p>Spi_AsyncTransmit API for interrupt mode in user mode. </p>
<p>11.  In section 4.1 As per JIRA#ARDAAAE-1452, Information for 16 bit </p>
<p>datawidth selection is added when DMA is configured. </p>
<p>12.  Table – 6.1 Register details, 8bit and 32bit settings when DMA is </p>
<p>configured are removed. </p>
<p>13.  Table 4-5 </p>
<p>User Mode and Supervisory Mode</p>
<p> is updated. </p>
<p>1.0.7 </p>
<p>29-Jan-2016 </p>
<h1 style="page-break-before:always; "></h1>
<p> </p>
<p>91 </p>
<p><b>Sl.No.</b></p>
<p> </p>
<p><b>Description</b></p>
<p> </p>
<p><b>Version</b></p>
<p> </p>
<p><b>Date</b></p>
<p> </p>
<p>9. </p>
<p>Following changes are made: </p>
<p> </p>
<p>1. </p>
<p>Section 4.1 is updated for adding a note when CsIdleEnforcement </p>
<p>is configured as False as per the JIRA ticket #ARDAAAE-1549. </p>
<p>2. </p>
<p>Section 4.1 is updated for adding a note about the usage of HW </p>
<p>registers. </p>
<p>3. </p>
<p>Section 13.4.1 is updated for removing memory section </p>
<p>SPI_CFG_DBTOC_UNSPECIFIED as part of ticket ARDAAAE-</p>
<p>1672. </p>
<p>4. </p>
<p>Software patch version is updated in Chapter4. </p>
<p>1.0.8 </p>
<p>07-Apr-2016 </p>
<p>10. </p>
<p>Following changes are made: </p>
<p> </p>
<p>1. </p>
<p>Software patch version is updated in Chapter 14. </p>
<p>2. </p>
<p>Section 4.1 is updated for adding the notes as part of requirement </p>
<p>analysis. </p>
<p>3. </p>
<p>Section 4.3, User mode and Supervisor mode details are updated </p>
<p>for Spi_SetAsyncMode. </p>
<p>4. </p>
<p>Tables, figures links and numbering is corrected. </p>
<p>5. </p>
<p>Stub header files heading is updated and missing header files are </p>
<p>added. </p>
<p>6. </p>
<p> Section 13.3.1, sample application file structure is updated and </p>
<p>Section 13.3.2, Building sample application is updated. </p>
<p>7. </p>
<p>Updated Table 6-1 to rename global variable </p>
<p>‘Spi_GusDataAccess’ as ‘Spi_GusSynDataAccess’ or </p>
<p>‘Spi_GusAsynDataAccess’ for synchronous and asynchronous </p>
<p>transmission respectively. </p>
<p>8. </p>
<p>Updated section 13.3.1 Sample Application Structure to add </p>
<p>details about Spi_GetErrorInfo API. </p>
<p>9. </p>
<p>Added Spi_GetErrorInfo API in section 11.1 under Related API(s) </p>
<p>corresponding to the error SPI_E_UNINIT. </p>
<p>10.  Updated 4.1 ‘General’ to add a caution regarding usage of buffers </p>
<p>for transmission/reception during DMA operation. </p>
<p>11.  Updated Chapter 12 to correct the INIT policy of memory sections </p>
<p>from NOINIT to NO_INIT. </p>
<p>12.  Chapter 13.1.3 ISR Function “Interrupt Handler” table is updated </p>
<p>with note. </p>
<p>13.  Updated 4.1 ‘General’ to add the information regarding the </p>
<p>number of buffers to be configured in Direct Access or FIFO </p>
<p>mode when DMA is configured. </p>
<p>14.  Chapter 6, Register access details are updated. </p>
<p>15.  Spi_GetErrorInfo details have been added. Chapter 4, 5 and 7 </p>
<p>are updated for the same.</p>
<p> </p>
<p>16.  Section 4.2 Preconditions and Section 4.5 Data Consistency is </p>
<p>updated for information about critical section protection.</p>
<p> </p>
<p>17.  Chapter 6, Register access details are updated. </p>
<p>18.  Updated Table 4-1 for information regarding user mode and </p>
<p>supervisor mode. </p>
<p>19.  Section 3.1.1 is updated to add the header file Spi_RegWrite.h as </p>
<p>part of implementing the register write functionality as part of </p>
<p>ticket ARDAAAE-1685. </p>
<p>20.  Section 4.3, A note is added regarding the critical section usage. </p>
<p>21.  Spi_RegWrite.h is added to the folder structure in the section </p>
<p>3.1.1. </p>
<p>22.  Chapter 11 is updated for the API details of the DET and DEM </p>
<p>errors. </p>
<p>23.  Updated Section 10.2 to add details regarding </p>
<p>Spi_CommErrorType, Spi_HWErrorsType, Spi_SelfTestType and </p>
<p>Spi_ReturnStatus type definitions. </p>
<p> </p>
<p> </p>
<p> </p>
<p> 1.0.9 </p>
<p>12-Jul-2016 </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<h1 style="page-break-before:always; "></h1>
<p> </p>
<p>92 </p>
<p><b>Sl.No.</b></p>
<p> </p>
<p><b>Description</b></p>
<p> </p>
<p><b>Version</b></p>
<p> </p>
<p><b>Date</b></p>
<p> </p>
<p>11. </p>
<p>Following changes are made: </p>
<p> </p>
<p>1. </p>
<p>Software patch version is updated in Chapter 14. </p>
<p>2. </p>
<p>Chapter 13.3 updated for ROM/RAM Usage,Stack Depth and </p>
<p>Throughput Details. </p>
<p>1.0.10 </p>
<p>28-Oct-2016 </p>
<p>12. </p>
<p>Following changes are made: </p>
<p> </p>
<p>1. </p>
<p>Section 11.2 is updated and 11.3 is added with the hardware </p>
<p>errors description details </p>
<p>2. </p>
<p>Section 10.3 is updated with the detailed description of the </p>
<p>functions  </p>
<p>3. </p>
<p>Section 3.1.1 is updated with the deletion of the redundant </p>
<p>mentioned Driver.h file name </p>
<p>4. </p>
<p>Throughput details, RAM/ROM Usage and stack depth values are </p>
<p>updated in the section 13.3 </p>
<p>5. </p>
<p>Section 4.1 is updated with the SpiTimeOut configuring details. </p>
<p>6. </p>
<p>The unused segment SPI_CFG_DBTOC_UNSPECIFIED details </p>
<p>are removed from the chapter 12. </p>
<p>7. </p>
<p>Abbreviations and Acronyms section is updated  </p>
<p>8. </p>
<p>Chapter 14 is updated with the release details. </p>
<p>9. </p>
<p>R-number is updated </p>
<p>10.  Notice and Company addresses are updated </p>
<p>11.  Copyright information is updated </p>
<p> </p>
<p> </p>
<p> </p>
<p>1.0.11 </p>
<p>21-Feb-2017 </p>
<p>13. </p>
<p>Following changes are made: </p>
<p> </p>
<p>1. </p>
<p>Throughput details, RAM/ROM Usage and stack depth values are </p>
<p>updated in the section 13.3 </p>
<p>2. </p>
<p>Software patch version is updated in Chapter 14. </p>
<p>3. </p>
<p> </p>
<p> </p>
<p>1.0.12 </p>
<p>15-Mar-2017 </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<h1 style="page-break-before:always; "></h1>
<p> </p>
<p>93 </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<h1 style="page-break-before:always; "></h1>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p><b>AUTOSAR MCAL R4.0.3 User's Manual </b></p>
<p><b>SPI Driver Component Ver.1.0.12 </b></p>
<p><b>Embedded User’s Manual </b></p>
<p> </p>
<p>Publication Date: Rev.1.01, March 15, 2017 </p>
<p> </p>
<p>Published by: Renesas Electronics Corporation </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<h1 style="page-break-before:always; "></h1>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p><b>SALES </b></p>
<p><b>OFFICES</b></p>
<p> </p>
<p>http://www.renesas.com</p>
<p> </p>
<p>Refer  to </p>
<p>&quot;http://www.renesas.com/&quot; </p>
<p>for the latest  and detailed </p>
<p>information.</p>
<p> </p>
<p><b>Renesas  Electronics America </b></p>
<p><b>Inc.</b></p>
<p> </p>
<p>2801  Scott  Boulevard Santa  Clara,  CA </p>
<p>95050-2549, U.S.A. </p>
<p>Tel:  </p>
<p>+1-408-588-6000, </p>
<p>Fax: </p>
<p>+1-408-588-6130</p>
<p> </p>
<p><b>Renesas Electronics Canada Limited</b></p>
<p><b> </b></p>
<p>9251 Yonge Street, Suite 8309 Richmond Hill, Ontario Canada L4C 9T3 </p>
<p>Tel: +1-905-237-2004 </p>
<p><b>Renesas Electronics Europe Limited </b></p>
<p>Dukes Meadow, Millboard Road, Bourne End, Buckinghamshire, SL8 5FH, U.K </p>
<p>Tel: +44-1628-585-100, Fax: +44-1628-585-900 </p>
<p><b>Renesas Electronics Europe GmbH </b></p>
<p>Arcadiastrasse 10, 40472 Düsseldorf, Germany </p>
<p>Tel: +49-211-6503-0, Fax: +49-211-6503-1327 </p>
<p><b>Renesas Electronics (China) Co., Ltd. </b></p>
<p>Room 1709, Quantum Plaza, No.27 ZhiChunLu Haidian District, Beijing 100191, P.R.China </p>
<p>Tel: +86-10-8235-1155, Fax: +86-10-8235-7679 </p>
<p><b>Renesas Electronics (Shanghai) Co., Ltd. </b></p>
<p>Unit 301, Tower A, Central Towers, 555 Langao Road, Putuo District, Shanghai, P. R. China 200333 </p>
<p>Tel: +86-21-2226-0888, Fax: +86-21-2226-0999 </p>
<p><b>Renesas Electronics Hong Kong Limited</b></p>
<p><b> </b></p>
<p>Unit 1601-1611, 16/F., Tower 2, Grand Century Place, 193 Prince Edward Road West, Mongkok, Kowloon, Hong Kong </p>
<p>Tel: +852-2265-6688, Fax: +852 2886-9022 </p>
<p><b>Renesas Electronics Taiwan Co., Ltd. </b></p>
<p>13F, No. 363, Fu Shing North Road, Taipei 10543, Taiwan </p>
<p>Tel: +886-2-8175-9600, Fax: +886 2-8175-9670 </p>
<p><b>Renesas Electronics Singapore Pte. Ltd. </b></p>
<p>80 Bendemeer Road, Unit #06-02 Hyflux Innovation Centre, Singapore 339949 </p>
<p>Tel: +65-6213-0200, Fax: +65-6213-0300 </p>
<p><b>Renesas Electronics Malaysia Sdn.Bhd. </b></p>
<p>Unit 1207, Block B, Menara Amcorp, Amcorp Trade Centre, No. 18, Jln Persiaran Barat, 46050 Petaling Jaya, Selangor Darul Ehsan, Malaysia </p>
<p>Tel: +60-3-7955-9390, Fax: +60-3-7955-9510 </p>
<p><b>Renesas Electronics India Pvt. Ltd. </b></p>
<p>No.777C, 100 Feet Road, HAL II Stage, Indiranagar, Bangalore, India </p>
<p>Tel: +91-80-67208700, Fax: +91-80-67208777 </p>
<p><b>Renesas Electronics Korea Co., Ltd. </b></p>
<p>12F., 234 Teheran-ro, Gangnam-Gu, Seoul, 135-080, Korea </p>
<p>Tel: +82-2-558-3737, Fax: +82-2-558-5141 </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p>  © 2006-2017  Renesas Electronics Corporation. All rights reserved. </p>
<p>Colophon 1.0 </p>
<h1 style="page-break-before:always; "></h1>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p>AUTOSAR MCAL R4.0.3 </p>
<p> </p>
<p>User’s Manual </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p>R20UT3726EJ0101 </p>
</body>
</html>
{% endraw %}