---
layout: default
title: Safety_Manual_CBD1700369_D04
nav_order: 68
parent: Component Implementation
---
{% raw %}
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
     "http://www.w3.org/TR/html4/transitional.dtd">
<html>
<head>

  <meta http-equiv="content-type" content="text/html; charset=utf-8"/>
  <title></title>
  <meta name="generator" content="LibreOffice 24.2.7.2 (Linux)"/>
  <meta name="created" content="00:00:00"/>
  <meta name="changed" content="00:00:00"/>
</head>
<body>
<h1></h1>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p><b>Safety Manual </b></p>
<p>CBD1700369 D04 </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p>ID </p>
<p>SPECDOC36099 </p>
<p>Status </p>
<p>Not Released </p>
<p>Generated on </p>
<p>2018-01-30 06:55 </p>
<h1 style="page-break-before:always; "></h1>
<p>Safety Manual CBD1700369 D04</p>
<p> </p>
<p></p>
<p>2018 Vector Informatik GmbH </p>
<p>1.0 </p>
<p>2 / 126 </p>
<p>Contents </p>
<p><b>Safety Manual ..................................................................................................................... 12</b></p>
<p><b> </b></p>
<p><b>1 General Part .................................................................................................................... 13</b></p>
<p><b> </b></p>
<p>1.1 Introduction................................................................................................................ 13</p>
<p> </p>
<p>1.1.1 Purpose ............................................................................................................. 13</p>
<p> </p>
<p>1.1.2 Scope ................................................................................................................ 13</p>
<p> </p>
<p>1.1.3 Definitions .......................................................................................................... 13</p>
<p> </p>
<p>1.1.4 References ........................................................................................................ 14</p>
<p> </p>
<p>1.1.5 Overview ............................................................................................................ 14</p>
<p> </p>
<p>1.2 Concept ..................................................................................................................... 14</p>
<p> </p>
<p>1.2.1 Safety Concept .................................................................................................. 15</p>
<p> </p>
<p>1.2.1.1 Technical Solution ....................................................................................... 15</p>
<p> </p>
<p>1.2.1.2 Tool Confidence .......................................................................................... 16</p>
<p> </p>
<p>1.2.2 Technical Safety Requirements .......................................................................... 16</p>
<p> </p>
<p>1.2.2.1 Initialization................................................................................................. 17</p>
<p> </p>
<p>1.2.2.2 Self-test ...................................................................................................... 17</p>
<p> </p>
<p>1.2.2.3 Reset of ECU ............................................................................................. 17</p>
<p> </p>
<p>1.2.2.4 Data Consistency ....................................................................................... 17</p>
<p> </p>
<p>1.2.2.5 Non-volatile Memory ................................................................................... 18</p>
<p> </p>
<p>1.2.2.6 Hard Real-time Scheduling ......................................................................... 18</p>
<p> </p>
<p>1.2.2.7 Memory Protection ..................................................................................... 19</p>
<p> </p>
<p>1.2.2.8 Communication .......................................................................................... 19</p>
<p> </p>
<p>1.2.2.8.1 Inter ECU Communication ................................................................... 19</p>
<p> </p>
<p>1.2.2.8.2 Intra ECU Communication ................................................................... 20</p>
<p> </p>
<p>1.2.2.9 Monitoring of Software ................................................................................ 20</p>
<p> </p>
<p>1.2.2.10 Operating Modes ...................................................................................... 21</p>
<p> </p>
<p>1.2.2.11 Peripheral In- and output .......................................................................... 21</p>
<p> </p>
<h1 style="page-break-before:always; "></h1>
<p>Safety Manual CBD1700369 D04</p>
<p> </p>
<p></p>
<p>2018 Vector Informatik GmbH </p>
<p>1.0 </p>
<p>3 / 126 </p>
<p>1.2.3 Environment ....................................................................................................... 22</p>
<p> </p>
<p>1.2.3.1 Safety Concept ........................................................................................... 22</p>
<p> </p>
<p>1.2.3.2 Use of MICROSAR Safe Components ........................................................ 24</p>
<p> </p>
<p>1.2.3.3 Partitioning ................................................................................................. 25</p>
<p> </p>
<p>1.2.3.4 Resources .................................................................................................. 26</p>
<p> </p>
<p>1.2.4 Process .............................................................................................................. 27</p>
<p> </p>
<p><b>2 Safety Manual FrTrans .................................................................................................... 30</b></p>
<p><b> </b></p>
<p>2.1 Safety features .......................................................................................................... 30</p>
<p> </p>
<p>2.2 Configuration constraints ........................................................................................... 30</p>
<p> </p>
<p>2.3 Additional verification measures ................................................................................ 30</p>
<p> </p>
<p>2.4 Dependencies to other components .......................................................................... 30</p>
<p> </p>
<p>2.4.1 Safety features required from other components ................................................ 30</p>
<p> </p>
<p>2.4.2 Coexistence with other components ................................................................... 30</p>
<p> </p>
<p>2.5 Dependencies to hardware ........................................................................................ 30</p>
<p> </p>
<p><b>3 Safety Manual BswM ....................................................................................................... 31</b></p>
<p><b> </b></p>
<p>3.1 Safety features .......................................................................................................... 31</p>
<p> </p>
<p>3.2 Configuration constraints ........................................................................................... 31</p>
<p> </p>
<p>3.3 Additional Verification measures ................................................................................ 31</p>
<p> </p>
<p>3.4 Safety features required from other components ....................................................... 31</p>
<p> </p>
<p>3.5 Dependencies to hardware ........................................................................................ 31</p>
<p> </p>
<p><b>4 Safety Manual Com ......................................................................................................... 32</b></p>
<p><b> </b></p>
<p>4.1 Safety features .......................................................................................................... 32</p>
<p> </p>
<p>4.2 Configuration constraints ........................................................................................... 32</p>
<p> </p>
<p>4.3 Additional verification measures ................................................................................ 32</p>
<p> </p>
<p>4.4 Safety features required from other components ....................................................... 33</p>
<p> </p>
<p>4.5 Dependencies to hardware ........................................................................................ 33</p>
<p> </p>
<p><b>5 Safety Manual ComM ...................................................................................................... 34</b></p>
<p><b> </b></p>
<p>5.1 Safety features .......................................................................................................... 34</p>
<p> </p>
<h1 style="page-break-before:always; "></h1>
<p>Safety Manual CBD1700369 D04</p>
<p> </p>
<p></p>
<p>2018 Vector Informatik GmbH </p>
<p>1.0 </p>
<p>4 / 126 </p>
<p>5.2 Configuration constraints ........................................................................................... 34</p>
<p> </p>
<p>5.3 Additional Verification measures ................................................................................ 34</p>
<p> </p>
<p>5.4 Safety features required from other components ....................................................... 35</p>
<p> </p>
<p>5.5 Dependencies to hardware ........................................................................................ 35</p>
<p> </p>
<p><b>6 Safety Manual Crc ........................................................................................................... 36</b></p>
<p><b> </b></p>
<p>6.1 Safety features .......................................................................................................... 36</p>
<p> </p>
<p>6.2 Configuration constraints ........................................................................................... 36</p>
<p> </p>
<p>6.3 Additional verification measures ................................................................................ 36</p>
<p> </p>
<p>6.4 Dependencies to other components .......................................................................... 36</p>
<p> </p>
<p>6.4.1 Safety features required from other components ................................................ 36</p>
<p> </p>
<p>6.4.2 Coexistence with other components ................................................................... 36</p>
<p> </p>
<p>6.5 Dependencies to hardware ........................................................................................ 36</p>
<p> </p>
<p><b>7 Safety Manual CryIf ......................................................................................................... 37</b></p>
<p><b> </b></p>
<p>7.1 Safety features .......................................................................................................... 37</p>
<p> </p>
<p>7.2 Configuration constraints ........................................................................................... 37</p>
<p> </p>
<p>7.3 Additional verification measures ................................................................................ 37</p>
<p> </p>
<p>7.4 Safety features required from other components ....................................................... 37</p>
<p> </p>
<p>7.5 Dependencies to hardware ........................................................................................ 37</p>
<p> </p>
<p><b>8 Safety Manual Cry ........................................................................................................... 38</b></p>
<p><b> </b></p>
<p>8.1 Safety Features ......................................................................................................... 38</p>
<p> </p>
<p>8.2 Configuration constraints ........................................................................................... 38</p>
<p> </p>
<p>8.3 Additional verification measures ................................................................................ 38</p>
<p> </p>
<p>8.4 Safety features required from other components ....................................................... 38</p>
<p> </p>
<p>8.5 Dependencies to hardware ........................................................................................ 39</p>
<p> </p>
<p><b>9 Safety Manual Cry (RH850 ICU-S) .................................................................................. 40</b></p>
<p><b> </b></p>
<p>9.1 Safety Features ......................................................................................................... 40</p>
<p> </p>
<p>9.2 Configuration constraints ........................................................................................... 40</p>
<p> </p>
<p>9.3 Additional verification measures ................................................................................ 40</p>
<p> </p>
<h1 style="page-break-before:always; "></h1>
<p>Safety Manual CBD1700369 D04</p>
<p> </p>
<p></p>
<p>2018 Vector Informatik GmbH </p>
<p>1.0 </p>
<p>5 / 126 </p>
<p>9.4 Safety features required from other components ....................................................... 40</p>
<p> </p>
<p>9.5 Dependencies to hardware ........................................................................................ 40</p>
<p> </p>
<p><b>10 Safety Manual Csm ....................................................................................................... 41</b></p>
<p><b> </b></p>
<p>10.1 Safety features ........................................................................................................ 41</p>
<p> </p>
<p>10.2 Configuration constraints ......................................................................................... 41</p>
<p> </p>
<p>10.3 Additional verification measures .............................................................................. 41</p>
<p> </p>
<p>10.4 Safety features required from other components ..................................................... 41</p>
<p> </p>
<p>10.5 Dependencies to hardware ...................................................................................... 41</p>
<p> </p>
<p><b>11 Safety Manual Dcm ....................................................................................................... 42</b></p>
<p><b> </b></p>
<p>11.1 Safety features......................................................................................................... 42</p>
<p> </p>
<p>11.2 Configuration constraints ......................................................................................... 42</p>
<p> </p>
<p>11.3 Additional verification measures ............................................................................... 43</p>
<p> </p>
<p>11.4 Safety features required from other components ..................................................... 44</p>
<p> </p>
<p>11.5 Dependencies to hardware ...................................................................................... 44</p>
<p> </p>
<p><b>12 Safety Manual Det ......................................................................................................... 45</b></p>
<p><b> </b></p>
<p>12.1 Safety features ........................................................................................................ 45</p>
<p> </p>
<p>12.2 Configuration constraints ......................................................................................... 45</p>
<p> </p>
<p>12.3 Additional Verification measures .............................................................................. 45</p>
<p> </p>
<p>12.4 Safety features required from other components ..................................................... 45</p>
<p> </p>
<p>12.5 Dependencies to hardware ...................................................................................... 45</p>
<p> </p>
<p><b>13 Safety Manual E2E ........................................................................................................ 46</b></p>
<p><b> </b></p>
<p>13.1 Safety features ........................................................................................................ 46</p>
<p> </p>
<p>13.2 Configuration constraints ......................................................................................... 46</p>
<p> </p>
<p>13.3 Additional verification measures .............................................................................. 46</p>
<p> </p>
<p>13.4 Dependencies to other components ........................................................................ 47</p>
<p> </p>
<p>13.4.1 Safety features required from other components .............................................. 47</p>
<p> </p>
<p>13.4.2 Coexistence with other compoents ................................................................... 47</p>
<p> </p>
<p>13.5 Dependencies to hardware ...................................................................................... 47</p>
<p> </p>
<h1 style="page-break-before:always; "></h1>
<p>Safety Manual CBD1700369 D04</p>
<p> </p>
<p></p>
<p>2018 Vector Informatik GmbH </p>
<p>1.0 </p>
<p>6 / 126 </p>
<p><b>14 Safety Manual E2E Protection Wrapper ...................................................................... 48</b></p>
<p><b> </b></p>
<p>14.1 Safety features ........................................................................................................ 48</p>
<p> </p>
<p>14.2 Configuration constraints ......................................................................................... 48</p>
<p> </p>
<p>14.3 Additional verification measures .............................................................................. 49</p>
<p> </p>
<p>14.3.1 Additional verification of E2EConfig file ............................................................ 49</p>
<p> </p>
<p>14.3.2 Additional verification of generator execution ................................................... 53</p>
<p> </p>
<p>14.3.3 Additional verification for application ................................................................ 53</p>
<p> </p>
<p>14.4 Dependencies to other components ........................................................................ 54</p>
<p> </p>
<p>14.4.1 Safety features required from other components .............................................. 54</p>
<p> </p>
<p>14.4.2 Coexistence with other components ................................................................. 55</p>
<p> </p>
<p>14.5 Dependencies to hardware ...................................................................................... 55</p>
<p> </p>
<p><b>15 Safety Manual EcuM ..................................................................................................... 56</b></p>
<p><b> </b></p>
<p>15.1 Safety features ........................................................................................................ 56</p>
<p> </p>
<p>15.2 Configuration constraints ......................................................................................... 58</p>
<p> </p>
<p>15.3 Additional verification measures .............................................................................. 58</p>
<p> </p>
<p>15.4 Safety features required from other components ..................................................... 59</p>
<p> </p>
<p>15.5 Dependencies to hardware ...................................................................................... 60</p>
<p> </p>
<p><b>16 Safety Manual Fee ......................................................................................................... 61</b></p>
<p><b> </b></p>
<p>16.1 Safety features ........................................................................................................ 61</p>
<p> </p>
<p>16.2 Configuration constraints ......................................................................................... 61</p>
<p> </p>
<p>16.3 Additional Verification measures .............................................................................. 61</p>
<p> </p>
<p>16.4 Safety features required from other components ..................................................... 61</p>
<p> </p>
<p>16.5 Dependencies to hardware ...................................................................................... 61</p>
<p> </p>
<p><b>17 Safety Manual Fr ........................................................................................................... 62</b></p>
<p><b> </b></p>
<p>17.1 Safety features ........................................................................................................ 62</p>
<p> </p>
<p>17.2 Configuration constraints ......................................................................................... 62</p>
<p> </p>
<p>17.3 Additional verification measures .............................................................................. 62</p>
<p> </p>
<p>17.4 Safety features required from other components ..................................................... 62</p>
<p> </p>
<h1 style="page-break-before:always; "></h1>
<p>Safety Manual CBD1700369 D04</p>
<p> </p>
<p></p>
<p>2018 Vector Informatik GmbH </p>
<p>1.0 </p>
<p>7 / 126 </p>
<p>17.5 Dependencies to hardware ...................................................................................... 62</p>
<p> </p>
<p><b>1 Safety Manual Fr (V85x) .................................................................................................. 63</b></p>
<p><b> </b></p>
<p>1.1 Safety features .......................................................................................................... 63</p>
<p> </p>
<p>1.2 Configuration constraints ........................................................................................... 63</p>
<p> </p>
<p>1.3 Additional verification measures ................................................................................ 63</p>
<p> </p>
<p>1.4 Safety features required from other components ................................................... 63</p>
<p> </p>
<p>1.5 Dependencies to hardware ................................................................................... 63</p>
<p> </p>
<p><b>19 Safety Manual FrIf ......................................................................................................... 64</b></p>
<p><b> </b></p>
<p>19.1 Safety features ........................................................................................................ 64</p>
<p> </p>
<p>19.2 Configuration constraints ......................................................................................... 64</p>
<p> </p>
<p>19.3 Additional verification measures .............................................................................. 64</p>
<p> </p>
<p>19.4 Safety features required from other components ..................................................... 64</p>
<p> </p>
<p>19.5 Dependencies to hardware ...................................................................................... 64</p>
<p> </p>
<p><b>20 Safety Manual FrSM ...................................................................................................... 65</b></p>
<p><b> </b></p>
<p>20.1 Safety features ........................................................................................................ 65</p>
<p> </p>
<p>20.2 Configuration constraints ......................................................................................... 65</p>
<p> </p>
<p>20.3 Additional verification measures .............................................................................. 65</p>
<p> </p>
<p>20.4 Dependencies to other components ........................................................................ 65</p>
<p> </p>
<p>20.4.1 Safety features required from other components .............................................. 65</p>
<p> </p>
<p>20.4.2 Coexistence with other components ................................................................. 65</p>
<p> </p>
<p>20.5 Dependencies to hardware ...................................................................................... 65</p>
<p> </p>
<p><b>21 Safety Manual FrTrans (TJA1082) ................................................................................ 66</b></p>
<p><b> </b></p>
<p>21.1 Safety features ........................................................................................................ 66</p>
<p> </p>
<p>21.2 Configuration constraints ......................................................................................... 66</p>
<p> </p>
<p>21.3 Additional verification measures .............................................................................. 66</p>
<p> </p>
<p>21.4 Safety features required from other components ..................................................... 66</p>
<p> </p>
<p>21.5 Dependencies to hardware ...................................................................................... 66</p>
<p> </p>
<p><b>22 Safety Manual IpduM .................................................................................................... 67</b></p>
<p><b> </b></p>
<h1 style="page-break-before:always; "></h1>
<p>Safety Manual CBD1700369 D04</p>
<p> </p>
<p></p>
<p>2018 Vector Informatik GmbH </p>
<p>1.0 </p>
<p>8 / 126 </p>
<p>22.1 Safety features ........................................................................................................ 67</p>
<p> </p>
<p>22.2 Configuration constraints ......................................................................................... 67</p>
<p> </p>
<p>22.3 Additional verification measures .............................................................................. 67</p>
<p> </p>
<p>22.4 Safety features required from other components ..................................................... 67</p>
<p> </p>
<p>22.5 Dependencies to hardware ...................................................................................... 67</p>
<p> </p>
<p><b>23 Safety Manual MemIf ..................................................................................................... 68</b></p>
<p><b> </b></p>
<p>23.1 Safety features ........................................................................................................ 68</p>
<p> </p>
<p>23.2 Configuration constraints ......................................................................................... 68</p>
<p> </p>
<p>23.3 Additional verification measures .............................................................................. 68</p>
<p> </p>
<p>23.4 Dependencies to other components ........................................................................ 68</p>
<p> </p>
<p>23.4.1 Safety features required from other components .............................................. 68</p>
<p> </p>
<p>23.4.2 Coexistence with other components ................................................................. 68</p>
<p> </p>
<p>23.5 Dependencies to hardware ...................................................................................... 68</p>
<p> </p>
<p><b>24 Safety Manual NvM ....................................................................................................... 69</b></p>
<p><b> </b></p>
<p>24.1 Safety features ........................................................................................................ 69</p>
<p> </p>
<p>24.2 Configuration constraints ......................................................................................... 70</p>
<p> </p>
<p>24.3 Additional verification measures .............................................................................. 70</p>
<p> </p>
<p>24.4 Safety features required from other components ..................................................... 71</p>
<p> </p>
<p>24.5 Dependencies to hardware ...................................................................................... 71</p>
<p> </p>
<p><b>25 Safety Manual OS .......................................................................................................... 72</b></p>
<p><b> </b></p>
<p>25.1 Safety features ........................................................................................................ 72</p>
<p> </p>
<p>25.2 Configuration constraints ......................................................................................... 77</p>
<p> </p>
<p>25.3 Additional verification measures .............................................................................. 78</p>
<p> </p>
<p>25.3.1 Interrupt handling ............................................................................................. 78</p>
<p> </p>
<p>25.3.2 Memory mapping and linking ........................................................................... 82</p>
<p> </p>
<p>25.3.3 Stack ................................................................................................................ 83</p>
<p> </p>
<p>25.3.4 Multicore systems with mixed diagnostic coverage capability ........................... 83</p>
<p> </p>
<p>25.3.5 Miscellaneous .................................................................................................. 84</p>
<p> </p>
<h1 style="page-break-before:always; "></h1>
<p>Safety Manual CBD1700369 D04</p>
<p> </p>
<p></p>
<p>2018 Vector Informatik GmbH </p>
<p>1.0 </p>
<p>9 / 126 </p>
<p>25.3.6 Tracing ............................................................................................................. 87</p>
<p> </p>
<p>25.4 Safety features required from other components ..................................................... 87</p>
<p> </p>
<p>25.5 Dependencies to hardware ...................................................................................... 87</p>
<p> </p>
<p><b>26 Safety Manual OS (RH850) ........................................................................................... 88</b></p>
<p><b> </b></p>
<p>26.1 Safety features ........................................................................................................ 88</p>
<p> </p>
<p>26.2 Configuration constraints ......................................................................................... 88</p>
<p> </p>
<p>26.3 Additional verification measures .............................................................................. 88</p>
<p> </p>
<p>26.4 Safety features required from other components ..................................................... 89</p>
<p> </p>
<p>26.5 Dependencies to hardware ...................................................................................... 89</p>
<p> </p>
<p><b>27 Safety Manual PduR ...................................................................................................... 90</b></p>
<p><b> </b></p>
<p>27.1 Safety features ........................................................................................................ 90</p>
<p> </p>
<p>27.2 Configuration constraints ......................................................................................... 90</p>
<p> </p>
<p>27.3 Additional verification measures .............................................................................. 90</p>
<p> </p>
<p>27.4 Safety features required from other components ..................................................... 90</p>
<p> </p>
<p>27.5 Dependencies to hardware ...................................................................................... 90</p>
<p> </p>
<p><b>28 Safety Manual Rte ......................................................................................................... 91</b></p>
<p><b> </b></p>
<p>28.1 Safety features ........................................................................................................ 91</p>
<p> </p>
<p>28.2 Configuration constraints ......................................................................................... 93</p>
<p> </p>
<p>28.3 Additional verification measures .............................................................................. 93</p>
<p> </p>
<p>28.3.1 Guided integration testing ................................................................................ 94</p>
<p> </p>
<p>28.3.1.1 BSW configuration .................................................................................... 94</p>
<p> </p>
<p>28.3.1.2 Executable Entity Scheduling ................................................................... 95</p>
<p> </p>
<p>28.3.1.3 SWC Communication ............................................................................... 97</p>
<p> </p>
<p>28.3.1.4 Usage of RTE Headers ............................................................................. 99</p>
<p> </p>
<p>28.3.1.5 Usage of RTE APIs ................................................................................. 100</p>
<p> </p>
<p>28.3.1.6 Configuration of RTE APIs ...................................................................... 101</p>
<p> </p>
<p>28.4 Safety features required from other components ................................................... 103</p>
<p> </p>
<p>28.5 Dependencies to hardware .................................................................................... 104</p>
<p> </p>
<h1 style="page-break-before:always; "></h1>
<p>Safety Manual CBD1700369 D04</p>
<p> </p>
<p></p>
<p>2018 Vector Informatik GmbH </p>
<p>1.0 </p>
<p>10 / 126 </p>
<p><b>29 Safety Manual SecOC ................................................................................................. 105</b></p>
<p><b> </b></p>
<p>29.1 Safety features ...................................................................................................... 105</p>
<p> </p>
<p>29.2 Configuration constraints ....................................................................................... 105</p>
<p> </p>
<p>29.3 Additional verification measures ............................................................................ 105</p>
<p> </p>
<p>29.4 Safety features required from other components ................................................... 105</p>
<p> </p>
<p>29.5 Dependencies to hardware .................................................................................... 105</p>
<p> </p>
<p><b>30 Safety Manual FrTp ..................................................................................................... 106</b></p>
<p><b> </b></p>
<p>30.1 Safety features ...................................................................................................... 106</p>
<p> </p>
<p>30.2 Configuration constraints ....................................................................................... 106</p>
<p> </p>
<p>30.3 Additional verification measures ............................................................................ 106</p>
<p> </p>
<p>30.4 Safety features required from other components ................................................... 106</p>
<p> </p>
<p>30.5 Dependencies to hardware .................................................................................... 106</p>
<p> </p>
<p><b>31 Safety Manual WdgIf ................................................................................................... 107</b></p>
<p><b> </b></p>
<p>31.1 Safety features ...................................................................................................... 107</p>
<p> </p>
<p>31.2 Configuration constraints ....................................................................................... 107</p>
<p> </p>
<p>31.3 Additional verification measures ............................................................................ 107</p>
<p> </p>
<p>31.4 Safety features required from other components .................................................... 111</p>
<p> </p>
<p>31.5 Dependencies to hardware .................................................................................... 112</p>
<p> </p>
<p><b>32 Safety Manual WdgM .................................................................................................. 113</b></p>
<p><b> </b></p>
<p>32.1 Safety features ...................................................................................................... 113</p>
<p> </p>
<p>32.2 Configuration constraints ....................................................................................... 113</p>
<p> </p>
<p>32.3 Additional verification measures ............................................................................ 114</p>
<p> </p>
<p>32.3.1 Additional verification using WdgM Verifier ..................................................... 115</p>
<p> </p>
<p>32.3.2 Additional verification of generator execution ................................................. 118</p>
<p> </p>
<p>32.4 Safety features required from other components ................................................... 121</p>
<p> </p>
<p>32.5 Dependencies to hardware .................................................................................... 121</p>
<p> </p>
<p><b>33 Safety Manual XCP...................................................................................................... 122</b></p>
<p><b> </b></p>
<p>33.1 Safety features ...................................................................................................... 122</p>
<p> </p>
<h1 style="page-break-before:always; "></h1>
<p>Safety Manual CBD1700369 D04</p>
<p> </p>
<p></p>
<p>2018 Vector Informatik GmbH </p>
<p>1.0 </p>
<p>11 / 126 </p>
<p>33.2 Configuration constraints ....................................................................................... 122</p>
<p> </p>
<p>33.3 Additional verification measures ............................................................................ 123</p>
<p> </p>
<p>33.4 Safety features required from other components ................................................... 123</p>
<p> </p>
<p>33.5 Dependencies to hardware .................................................................................... 123</p>
<p> </p>
<p><b>34 Glossary and Abbreviations ....................................................................................... 124</b></p>
<p><b> </b></p>
<p>34.1 Glossary ................................................................................................................ 124</p>
<p> </p>
<p>34.2 Abbreviations ......................................................................................................... 124</p>
<p> </p>
<p><b>35 Contact ........................................................................................................................ 126</b></p>
<p><b> </b></p>
<p><b> </b></p>
<p><b>  </b></p>
<p> </p>
<h1 style="page-break-before:always; "></h1>
<p>Safety Manual CBD1700369 D04</p>
<p> </p>
<p></p>
<p>2018 Vector Informatik GmbH </p>
<p>1.0 </p>
<p>12 / 126 </p>
<p><b>Safety Manual</b></p>
<p><b> </b></p>
<p><b>Version</b></p>
<p><b> </b></p>
<p><b>Date</b></p>
<p><b> </b></p>
<p><b>Author</b></p>
<p><b> </b></p>
<p><b>Remarks</b></p>
<p><b> </b></p>
<p>1.00.00</p>
<p> </p>
<p>2015-11-</p>
<p>13</p>
<p> </p>
<p>Jonas Wolf</p>
<p> </p>
<p>Initial creation</p>
<p> </p>
<p>1.01.00</p>
<p> </p>
<p>2015-12-</p>
<p>18</p>
<p> </p>
<p>Jonas Wolf</p>
<p> </p>
<p>Information about ASIL added.</p>
<p> </p>
<p>1.02.00</p>
<p> </p>
<p>2016-01-</p>
<p>29</p>
<p> </p>
<p>Jonas Wolf</p>
<p> </p>
<p>Improvements in formulation.</p>
<p> </p>
<p>1.03.00</p>
<p> </p>
<p>2016-02-</p>
<p>25</p>
<p> </p>
<p>Jonas Wolf</p>
<p> </p>
<p>Improvements in formulation.</p>
<p> </p>
<p>1.03.01</p>
<p> </p>
<p>2016-03-</p>
<p>30</p>
<p> </p>
<p>Jonas Wolf</p>
<p> </p>
<p>Review findings incorporated.</p>
<p> </p>
<p>1.03.02</p>
<p> </p>
<p>2016-05-</p>
<p>13</p>
<p> </p>
<p>Jonas Wolf</p>
<p> </p>
<p>Added hint on hardware-software integration (SMI-4).</p>
<p> </p>
<p>1.03.03</p>
<p> </p>
<p>2016-07-</p>
<p>20</p>
<p> </p>
<p>Hartmut </p>
<p>Hoerner</p>
<p> </p>
<p>Added SMI related to interrupt handling.</p>
<p> </p>
<p>1.04.00</p>
<p> </p>
<p>2016-09-</p>
<p>02</p>
<p> </p>
<p>Jonas Wolf</p>
<p> </p>
<p>Added TSR-101876 for data consistency.</p>
<p> </p>
<p>1.04.01</p>
<p> </p>
<p>2016-09-</p>
<p>19</p>
<p> </p>
<p>Jonas Wolf</p>
<p> </p>
<p>Clarifications on SMI-100 and SMI-19.</p>
<p> </p>
<p>1.04.02</p>
<p> </p>
<p>2016-12-</p>
<p>02</p>
<p> </p>
<p>Jonas Wolf</p>
<p> </p>
<p>Version of referenced document fixed.</p>
<p> </p>
<p>1.05.00</p>
<p> </p>
<p>2017-02-</p>
<p>24</p>
<p> </p>
<p>Jonas Wolf</p>
<p> </p>
<p>Modified SMI-18: checks need to be enabled per </p>
<p>component as well.</p>
<p> </p>
<p>1.06.00</p>
<p> </p>
<p>2017-05-</p>
<p>05</p>
<p> </p>
<p>Jonas Wolf</p>
<p> </p>
<p>Added SMI-36039: Pointer validity passed to call-outs. </p>
<p>Added SMI-36041: Information on Beta-ESCANs. </p>
<p>Update of versions of referenced documents. </p>
<p>Section 1.1.5 clarified.</p>
<p> </p>
<p>1.07.00</p>
<p> </p>
<p>2017-06-</p>
<p>20</p>
<p> </p>
<p>Jonas Wolf</p>
<p> </p>
<p>Update of TSRs from TSC (update is backward </p>
<p>compatible) </p>
<p>Added info on this version history. </p>
<p>Fixes of typos.</p>
<p> </p>
<p>1.07.01</p>
<p> </p>
<p>2017-08-</p>
<p>18</p>
<p> </p>
<p>Jonas Wolf</p>
<p> </p>
<p>Added information on TCL for MSSV and RTE Analyzer.</p>
<p> </p>
<p> </p>
<h1 style="page-break-before:always; "></h1>
<p>Safety Manual CBD1700369 D04</p>
<p> </p>
<p></p>
<p>2018 Vector Informatik GmbH </p>
<p>1.0 </p>
<p>13 / 126 </p>
<p><b>1 General Part</b></p>
<p><b> </b></p>
<p><b>1.1 Introduction</b></p>
<p><b> </b></p>
<p><b>1.1.1 Purpose</b></p>
<p><b> </b></p>
<p>This document describes the assumptions made by Vector during the development of </p>
<p>MICROSAR Safe as Software Safety Element out of Context (SEooC). This document </p>
<p>provides information on how to integrate MICROSAR Safe into a safety-related project. </p>
<p>This document is intended for the user of MICROSAR Safe. It shall be read by project </p>
<p>managers, safety managers, and engineers to allow proper integration of MICROSAR </p>
<p>Safe. </p>
<p><b>1.1.2 Scope</b></p>
<p><b> </b></p>
<p>This document adds additional information to the components that are marked with an </p>
<p>ASIL in the delivery description provided by Vector. Neither QM Vector components, nor </p>
<p>components by other vendors are in the scope of this document. </p>
<p>Vector assumes that hardware and compiler manuals are correct and complete. </p>
<p>Vector uses the hardware reference manuals and compiler manuals for the development </p>
<p>of MICROSAR Safe. Vector has no means to verify correctness or completeness of the </p>
<p>hardware and compiler manuals. </p>
<p>Example information that may be critical from these manuals is the register assignment by </p>
<p>compiler. This information is used to built up the context that is saved and restored by the </p>
<p>operating system. </p>
<p>The compiler manual from the compiler version specified for the project is considered. The </p>
<p>considered hardware manuals are documented in the Technical Reference of the </p>
<p>hardware-specific component. </p>
<p>A general description of Vector's approach to ISO 26262 is described in [2]. This document </p>
<p>is available on request. </p>
<p><b>1.1.3 Definitions</b></p>
<p><b> </b></p>
<p>The words <i>shall</i>, <i>shall not</i>, <i>should</i>, <i>can </i>in this document are to be interpreted as described </p>
<p>here: </p>
<p> </p>
<p><i>Shall </i>means that the definition is an absolute requirement of the specification. </p>
<p> </p>
<p><i>Shall not </i>means that the definition is an absolute prohibition of the specification. </p>
<p> </p>
<p><i>Should </i>means that there may exist valid reasons in particular circumstances to ignore </p>
<p>a particular definition, but the full implications must be understood and carefully </p>
<p>weighed before choosing a different course. </p>
<p> </p>
<p><i>Can </i>means that a definition is truly optional.  </p>
<h1 style="page-break-before:always; "></h1>
<p>Safety Manual CBD1700369 D04</p>
<p> </p>
<p></p>
<p>2018 Vector Informatik GmbH </p>
<p>1.0 </p>
<p>14 / 126 </p>
<p>Each requirement in this specification has a unique identifier beginning with SMI. This </p>
<p>identifier is semantically the same even for different Safety Manuals provided by Vector. </p>
<p>The user of MICROSAR Safe can deviate from all constraints and requirements in this </p>
<p>Safety Manual in the responsibility of the user of MICROSAR Safe, if equivalent measures </p>
<p>are used. </p>
<p>If a measure is equivalent can be decided in the responsibility of the user of MICROSAR </p>
<p>Safe. </p>
<p><b>1.1.4 References</b></p>
<p><b> </b></p>
<p><b>No.</b></p>
<p><b> </b></p>
<p><b>Source</b></p>
<p><b> </b></p>
<p><b>Title</b></p>
<p><b> </b></p>
<p><b>Version</b></p>
<p><b> </b></p>
<p>[1]</p>
<p> </p>
<p>ISO</p>
<p> </p>
<p>ISO 26262 Road vehicles — Functional safety (all </p>
<p>parts)</p>
<p> </p>
<p>2011/2012</p>
<p> </p>
<p>[2]</p>
<p> </p>
<p>Vector</p>
<p> </p>
<p>ISO 26262 Compliance Document</p>
<p> </p>
<p>1.3.2</p>
<p> </p>
<p>[3]</p>
<p> </p>
<p>Vector</p>
<p> </p>
<p>MICROSAR Safe Product Information</p>
<p> </p>
<p>As provided with the quote</p>
<p> </p>
<p>[4]</p>
<p> </p>
<p>Vector</p>
<p> </p>
<p>MICROSAR Safe Silence Verifier Technical </p>
<p>Reference</p>
<p> </p>
<p>As provided with the </p>
<p>delivery</p>
<p> </p>
<p> </p>
<p><b>1.1.5 Overview</b></p>
<p><b> </b></p>
<p>This document is automatically generated for a delivery. The content of this document </p>
<p>depends on the components (incl. their version) and used hardware (e.g. microcontroller </p>
<p>or external hardware) in the delivery. This document is thus valid only for the delivery from </p>
<p>Vector that it is included in. The version history above only reflects changes in the </p>
<p>component independent part of the Safety Manual. </p>
<p>The structure of this document comprises: </p>
<p>o</p>
<p> </p>
<p>a general section that covers all assumptions and constraints that are always </p>
<p>applicable, and </p>
<p>o</p>
<p> </p>
<p>at least one section for each ASIL component that covers its constraints and </p>
<p>necessary verification steps. The section for a component is identified by its module </p>
<p>abbreviation. </p>
<p>Vector's assumptions on the environment of the MICROSAR Safe components as well as </p>
<p>the integration process are described. </p>
<p>Vector developed MICROSAR Safe as Safety Element out of Context for projects </p>
<p>demanding ASIL D software. All requirements in this document apply independently from </p>
<p>the actual highest ASIL of the project (unless otherwise stated).  </p>
<p><b>1.2 Concept</b></p>
<p><b> </b></p>
<p>MICROSAR Safe comprises a set of components developed according to ISO 26262. </p>
<p>These components can be combined - together with other measures - to build a safe </p>
<p>system according to ISO 26262. </p>
<h1 style="page-break-before:always; "></h1>
<p>Safety Manual CBD1700369 D04</p>
<p> </p>
<p></p>
<p>2018 Vector Informatik GmbH </p>
<p>1.0 </p>
<p>15 / 126 </p>
<p>Please read the Product Information MICROSAR Safe [3] first. </p>
<p><b>1.2.1 Safety Concept</b></p>
<p><b> </b></p>
<p>It is assumed that the user of MICROSAR Safe is responsible for overall system safety. </p>
<p>MICROSAR Safe can provide parts of safety mechanisms to its user. It is also assumed </p>
<p>that the user of MICROSAR Safe verifies the robustness and effectiveness of the safety </p>
<p>mechanisms within its system based on the configuration of MICROSAR Safe. </p>
<p><b>1.2.1.1 Technical Solution </b></p>
<p>Possible hardware faults (transient or permanent) are detected and handled by the </p>
<p>application (user of MICROSAR Safe) according to the required ASIL necessary for the </p>
<p>project. This also implies protection against Single Event Upsets (SEUs) in volatile and </p>
<p>non-volatile memory, as well as faults in registers and processing logic. </p>
<p>The hardware manual is assumed to be complete and correct. </p>
<p>MICROSAR Safe does not implement mechanisms to mitigate random hardware faults. </p>
<p>Instead, MICROSAR Safe relies on hardware mechanisms, such as ECC memory and </p>
<p>lock-step cores. </p>
<p>Note that multi-core controllers with cores that provide different levels of diagnostic </p>
<p>coverage are considered during development of the MICROSAR Safe operating system. </p>
<p>However, they also require a detailed analysis of core interdependency by the user of </p>
<p>MICROSAR Safe. </p>
<p>It is assumed that systematic hardware faults are handled on system or application level </p>
<p>by the user of MICROSAR Safe. </p>
<p>Systematic faults in software are prevented by implementation of an ISO 26262-compliant </p>
<p>development process. It is assumed that development according to an ISO 26262-</p>
<p>compliant development process implicitly ensures freedom from interference with respect </p>
<p>to memory. </p>
<p>MICROSAR Safe does not implement redundant (inverted) data storage to mitigate </p>
<p>software faults. </p>
<p>It is assumed that software with a different quality level is separated using a memory </p>
<p>protection unit (MPU) (see also TSR-7). The user of MICROSAR Safe has to ensure that </p>
<p>write access to the same memory parts is only possible for software of the same or higher </p>
<p>quality level. </p>
<p>Depending on the requirements of the item, timing and program flow must be monitored. </p>
<p>MICROSAR Safe provide mechanisms to implement this monitoring (see also TSR-13, </p>
<p>TSR-14 and TSR-15). MICROSAR Safe does not automatically monitor itself for intended </p>
<p>timing and program flow. </p>
<p>MICROSAR Safe components without allocated safety requirements are developed </p>
<p>according to an ISO 26262-compliant development process to provide an argument for </p>
<p>coexistence. </p>
<p>If safety requirements are implemented in components of MICROSAR Safe, Vector </p>
<h1 style="page-break-before:always; "></h1>
<p>Safety Manual CBD1700369 D04</p>
<p> </p>
<p></p>
<p>2018 Vector Informatik GmbH </p>
<p>1.0 </p>
<p>16 / 126 </p>
<p>ensures that they are locally non-complex. For locally non-complex components no </p>
<p>diverse implementation of algorithms is designed. </p>
<p><b>1.2.1.2 Tool Confidence </b></p>
<p>MICROSAR Safe must be configured using the DaVinci tools. MICROSAR Safe must be </p>
<p>compiled by using a compiler for the target hardware. These tools must be evaluated with </p>
<p>respect to their impact on functional safety by the user. </p>
<p>It is assumed that the user of MICROSAR Safe evaluates and qualifies the defined </p>
<p>compiler (incl. options) and linker according to ISO 26262 Part 8 Clause 11. </p>
<p>The DaVinci Developer and DaVinci Configurator are assumed to have an impact on </p>
<p>functional safety. In the first place, only a tool error detection level of two can be expected. </p>
<p>The resulting tool confidence level (TCL) would require a qualification of those tools. </p>
<p>To ensure freedom from interference with respect to memory for the BSW, Vector provides </p>
<p>the MICROSAR Safe Silence Verifier (MSSV). </p>
<p>To ensure freedom from interference with respect to memory and to detect additional faults </p>
<p>that may have been introduced by the DaVinci tools for the RTE, Vector provides the RTE </p>
<p>Analyzer. </p>
<p>If MSSV and RTE Analyzer are used according to their Technical References and the </p>
<p>Safety Manual, the tool confidence level for the DaVinci tools can be reduced to TCL1 by </p>
<p>the user of MICROSAR Safe. MSSV and RTE Analyzer can be assumed TCL2 and </p>
<p>qualified for this TCL, since a safety-related development process at Vector is applied for </p>
<p>those tools. </p>
<p>Tools by Vector do not implement mechanisms to handle hardware faults on the host </p>
<p>development computer. </p>
<p><b>1.2.2 Technical Safety Requirements</b></p>
<p><b> </b></p>
<p>The items listed in this section are the assumed technical safety requirements on the </p>
<p>Safety Element out of Context MICROSAR Safe. These requirements are expected to </p>
<p>match the requirements in the actual item development. </p>
<p>All technical safety requirements (TSRs) are assigned an ASIL D (unless otherwise stated) </p>
<p>to service as many projects as possible. </p>
<p>No fault tolerant time intervals are given. Timing depends on the used hardware and its </p>
<p>configuration. It is assumed that the user configures MICROSAR Safe adequately for the </p>
<p>intended use. </p>
<p>No safe state is defined since MICROSAR Safe allows the user to define the desired </p>
<p>behavior in case of a detected fault. </p>
<p>The Safety Manual provided with a delivery shows the details on the support of a safety </p>
<p>feature on component level. </p>
<h1 style="page-break-before:always; "></h1>
<p>Safety Manual CBD1700369 D04</p>
<p> </p>
<p></p>
<p>2018 Vector Informatik GmbH </p>
<p>1.0 </p>
<p>17 / 126 </p>
<p><b>1.2.2.1 Initialization </b></p>
<p><b>TSR-1 MICROSAR Safe shall provide a mechanism to initialize itself and its </b></p>
<p><b>controlled hardware.  </b></p>
<p>It is sensible for safety-related systems to start performing potentially hazardous actions </p>
<p>only in a defined and intended state. For example, adequate setup of clocks may be </p>
<p>required to reach required fault tolerant times. </p>
<p>Components of MICROSAR Safe initialize their variables. For post build selectable and </p>
<p>post build loadable configurations MICROSAR Safe components use a consistent and </p>
<p>defined set of configuration data. </p>
<p>Hardware-specific components of MICROSAR Safe describe in their Technical References </p>
<p>what hardware units are controlled. </p>
<p>The user of MICROSAR Safe shall ensure that initialization functions of MICROSAR Safe </p>
<p>are called in the right order and at the right point in time. </p>
<p>The user of MICROSAR Safe is also responsible for the startup code and main function. </p>
<p><b>1.2.2.2 Self-test </b></p>
<p><b>TSR-2 MICROSAR Safe shall provide mechanisms to perform self-tests of hardware.  </b></p>
<p>Self-tests of hardware may be required to achieve the required single-point or latent fault </p>
<p>metrics. Usually these tests are performed cyclically or during start-up. </p>
<p>MICROSAR Safe provides mechanisms to perform self-tests of hardware. The details on </p>
<p>the provided self-tests are described in the component-specific part of the Safety Manual </p>
<p>provided with a delivery. </p>
<p><b>1.2.2.3 Reset of ECU </b></p>
<p><b>TSR-3 MICROSAR Safe shall provide a mechanism to reset the ECU.  </b></p>
<p>Resetting the CPU of the ECU is in most cases an appropriate measure to achieve a safe </p>
<p>state in case of a detected fault. </p>
<p>It is assumed that the reset (and powerless) state of a microcontroller leads to the safe </p>
<p>state of the ECU and system, since a reset may occur at any time due to e.g. random </p>
<p>hardware fault. </p>
<p>MICROSAR Safe does not reset the CPU without request. </p>
<p><b>1.2.2.4 Data Consistency </b></p>
<p><b>TSR-101876 MICROSAR Safe shall provide mechanisms to ensure data consistency.  </b></p>
<p>Concurrent access to resources (e.g. variables) from e.g. task and interrupt level, may </p>
<p>lead to data inconsistencies. </p>
<p>MICROSAR Safe provides functions to enable or disable interrupts, spin-locks, resources </p>
<p>or abstractions (i.e. exclusive areas) to enable the user of MICROSAR Safe to ensure data </p>
<p>consistency. </p>
<p>MICROSAR Safe will not unintentionally enable or disable the mechanisms to ensure data </p>
<p>consistency. </p>
<p>MICROSAR Safe also uses this functionality in its own components to ensure data </p>
<p>consistency. </p>
<h1 style="page-break-before:always; "></h1>
<p>Safety Manual CBD1700369 D04</p>
<p> </p>
<p></p>
<p>2018 Vector Informatik GmbH </p>
<p>1.0 </p>
<p>18 / 126 </p>
<p><b>1.2.2.5 Non-volatile Memory </b></p>
<p><b>TSR-4 MICROSAR Safe shall provide a mechanism to store data in non-volatile </b></p>
<p><b>memory.  </b></p>
<p>Calibration or other application data may be safety-related, i.e. if there is data available </p>
<p>from non-volatile memory it must not be corrupted by either software or hardware. </p>
<p>MICROSAR Safe implements an &quot;&quot;end-to-end protection&quot;&quot; in the Non-volatile RAM </p>
<p>Manager (NvM) to ensure that data is neither corrupted nor masqueraded in either </p>
<p>software or hardware. </p>
<p>Note that hardware may not even start storing data in non-volatile memory or loose it at </p>
<p>any time. </p>
<p>Availability of data is, thus, not guaranteed. Availability may be increased by redundantly </p>
<p>storing data in non-volatile memory. The user of MICROSAR Safe must handle </p>
<p>unavailability of data on application level. </p>
<p><b>TSR-5 MICROSAR Safe shall provide a mechanism to retrieve data from non-volatile </b></p>
<p><b>memory.  </b></p>
<p>Calibration or other application data may be safety-related, i.e. if there is data available </p>
<p>from non-volatile memory it must not be corrupted by either software or hardware. </p>
<p>MICROSAR Safe implements an &quot;&quot;end-to-end protection&quot;&quot; in the Non-volatile RAM </p>
<p>Manager (NvM) to ensure that data is neither corrupted nor masqueraded in either </p>
<p>software or hardware. </p>
<p>Note that hardware may not even start storing data in non-volatile memory or loose it at </p>
<p>any time. </p>
<p>Availability of data is, thus, not guaranteed. Availability may be increased by redundantly </p>
<p>storing data in non-volatile memory. The user of MICROSAR Safe must handle </p>
<p>unavailability of data on application level. </p>
<p>Note that if data is written more than once and the latest data in the non-volatile memory </p>
<p>gets corrupted, older (uncorrupted) data may be returned to the user of MICROSAR Safe. </p>
<p><b>1.2.2.6 Hard Real-time Scheduling </b></p>
<p><b>TSR-6 MICROSAR Safe shall provide hard real-time scheduling properties.  </b></p>
<p>Hard real-time scheduling is not required for safety in the first place, since deadline </p>
<p>violations can usually be detected and a safe state entered. However, hard real-time </p>
<p>scheduling may support argumentation in some cases. </p>
<p>For fail-operational systems hard real-time scheduling properties are essential for the </p>
<p>software that needs to stay operational. </p>
<p>The operating system of MICROSAR Safe implements fixed priority scheduling and the </p>
<p>immediate priority ceiling protocol specified by AUTOSAR to guarantee hard real-time </p>
<p>scheduling properties. </p>
<p>The operating system of MICROSAR Safe also provides an upper bound for the execution </p>
<p>time of its functionality. </p>
<p>Note that fail-operational requirements on a system usually require a second independent </p>
<p>channel of control. </p>
<p>Note that fail-operational requirements require analyses of the worst-case execution time </p>
<p>(WCET) of the software that needs to stay operational. </p>
<h1 style="page-break-before:always; "></h1>
<p>Safety Manual CBD1700369 D04</p>
<p> </p>
<p></p>
<p>2018 Vector Informatik GmbH </p>
<p>1.0 </p>
<p>19 / 126 </p>
<p><b>1.2.2.7 Memory Protection </b></p>
<p><b>TSR-7 MICROSAR Safe shall provide mechanisms to protect software applications </b></p>
<p><b>from unspecified memory access.  </b></p>
<p>Partitioning in software is often introduced because of different quality levels of software </p>
<p>and different responsibilities of software development on one ECU. </p>
<p>Memory partitioning relies on the memory protection unit (MPU) in hardware for the </p>
<p>effectiveness of the mechanism. </p>
<p>MICROSAR Safe configures exactly the configured memory access rights for each task </p>
<p>and ISR at the hardware interface of the MPU. </p>
<p>Note that MICROSAR Safe does not necessarily control all available protection units (e.g. </p>
<p>system MPUs or peripheral protection units). </p>
<p>The user of MICROSAR Safe is responsible for adequate configuration of the memory </p>
<p>partitions. </p>
<p><b>1.2.2.8 Communication </b></p>
<p><b>1.2.2.8.1 Inter ECU Communication</b></p>
<p><b> </b></p>
<p><b>TSR-10 MICROSAR Safe shall provide mechanisms to protect communication </b></p>
<p><b>between ECUs.  </b></p>
<p>Communication between ECUs may be corrupted, unintentionally replayed, lost or </p>
<p>masked. To protect against these failure modes MICROSAR Safe provides the end-to-end </p>
<p>(E2E) protection mechanism defined by AUTOSAR. </p>
<p>MICROSAR Safe detects repetition, loss, insertion, masking, reodering and corruption of </p>
<p>messages between ECUs. </p>
<p>MICROSAR Safe allows the usage of cyclic redundancy checks (CRCs) and cryptographic </p>
<p>algorithms to protect the integrity of messages between ECUs. </p>
<p>CRCs provide a certain hamming distance given a polynomial and maximum data block </p>
<p>size. </p>
<p>Cryptographic hash functions or message authentication codes (MACs) provide a </p>
<p>probabilistic statement on data corruption detection depending on the hash function or </p>
<p>MAC, data block size and hash value size. </p>
<p>The user of MICROSAR Safe is responsible for the selection of the E2E profile or </p>
<p>algorithm that is adequate to the requirements of the item development. </p>
<p><b>TSR-104422 MICROSAR Safe shall provide mechanisms to communicate between </b></p>
<p><b>ECUs.  </b></p>
<p>The use of end-to-end protection mechanisms requires additional data to be computed in </p>
<p>software and sent over the network. For ASIL A it might be acceptable to reduce fault </p>
<p>detection capabilities to reduce this overhead. </p>
<p>MICROSAR Safe detects if there are no incoming messages in a configured time frame </p>
<p>and if messages have been corrupted on the bus. </p>
<p>MICROSAR Safe does not unintentionally repeat, discard, delay, insert, mask, reorder or </p>
<p>corrupt messages in software. </p>
<p>MICROSAR Safe cannot detect if old, repeated or masked data was received. MICROSAR </p>
<p>Safe cannot detect if messages are unintentionally reordered or if some messages have </p>
<p>been lost. </p>
<p>MICROSAR Safe does not provide mechanisms to detect latent faults in the </p>
<p>communication hardware, e.g. runtime check of the CRC check in the CAN controller. </p>
<h1 style="page-break-before:always; "></h1>
<p>Safety Manual CBD1700369 D04</p>
<p> </p>
<p></p>
<p>2018 Vector Informatik GmbH </p>
<p>1.0 </p>
<p>20 / 126 </p>
<p>The user of MICROSAR Safe is responsible to decide whether reduced fault detection </p>
<p>capabilities are acceptable. This should include an analysis on a per signal base of the </p>
<p>underlying system requirements of the item. </p>
<p><b>Note this TSR is only assigned an ASIL A. For higher ASILs Vector requires the </b></p>
<p><b>usage of an end-to-end protection mechanism (see TSR-10). </b></p>
<p><b>1.2.2.8.2 Intra ECU Communication</b></p>
<p><b> </b></p>
<p><b>TSR-16 MICROSAR Safe shall provide mechanisms to communicate within its </b></p>
<p><b>applications.  </b></p>
<p>Software components need to communicate in order to fulfill their task. </p>
<p>MICROSAR Safe provides mechanisms to communicate within OS applications without </p>
<p>end-to-end protection. </p>
<p>MICROSAR Safe does not unintentionally repeat, delay, insert, mask, corrupt or loose </p>
<p>data communicated within OS applications. </p>
<p>MICROSAR Safe assumes protection of the memory against random hardware faults by </p>
<p>the system, e.g. via ECC RAM and lock-step mode. </p>
<p><b>TSR-12 MICROSAR Safe shall provide mechanisms to communicate between its </b></p>
<p><b>applications.  </b></p>
<p>Mixed ASIL or multi-core systems need to exchange safety-related information between </p>
<p>applications. </p>
<p>MICROSAR Safe provides mechanisms to communicate between OS applications without </p>
<p>end-to-end protection. </p>
<p>MICROSAR Safe does not unintentionally repeat, delay, insert, mask, corrupt or loose </p>
<p>data communicated between OS applications. </p>
<p>MICROSAR Safe assumes protection of the memory against random hardware faults by </p>
<p>the system, e.g. via ECC RAM and lock-step mode. </p>
<p><b>1.2.2.9 Monitoring of Software </b></p>
<p>MICROSAR Safe provides monitoring mechanisms to supervise correct execution of </p>
<p>software. These mechanisms must be configured by the user of MICROSAR Safe </p>
<p>according to the requirements within the context of the item development. </p>
<p><b>TSR-13 MICROSAR Safe shall provide a mechanism to detect faults in program flow.  </b></p>
<p>Program flow can be corrupted by random hardware faults or software faults. </p>
<p>The user of MICROSAR Safe can configure a graph of the logical program flow that is then </p>
<p>supervised by MICROSAR Safe. A transition from one checkpoint to another that is not </p>
<p>allowed is detected. </p>
<p><b>TSR-14 MICROSAR Safe shall provide a mechanism to detect stuck software.  </b></p>
<p>Alive monitoring is used to reset the software or controller in case it is unresponsive. </p>
<p>The user of MICROSAR Safe can configure entities that need to regularly report their alive </p>
<p>status that is then supervised by MICROSAR Safe. Omission of a regular report is </p>
<p>detected. </p>
<p><b>TSR-15 MICROSAR Safe shall provide a mechanism to detect deadline violations.  </b></p>
<p>Deadlines are important to reach a safe state within the defined fault tolerant time interval. </p>
<p>The user of MICROSAR Safe can configure a tolerable time interval for each transition in a </p>
<h1 style="page-break-before:always; "></h1>
<p>Safety Manual CBD1700369 D04</p>
<p> </p>
<p></p>
<p>2018 Vector Informatik GmbH </p>
<p>1.0 </p>
<p>21 / 126 </p>
<p>logical program flow graph that is then supervised by MICROSAR Safe. Violation of a </p>
<p>deadline is detected. </p>
<p><b>TSR-8 MICROSAR Safe shall provide a mechanism to detect time budget violations.  </b></p>
<p>Budgets for task execution times, inter-arrival times and locking times allow to identify the </p>
<p>originator of a deadline violation. </p>
<p>The user of MICROSAR Safe can configure budgets for execution times of tasks and </p>
<p>category 2 ISRs, inter-arrival times and duration of locks (e.g. resource or interrupt locks) </p>
<p>that are then supervised by MICROSAR Safe. Exhaustion of budgets is detected. </p>
<p><b>TSR-9 MICROSAR Safe shall provide a mechanism to terminate software </b></p>
<p><b>applications.  </b></p>
<p>Terminating a complete OS application may be used as a safety mechanisms to mitigate a </p>
<p>software fault within this OS application. </p>
<p>MICROSAR Safe terminates exactly the requested OS application and only upon request. </p>
<p>Note that MICROSAR Safe will not terminate OS applications automatically without </p>
<p>configuration or request. </p>
<p><b>1.2.2.10 Operating Modes </b></p>
<p><b>TSR-100551 MICROSAR Safe shall provide a mechanism to switch between </b></p>
<p><b>operating modes.  </b></p>
<p>Fault detection and mitigation often result in a degraded or safe state. These modes can </p>
<p>be configured and switched in BswM and Rte. </p>
<p>MICROSAR Safe does not unintentionally switch between operating modes. MICROSAR </p>
<p>Safe switches to exactly the requested operating mode. </p>
<p><b>1.2.2.11 Peripheral In- and output </b></p>
<p><b>TSR-17 MICROSAR Safe shall provide a mechanism to read input data from </b></p>
<p><b>peripheral units.  </b></p>
<p>Input of data from microcontroller peripheral units is required to implement almost any </p>
<p>safety-related system. </p>
<p>MICROSAR Safe provides the data read from peripheral units without corruption or </p>
<p>unintentional delay. </p>
<p>MICROSAR Safe does not unintentionally reorder nor masquerade data read from </p>
<p>peripheral units. </p>
<p>Note that the peripheral hardware may not provide sufficient diagnostic coverage without </p>
<p>redundant input. </p>
<p>For example, DIO and SPI drivers provided by Vector support the reading input data from </p>
<p>peripheral units as safety feature. </p>
<p><b>TSR-18 MICROSAR Safe shall provide a mechanism to write output data to </b></p>
<p><b>peripheral units.  </b></p>
<p>Output of data from microcontroller peripheral units is required to implement almost any </p>
<p>safety-related system. </p>
<p>MICROSAR Safe writes the data provided at the software interfaces without corruption or </p>
<p>unintentional delay. </p>
<p>MICROSAR Safe does not unintentionally trigger peripheral output units. </p>
<p>MICROSAR Safe does not unintentionally reorder nor masquerade data read from </p>
<h1 style="page-break-before:always; "></h1>
<p>Safety Manual CBD1700369 D04</p>
<p> </p>
<p></p>
<p>2018 Vector Informatik GmbH </p>
<p>1.0 </p>
<p>22 / 126 </p>
<p>peripheral units. </p>
<p>Note that the peripheral hardware may require additional mechanisms on application or </p>
<p>system level to ensure sufficient safety. </p>
<p>For example, DIO and SPI drivers provided by Vector support the output of data to </p>
<p>peripheral units as safety feature (e.g. to trigger external watchdogs or switch actuation </p>
<p>paths). </p>
<p><b>1.2.3 Environment</b></p>
<p><b> </b></p>
<p><b>1.2.3.1 Safety Concept </b></p>
<p><i>SMI-14 </i></p>
<p><b>The user of MICROSAR Safe shall be responsible for the functional safety concept. </b></p>
<p>The overall functional safety concept is in the responsibility of the user of MICROSAR </p>
<p>Safe. MICROSAR Safe can only provide parts that can be used to implement the </p>
<p>functional safety concept of the item. </p>
<p>It is also the responsibility of the user of MICROSAR Safe to configure MICROSAR Safe </p>
<p>as intended by the user's safety concept.  </p>
<p>The safety concept shall only rely on safety features explicitly described in this safety </p>
<p>manual. If a component from MICROSAR Safe does not explicitly describe safety features </p>
<p>in this safety manual, this component has been developed according to the methods for </p>
<p>ASIL D to provide coexistence with other ASIL components.  </p>
<p>o</p>
<p> </p>
<p>Example: NvM provides safety features for writing and reading of data, the lower </p>
<p>layers, i.e. MemIf, Ea, Fee and drivers, only provide the ASIL for coexistence. </p>
<p>The safety concept shall <b>not </b>rely on functionality that is <b>not </b>explicitly described as safety </p>
<p>feature in this safety manual. This functionality may fail silently in case of a detected fault.  </p>
<p>o</p>
<p> </p>
<p>Example: If a potential out-of-bounds memory access, e.g. due to invalid input or </p>
<p>misconfiguration, is detected the requested function will not be performed. An error </p>
<p>via DET is only reported if error reporting is enabled. </p>
<p><i>SMI-1 </i></p>
<p><b>The user of MICROSAR Safe shall adequately address hardware faults. </b></p>
<p>The components of MICROSAR Safe can support in the detection and handling of some </p>
<p>hardware faults (e.g. using watchdog). </p>
<p>MICROSAR Safe does not provide redundant data storage. </p>
<p>The user of MICROSAR Safe especially has to address faults in volatile random access </p>
<p>memory, non-volatile memory, e.g. flash or EEPROM, and the CPU. </p>
<p>MICROSAR Safe relies on the adequate detection of faults in memory and the CPU by </p>
<p>other means, e.g. hardware. Thus, Vector recommends using lock-step CPUs together </p>
<p>with ECC memory. </p>
<p>See also SMI-14. </p>
<p><i>SMI-10 </i></p>
<p><b>The user of MICROSAR Safe shall ensure that the reset or powerless state is a safe </b></p>
<p><b>state of the system. </b></p>
<h1 style="page-break-before:always; "></h1>
<p>Safety Manual CBD1700369 D04</p>
<p> </p>
<p></p>
<p>2018 Vector Informatik GmbH </p>
<p>1.0 </p>
<p>23 / 126 </p>
<p>Vector uses this assumption in its safety analyses and development process. </p>
<p><i>SMI-20 </i></p>
<p><b>The user of MICROSAR Safe shall implement a timing monitoring using e.g. a </b></p>
<p><b>watchdog. </b></p>
<p>The components of MICROSAR Safe do not provide mechanisms to monitor their own </p>
<p>timing behavior. </p>
<p>The watchdog stack that is part of MICROSAR Safe can be used to fulfill this assumption. </p>
<p>If the functional safety concept also requires a logic monitoring, The watchdog stack that is </p>
<p>part of MICROSAR Safe can be used to implement it. </p>
<p>The watchdog is one way to perform timing monitoring. Today the watchdog is the most </p>
<p>common approach. In future there may be different approaches e.g. by monitoring using a </p>
<p>different ECU. </p>
<p>See also SMI-14. </p>
<p><i>SMI-98 </i></p>
<p><b>The user of MICROSAR Safe shall ensure an end-to-end protection for safety-related </b></p>
<p><b>communication between ECUs. </b></p>
<p>The communication components of MICROSAR Safe do not assume sending or receiving </p>
<p>as a safety requirement, because considered faults can only be detected using additional </p>
<p>information like a cycle counter. Vector always assumes that an end-to-end protection or </p>
<p>equivalent mechanism is implemented on application level. </p>
<p>Considered faults in communication are: </p>
<p>o</p>
<p> </p>
<p>Failure of communication peer  </p>
<p>o</p>
<p> </p>
<p>Message masquerading  </p>
<p>o</p>
<p> </p>
<p>Message corruption </p>
<p>o</p>
<p> </p>
<p>Unintended message repetition  </p>
<p>o</p>
<p> </p>
<p>Insertion of messages  </p>
<p>o</p>
<p> </p>
<p>Re-sequencing  </p>
<p>o</p>
<p> </p>
<p>Message loss  </p>
<p>o</p>
<p> </p>
<p>Message delay </p>
<p>This requirement can be fulfilled by e.g. using the end-to-end protection wrapper for safety </p>
<p>related communication. </p>
<p><i>SMI-11 </i></p>
<p><b>The user of MICROSAR Safe shall ensure data consistency for its application. </b></p>
<p>Data consistency is not automatically provided when using MICROSAR Safe. MICROSAR </p>
<p>Safe only provides services to support enforcement of data consistency. Their application </p>
<p>is in the responsibility of the user of MICROSAR Safe. </p>
<h1 style="page-break-before:always; "></h1>
<p>Safety Manual CBD1700369 D04</p>
<p> </p>
<p></p>
<p>2018 Vector Informatik GmbH </p>
<p>1.0 </p>
<p>24 / 126 </p>
<p>To ensure data consistency in an application, critical sections need to be identified and </p>
<p>protected. </p>
<p>To identify critical sections in the code, e.g. review or static code analysis can be used. </p>
<p>To protect critical sections, e.g. the services to disable and enable interrupts provided by </p>
<p>the MICROSAR Safe operating system can be used. </p>
<p>To verify correctly implemented protection, e.g. stress testing or review can be used. </p>
<p>Note the AUTOSAR specification with respect to nesting and sequence of calls to interrupt </p>
<p>enabling and disabling functions. </p>
<p>See also TSR-101876. </p>
<p><b>1.2.3.2 Use of MICROSAR Safe Components </b></p>
<p><i>SMI-2 </i></p>
<p><b>The user of MICROSAR Safe shall adequately select the type definitions to reflect </b></p>
<p><b>the hardware platform and compiler environment. </b></p>
<p>The user of MICROSAR Safe is responsible for selecting the correct platform types </p>
<p>(PlatformTypes.h) and compiler abstraction (Compiler.h). Especially the size of the </p>
<p>predefined types must match the target environment. </p>
<p>Example: A uint32 must be mapped to an unsigned integer type with a size of 32 bits. </p>
<p>The user of MICROSAR Safe can use the platform types provided by Vector. Vector has </p>
<p>created and verified the platform types mapping according to the information provided by </p>
<p>the user of MICROSAR Safe. </p>
<p><i>SMI-12 </i></p>
<p><b>The user of MICROSAR Safe shall initialize all components of MICROSAR Safe prior </b></p>
<p><b>to using them. </b></p>
<p>This constraint is required by AUTOSAR anyway. Vector uses this assumption in its safety </p>
<p>analyses and development process. </p>
<p>Correct initialization can be verified, e.g. during integration testing. </p>
<p><i>SMI-16 </i></p>
<p><b>The user of MICROSAR Safe shall only pass valid pointers at all interfaces to </b></p>
<p><b>MICROSAR Safe components. </b></p>
<p>Plausibility checks on pointers are performed by MICROSAR Safe (see also SMI-18), but </p>
<p>they are limited. MICROSAR Safe components potentially use provided pointers to write to </p>
<p>the location in memory. </p>
<p>Also the length and pointer of a buffer provided to a MICROSAR Safe component need to </p>
<p>be consistent. </p>
<p>This assumption also applies to QM as well as ASIL components. </p>
<p>This can e.g. be verified using static code analysis tools, reviews and integration testing. </p>
<p><i>SMI-36039 </i></p>
<p><b>The user of MICROSAR Safe shall only retain pointers provided by MICROSAR Safe </b></p>
<p><b>where explicitly stated. </b></p>
<p>Some MICROSAR Safe components provide call-outs to user or application code. The </p>
<p>pointers passed to these call-outs may have limited validity. </p>
<h1 style="page-break-before:always; "></h1>
<p>Safety Manual CBD1700369 D04</p>
<p> </p>
<p></p>
<p>2018 Vector Informatik GmbH </p>
<p>1.0 </p>
<p>25 / 126 </p>
<p>The user of MICROSAR Safe shall ensure that pointers are not used neither for reading </p>
<p>nor for writing after returning from the call-out. Exceptions of this rule are explicitly </p>
<p>documented for the respective call-out. </p>
<p><i>SMI-18 </i></p>
<p><b>The user of MICROSAR Safe shall enable plausibility checks for the MICROSAR </b></p>
<p><b>Safe components. </b></p>
<p>This setting is necessary to introduce defensive programming and increase robustness at </p>
<p>the interfaces as required by ISO 26262. </p>
<p>This setting has to be configured at </p>
<p>/MICROSAR/EcuC/EcucGeneral/EcuCSafeBswChecks</p>
<p> <b>and </b></p>
<p>&lt;Component-specific path&gt;/&lt;Ma&gt;SafeBswChecks</p>
<p> for all components that are intended to </p>
<p>be ASIL. </p>
<p><i>Ma </i>is the Module Abbreviation. </p>
<p>This setting is enforced by an MSSV plug-in. </p>
<p>This setting does not enable error reporting to the DET component. </p>
<p><i>SMI-1725 </i></p>
<p><b>The user of MICROSAR Safe shall configure and use the interrupt system correctly. </b></p>
<p>The user of MICROSAR Safe is responsible for a correct and consistent configuration and </p>
<p>usage of the interrupt system. </p>
<p>Especially the following topics shall be verified: </p>
<p>o</p>
<p> </p>
<p>Consistent configuration of interrupt category, level and priority in OS and MCAL </p>
<p>modules </p>
<p>o</p>
<p> </p>
<p>Correct assignment of logical channels/instances to interrupt vectors in case of </p>
<p>MCAL modules with multiple channels/instances </p>
<p>o</p>
<p> </p>
<p>The interrupt controller is configured in a mode which processes interrupts of the </p>
<p>same level sequentially to avoid unbounded interrupt nesting </p>
<p><i>SMI-36041 </i></p>
<p><b>The user of MICROSAR Safe shall not use functionality of MICROSAR Safe </b></p>
<p><b>components marked with a BETA-ESCAN. </b></p>
<p>Functionality marked with a BETA-ESCAN is not thoroughly tested by Vector.  </p>
<p>Vector ensures that functionality marked with a BETA-ESCAN can be completely disabled. </p>
<p>The list of ESCANs (incl. BETA-ESCANs) is provided with a delivery.  </p>
<p><b>1.2.3.3 Partitioning </b></p>
<p><i>SMI-9 </i></p>
<p><b>The user of MICROSAR Safe shall ensure that for one AUTOSAR functional cluster </b></p>
<p><b>(e.g. System Services, Operating System, CAN, COM, etc.) only components from </b></p>
<p><b>Vector are used. </b></p>
<p>This assumption is required because of dependencies within the development process of </p>
<p>Vector. </p>
<h1 style="page-break-before:always; "></h1>
<p>Safety Manual CBD1700369 D04</p>
<p> </p>
<p></p>
<p>2018 Vector Informatik GmbH </p>
<p>1.0 </p>
<p>26 / 126 </p>
<p>This assumption does not apply to the MCAL or the EXT cluster. </p>
<p>Vector may have requirements on MCAL or EXT components depending on the upper </p>
<p>layers that are used and provided by Vector. For example, the watchdog driver is </p>
<p>considered to have safety requirements allocated to its initialization and triggering </p>
<p>services. Details are described in the component specific parts of this safety manual. </p>
<p>This assumption does not apply to components that are not provided by Vector. </p>
<p>In case the partitioning solution is used, this assumption only partially applies to the </p>
<p>System Services cluster. Only the Watchdog Manager and Watchdog Interface need to be </p>
<p>used from Vector then, because the Watchdog Manager and Watchdog Interface will be </p>
<p>placed in separate memory partitions apart from the other System Services components. </p>
<p><i>SMI-32 </i></p>
<p><b>The user of MICROSAR Safe shall provide an argument for coexistence for software </b></p>
<p><b>that resides in the same partition as components from MICROSAR Safe. </b></p>
<p>Vector considers an ISO 26262-compliant development process for the software as an </p>
<p>argument for coexistence (see [1] Part 9 Clause 6). Vector assumes that especially </p>
<p>freedom from interference with respect to memory is provided by an ISO 26262-compliant </p>
<p>development process. </p>
<p>Redundant data storage as the only measure by the other software is not considered a </p>
<p>sufficient measure. </p>
<p>If ASIL components provided by Vector are used, this requirement is fulfilled. </p>
<p>In general Vector components do not implement methods to interface with other software </p>
<p>(e.g. components, hooks, callouts) in other partitions. They assume that all interfacing </p>
<p>components reside in the same partition. Interfacing components are described in the </p>
<p>respective technical reference. </p>
<p>If an argument for coexistence cannot be provided, other means of separation have to be </p>
<p>implemented (e.g. trusted or non-trusted function calls). </p>
<p><i>SMI-99 </i></p>
<p><b>The user of MICROSAR Safe shall verify that the memory mapping is consistent </b></p>
<p><b>with the partitioning concept.  </b></p>
<p>The volatile data of every component shall be placed in the associated memory partition. </p>
<p>This can be verified e.g. by review of the linker map file. </p>
<p>The memory sections for each component placed in RAM can be identified </p>
<p>&lt;MIP&gt;_START_SEC_VAR[_&lt;xxx&gt;], where &lt;MIP&gt; is the Module Implementation Prefix of </p>
<p>the component. </p>
<p><b>1.2.3.4 Resources </b></p>
<p><i>SMI-33 </i></p>
<p><b>The user of MICROSAR Safe shall provide sufficient resources in RAM, ROM, stack </b></p>
<p><b>and CPU runtime for MICROSAR Safe. </b></p>
<p>Selection of the microcontroller and memory capacities as well as dimensioning of the </p>
<p>stacks is in the responsibility of the user of MICROSAR Safe. </p>
<p>If MICROSAR Safe components have specific requirements, these are documented in the </p>
<p>respective Technical Reference document. </p>
<h1 style="page-break-before:always; "></h1>
<p>Safety Manual CBD1700369 D04</p>
<p> </p>
<p></p>
<p>2018 Vector Informatik GmbH </p>
<p>1.0 </p>
<p>27 / 126 </p>
<p><b>1.2.4 Process</b></p>
<p><b> </b></p>
<p><i>SMI-15 </i></p>
<p><b>The user of MICROSAR Safe shall follow the instructions of the corresponding </b></p>
<p><b>Technical Reference of the components. </b></p>
<p>Especially deviations from AUTOSAR specifications are described in the Technical </p>
<p>References. </p>
<p>If there are constraints for the implementation of an exclusive area, these are described in </p>
<p>the Technical References. </p>
<p><i>SMI-5 </i></p>
<p><b>The user of MICROSAR Safe shall verify all code that is modified during integration </b></p>
<p><b>of MICROSAR Safe. </b></p>
<p>Code that is typically modified by the user of MICROSAR Safe during integration </p>
<p>comprises generated templates, hooks, callouts, or similar. </p>
<p>This assumption also applies if interfaces between components are looped through user-</p>
<p>defined functions. </p>
<p>Vector assumes that this verification also covers ISO 26262:6-9. Vector assumes that </p>
<p>modified code that belongs to a Vector component, e.g. EcuM callouts or OS trace hooks </p>
<p>can at least coexist with this component, because no separation in memory or time is </p>
<p>implemented. </p>
<p>Example: Callouts of the EcuM are executed in the context of the EcuM. </p>
<p>Non-trusted functions provided by the Vector operating system can be used to implement </p>
<p>a separation in memory in code modified by the user of MICROSAR Safe. </p>
<p>Support by Vector can be requested on a per-project basis. </p>
<p><i>SMI-30 </i></p>
<p><b>The user of MICROSAR Safe shall only modify source code of MICROSAR Safe that </b></p>
<p><b>is explicitly allowed to be changed. </b></p>
<p>Usually no source code of MICROSAR Safe is allowed to be changed by the user of </p>
<p>MICROSAR Safe. </p>
<p>The user of MICROSAR Safe can check if the source code was modified by e.g, </p>
<p>comparing it to the original delivery.  </p>
<p><i>SMI-8 </i></p>
<p><b>The user of MICROSAR Safe shall verify generated functions according to ISO </b></p>
<p><b>26262:6-9. </b></p>
<p>Generated functions can be identified when searching through the generated code. </p>
<p>Support by Vector can be requested on a per-project basis. </p>
<p>An example of generated functions is the configured rules of the Basic Software Manager </p>
<p>(BSWM). Their correctness can only be verified by the user of MICROSAR Safe. Please </p>
<p>note, however, that BSWM does not provide safety features. </p>
<p>This requirement does not apply to MICROSAR SafeRTE. </p>
<p><i>SMI-19 </i></p>
<h1 style="page-break-before:always; "></h1>
<p>Safety Manual CBD1700369 D04</p>
<p> </p>
<p></p>
<p>2018 Vector Informatik GmbH </p>
<p>1.0 </p>
<p>28 / 126 </p>
<p><b>The user of MICROSAR Safe shall execute the MICROSAR Safe Silence Verifier </b></p>
<p><b>(MSSV). </b></p>
<p>MSSV is used to detect potential out-of-bounds accesses by Vector's basic software based </p>
<p>on inconsistent configuration. </p>
<p>Details on the required command line arguments and integration into the tool chain can be </p>
<p>found in [4]. </p>
<p>If the report shows “Overall Check Result: Fail&quot;, please contact the Safety Manager at </p>
<p>Vector. See the Product Information MICROSAR Safe for contact details. </p>
<p><i>SMI-4 </i></p>
<p><b>The user of MICROSAR Safe shall perform the integration (ISO 26262:6-10) and </b></p>
<p><b>verification (ISO 26262:6-11) processes as required by ISO 26262. </b></p>
<p>Especially the safety mechanisms must be verified in the final target ECU. </p>
<p>Vector assumes that by performing the integration and verification processes as required </p>
<p>by ISO 26262 the generated configuration data, e.g. data tables, task priorities or PDU </p>
<p>handles, are sufficiently checked. An additional review of the configuration data is then </p>
<p>considered not necessary. </p>
<p>Integration does not apply to a MICROSAR Safe component that consists of several </p>
<p>subcomponents. This integration is already performed by Vector. The integration of </p>
<p>subcomponents is validated during creation of the safety case by Vector based on the </p>
<p>configuration handed in by the user of MICROSAR Safe. </p>
<p>However, integration of all MICROSAR Safe components in the specific use-case of the </p>
<p>user of MICROSAR Safe is the responsibility of the user of MICROSAR Safe. This also </p>
<p>includes the hardware-software integration in the context of the target ECU. </p>
<p>Support by Vector can be requested on a per-project basis. </p>
<p><i>SMI-100 </i></p>
<p><b>The user of MICROSAR Safe shall ensure that a consistent set of generated </b></p>
<p><b>configuration is used for verification and production.  </b></p>
<p>Make sure that the same generated files are used for testing and production code, i.e. be </p>
<p>aware that configuration can be changed without generating the code again. </p>
<p>Make sure that all generated files have the same configuration basis, i.e. always generate </p>
<p>the MICROSAR Safe configuration for all components for a relevant release of the ECU </p>
<p>software. </p>
<p>The use of post build loadable is supported but not recommended by Vector. </p>
<p><i>SMI-176 </i></p>
<p><b>The user of MICROSAR Safe shall verify the integrity of the delivery by Vector.  </b></p>
<p>Run the SIPModificationChecker.exe and verify that the source code, BSWMD and safety </p>
<p>manual files are unchanged. </p>
<p><i>SMI-31 </i></p>
<p><b>The user of MICROSAR Safe shall verify the consistency of the binary downloaded </b></p>
<p><b>into the ECU's flash memory. </b></p>
<p>This also includes re-programming of flash memory via a diagnostics service. The </p>
<p>consistency of the downloaded binary can be checked by the bootloader or the application. </p>
<p>MICROSAR Safe assumes a correct program image.  </p>
<h1 style="page-break-before:always; "></h1>
<p>Safety Manual CBD1700369 D04</p>
<p> </p>
<p></p>
<p>2018 Vector Informatik GmbH </p>
<p>1.0 </p>
<p>29 / 126 </p>
<p><i>SMI-3 </i></p>
<p><b>The user of MICROSAR Safe shall evaluate all tools (incl. compiler) that are used by </b></p>
<p><b>the user of MICROSAR Safe according to ISO 26262:8-11. </b></p>
<p>Evaluation especially has to be performed for the compiler, linker, debugging and test </p>
<p>tools. </p>
<p>Vector provides a guideline for the evaluation of the Tool Confidence Level (TCL) for the </p>
<p>tools provided by Vector (e.g. DaVinci Configurator PRO). </p>
<p>MSSV and RTE Analyzer can be assumed TCL2 and qualified for this TCL, since a safety-</p>
<p>related development process at Vector is applied for those tools. Confirmation that this </p>
<p>safety-related development process was applied is part of the safety case. </p>
<p>Vector has only evaluated the tools used by Vector during the development of MICROSAR </p>
<p>Safe. Tool evaluation, for tools used by the user of MICROSAR Safe, is in the </p>
<p>responsibility of the user of MICROSAR Safe. </p>
<h1 style="page-break-before:always; "></h1>
<p>Safety Manual CBD1700369 D04</p>
<p> </p>
<p></p>
<p>2018 Vector Informatik GmbH </p>
<p>1.0 </p>
<p>30 / 126 </p>
<p><b>2 Safety Manual FrTrans</b></p>
<p><b> </b></p>
<p><b>2.1 Safety features</b></p>
<p><b> </b></p>
<p>This component does not provide safety features. </p>
<p><b>2.2 Configuration constraints</b></p>
<p><b> </b></p>
<p>This component does not have configuration constraints. </p>
<p><b>2.3 Additional verification measures</b></p>
<p><b> </b></p>
<p>This component does not require additional verification measures. </p>
<p><b>2.4 Dependencies to other components</b></p>
<p><b> </b></p>
<p><b>2.4.1 Safety features required from other components</b></p>
<p><b> </b></p>
<p>This component does not require safety features from other components. </p>
<p><b>2.4.2 Coexistence with other components</b></p>
<p><b> </b></p>
<p><i>SMI-376 </i></p>
<p>This component requires coexistence with FrIf, EcuM, Dem, Det, Dio, SPI and ICU </p>
<p>components if the interface for those components is configured. </p>
<p><b>2.5 Dependencies to hardware</b></p>
<p><b> </b></p>
<p>This component does not use a direct hardware interface. </p>
<h1 style="page-break-before:always; "></h1>
<p>Safety Manual CBD1700369 D04</p>
<p> </p>
<p></p>
<p>2018 Vector Informatik GmbH </p>
<p>1.0 </p>
<p>31 / 126 </p>
<p><b>3 Safety Manual BswM</b></p>
<p><b> </b></p>
<p><b>3.1 Safety features</b></p>
<p><b> </b></p>
<p>This component does not provide safety features. </p>
<p><b>3.2 Configuration constraints</b></p>
<p><b> </b></p>
<p><i>SMI-3528 </i></p>
<p>The user of MICROSAR Safe shall configure the following attribute: </p>
<p>o</p>
<p> </p>
<p>Set <i>/MICROSAR/BswM/BswMGeneral/BswMEthIfEnabled </i>to <i>FALSE</i>. </p>
<p>This setting is enforced by an MSSV plugin. </p>
<p><b>3.3 Additional Verification measures</b></p>
<p><b> </b></p>
<p>This component does not require additional verification measures. </p>
<p><b>3.4 Safety features required from other components</b></p>
<p><b> </b></p>
<p>This component does not require safety features from other components. </p>
<p><b>3.5 Dependencies to hardware</b></p>
<p><b> </b></p>
<p>This component does not use a direct hardware interface. </p>
<h1 style="page-break-before:always; "></h1>
<p>Safety Manual CBD1700369 D04</p>
<p> </p>
<p></p>
<p>2018 Vector Informatik GmbH </p>
<p>1.0 </p>
<p>32 / 126 </p>
<p><b>4 Safety Manual Com</b></p>
<p><b> </b></p>
<p><b>4.1 Safety features</b></p>
<p><b> </b></p>
<p>This component does not provide safety features. </p>
<p><b>4.2 Configuration constraints</b></p>
<p><b> </b></p>
<p><i>SMI-314 </i></p>
<p>The user of MICROSAR Safe shall configure the following parameters: </p>
<p>o</p>
<p> </p>
<p>Set /MICROSAR/Com/ComGeneral/ComReceiveSignalMacroAPI to FALSE. </p>
<p>o</p>
<p> </p>
<p>Set /MICROSAR/Com/ComGeneral/ComMetaDataSupport to FALSE. </p>
<p>o</p>
<p> </p>
<p>Set /MICROSAR/Com/ComGeneral/ComDescriptionRoutingCodeGeneration to </p>
<p>FALSE. </p>
<p>This setting is enforced by a MSSV plugin. </p>
<p><i>SMI-315 </i></p>
<p>The user of MICROSAR Safe shall configure the following: </p>
<p>A container in /MICROSAR/PduR/PduRBswModules with a reference </p>
<p>(/MICROSAR/PduR/PduRBswModules/PduRBswModuleRef) to /ActiveEcuC/Com and </p>
<p>shall set the following parameters: </p>
<p>o</p>
<p> </p>
<p>/MICROSAR/PduR/PduRBswModules/PduRCommunicationInterface to TRUE </p>
<p>o</p>
<p> </p>
<p>/MICROSAR/PduR/PduRBswModules/PduRTransportProtocol to FALSE  </p>
<p>o</p>
<p> </p>
<p>/MICROSAR/PduR/PduRBswModules/PduRCancelTransmit to FALSE </p>
<p>This setting is enforced by a MSSV plugin. </p>
<p><b>4.3 Additional verification measures</b></p>
<p><b> </b></p>
<p><i>SMI-1104 </i></p>
<p>The user of MICROSAR Safe shall verify that the </p>
<p>SignalDataPtr</p>
<p> passed to </p>
<p>Com_ReceiveSignal</p>
<p> and </p>
<p>Com_ReceiveShadowSignal</p>
<p> points to a valid buffer which matches </p>
<p>the configured /MICROSAR/Com/ComConfig/ComSignal/ComSignalType or </p>
<p>/MICROSAR/Com/ComConfig/ComGroupSignal/ComSignalType. In case of the </p>
<p>ComSignalType UINT8_N the caller must ensure that the array size matches to the </p>
<p>configured /MICROSAR/Com/ComConfig/ComSignal/ComSignalLength or </p>
<p>/MICROSAR/Com/ComConfig/ComGroupSignal/ComSignalLength. </p>
<p>This can be verified by comparing the type of the pointer passed to </p>
<p>SignalDataPtr</p>
<p> to the </p>
<p>ApplType</p>
<p> returned by </p>
<p>Com_GetApplTypeOfRxAccessInfo(Index)</p>
<p>. </p>
<h1 style="page-break-before:always; "></h1>
<p>Safety Manual CBD1700369 D04</p>
<p> </p>
<p></p>
<p>2018 Vector Informatik GmbH </p>
<p>1.0 </p>
<p>33 / 126 </p>
<p>If the </p>
<p>ApplType</p>
<p> is set to </p>
<p>COM_UINT8_N_APPLTYPEOFRXACCESSINFO</p>
<p> additionally verify that the </p>
<p>value of </p>
<p>Com_GetRxSigBufferArrayBasedBufferLengthOfRxAccessInfo(Index)</p>
<p> is less or </p>
<p>equal to the size (in bytes) of the array passed to </p>
<p>SignalDataPtr</p>
<p>. </p>
<p>The parameter of the macros </p>
<p>Com_GetApplTypeOfRxAccessInfo(Index)</p>
<p> and </p>
<p>Com_GetRxSigBufferArrayBasedBufferLengthOfRxAccessInfo(Index)</p>
<p> is the </p>
<p>SignalId</p>
<p> and </p>
<p>can be found in the generated header files.  </p>
<p><b>4.4 Safety features required from other components</b></p>
<p><b> </b></p>
<p>This component does not require safety features from other components. </p>
<p><b>4.5 Dependencies to hardware</b></p>
<p><b> </b></p>
<p>This component does not use a direct hardware interface. </p>
<h1 style="page-break-before:always; "></h1>
<p>Safety Manual CBD1700369 D04</p>
<p> </p>
<p></p>
<p>2018 Vector Informatik GmbH </p>
<p>1.0 </p>
<p>34 / 126 </p>
<p><b>5 Safety Manual ComM</b></p>
<p><b> </b></p>
<p><b>5.1 Safety features</b></p>
<p><b> </b></p>
<p>This component does not provide safety features. </p>
<p><b>5.2 Configuration constraints</b></p>
<p><b> </b></p>
<p>This component does not have configuration constraints. </p>
<p><b>5.3 Additional Verification measures</b></p>
<p><b> </b></p>
<p><i>SMI-94 </i></p>
<p>The user of MICROSAR Safe shall verify that the array size generated by ComM matches </p>
<p>to the array size in the type definition of RTE. The following procedure shall be applied to </p>
<p>each channel that has activated the ComM parameter 'Full Comm Request Notification </p>
<p>Enabled'. </p>
<p> </p>
<p>ComM_Cfg.h contains array size definition in the format </p>
<p>COMM_MAX_CR_&lt;ShortNameOfChannel&gt; </p>
<p> </p>
<p>rte_type.h contains the definition of the corresponding structure type in the format </p>
<p>ComM_UserHandleArrayType_&lt;ShortNameOfChannel&gt; </p>
<p> </p>
<p>Verify that the structure member 'handleArray' has the same size as the corresponding </p>
<p>define value of ComM in 1). </p>
<p> </p>
<p>Verify the content of the generated functions ComM_CurrentChannelRequestInit and </p>
<p>ComM_CurrentChannelRequestNotification to ensure that the proper define </p>
<p>COMM_MAX_CR_&lt;ShortNameOfChannel&gt; is used to limit the array index when </p>
<p>writing to ComM_UserHandleArrayType_&lt;ShortNameOfChannel&gt;.handleArray[]. </p>
<p><i>SMI-95 </i></p>
<p>The user of MICROSAR Safe shall verify that the value of ComSignalLength (byte) in Com </p>
<p>module is smaller or equal to the value of COMM_PNC_SIGNAL_LENGTH (can be found </p>
<p>in ComM_Cfg.h). </p>
<p>This shall be verified for each ComPncSignal referenced by Partial Network Clusters and </p>
<p>having ComMPncComSignalDirection = RX. </p>
<p><i>SMI-1046 </i></p>
<p>The user of MICROSAR Safe shall verify that each element of table </p>
<p>ComM_UserModeNotiFunc</p>
<p> refers either a </p>
<p>NULL_PTR</p>
<p> or a function that has the following </p>
<p>signature (the placeholder </p>
<p>&lt;name&gt;</p>
<p> represents the function's name): </p>
<p>Std_ReturnType &lt;name&gt;(uint8 nextMode)</p>
<p> </p>
<p>The table </p>
<p>ComM_UserModeNotiFunc</p>
<p> can be found in ComM_Lcfg.c. This measure is only </p>
<p>needed if at least one ComM user has enabled the parameter 'User Mode Notification'. </p>
<h1 style="page-break-before:always; "></h1>
<p>Safety Manual CBD1700369 D04</p>
<p> </p>
<p></p>
<p>2018 Vector Informatik GmbH </p>
<p>1.0 </p>
<p>35 / 126 </p>
<p><b>5.4 Safety features required from other components</b></p>
<p><b> </b></p>
<p>This component does not require safety features from other components. </p>
<p><b>5.5 Dependencies to hardware</b></p>
<p><b> </b></p>
<p>This component does not use a direct hardware interface. </p>
<h1 style="page-break-before:always; "></h1>
<p>Safety Manual CBD1700369 D04</p>
<p> </p>
<p></p>
<p>2018 Vector Informatik GmbH </p>
<p>1.0 </p>
<p>36 / 126 </p>
<p><b>6 Safety Manual Crc</b></p>
<p><b> </b></p>
<p><b>6.1 Safety features</b></p>
<p><b> </b></p>
<p><i>SMI-344 </i></p>
<p>Crc provides the following safety features: </p>
<p>ID </p>
<p> </p>
<p>Safety feature </p>
<p> </p>
<p>CREQ-858 </p>
<p> </p>
<p>Crc shall provide a service to calculate 8-bit SAE-J1850 CRC.</p>
<p> </p>
<p>CREQ-859 </p>
<p> </p>
<p>Crc shall provide a service to calculate 8-bit 0x2F CRC.</p>
<p> </p>
<p>CREQ-860 </p>
<p> </p>
<p>Crc shall provide a service to calculate 16-bit CCITT CRC.</p>
<p> </p>
<p>CREQ-861 </p>
<p> </p>
<p>Crc shall provide a service to calculate 32-bit IEEE-802.3 CRC.</p>
<p> </p>
<p>CREQ-862 </p>
<p> </p>
<p>Crc shall provide a service to calculate 32-bit E2E Profile 4 CRC.</p>
<p> </p>
<p>CREQ-117997 </p>
<p> </p>
<p>Crc shall provide a service to calculate 64-bit ECMA CRC.</p>
<p> </p>
<p> </p>
<p><b>6.2 Configuration constraints</b></p>
<p><b> </b></p>
<p>This component has no configuration constraints. </p>
<p><b>6.3 Additional verification measures</b></p>
<p><b> </b></p>
<p><i>SMI-49 </i></p>
<p>The user of MICROSAR Safe shall verify that the CRC is calculated for the intended data. </p>
<p>This includes the intended buffer and its size (see also SMI-16), start value and if it is the </p>
<p>first call to the service. </p>
<p>Verification can be performed by the &quot;magic check&quot; (see AUTOSAR SWS Crc). </p>
<p>If Crc is used by a MICROSAR Safe component (e.g. E2E, NvM), this requirement is </p>
<p>fulfilled for the MICROSAR Safe component. </p>
<p><b>6.4 Dependencies to other components</b></p>
<p><b> </b></p>
<p><b>6.4.1 Safety features required from other components</b></p>
<p><b> </b></p>
<p>This component does not require safety features from other components. </p>
<p><b>6.4.2 Coexistence with other components</b></p>
<p><b> </b></p>
<p>This component does not require coexistence with other components. </p>
<p>It is assumed that the user of Crc has the adequate ASIL. </p>
<p><b>6.5 Dependencies to hardware</b></p>
<p><b> </b></p>
<p>This component does not use a direct hardware interface. </p>
<h1 style="page-break-before:always; "></h1>
<p>Safety Manual CBD1700369 D04</p>
<p> </p>
<p></p>
<p>2018 Vector Informatik GmbH </p>
<p>1.0 </p>
<p>37 / 126 </p>
<p><b>7 Safety Manual CryIf</b></p>
<p><b> </b></p>
<p><b>7.1 Safety features</b></p>
<p><b> </b></p>
<p>This component does not provide safety features. </p>
<p><b>7.2 Configuration constraints</b></p>
<p><b> </b></p>
<p>This component does not have configuration constraints. </p>
<p><b>7.3 Additional verification measures</b></p>
<p><b> </b></p>
<p>This component does not require additional verification measures. </p>
<p><b>7.4 Safety features required from other components</b></p>
<p><b> </b></p>
<p>This component does not require safety features from other components. </p>
<p><b>7.5 Dependencies to hardware</b></p>
<p><b> </b></p>
<p>This component does not use a direct hardware interface. </p>
<h1 style="page-break-before:always; "></h1>
<p>Safety Manual CBD1700369 D04</p>
<p> </p>
<p></p>
<p>2018 Vector Informatik GmbH </p>
<p>1.0 </p>
<p>38 / 126 </p>
<p><b>8 Safety Manual Cry</b></p>
<p><b> </b></p>
<p><b>8.1 Safety Features</b></p>
<p><b> </b></p>
<p><i>SMI-37419 </i></p>
<p>Cry provides the following safety features: </p>
<p>ID </p>
<p> </p>
<p>Safety feature </p>
<p> </p>
<p>CREQ-</p>
<p>121598 </p>
<p> </p>
<p>Cry shall provide services to compute MAC functions.</p>
<p> </p>
<p>CREQ-</p>
<p>121582 </p>
<p> </p>
<p>Cry shall provide services to verify MAC functions.</p>
<p> </p>
<p>CREQ-</p>
<p>139835 </p>
<p> </p>
<p>Cry shall provide a service to perform a self check which ensures valid CMAC </p>
<p>Verification. </p>
<p> </p>
<p>Note: It is assumed that cryptographic algorithms yield different results for different input </p>
<p>parameters. </p>
<p><b>8.2 Configuration constraints</b></p>
<p><b> </b></p>
<p><i>SMI-69642 </i></p>
<p>The user of MICROSAR Safe shall configure the following attributes: </p>
<p>o</p>
<p> </p>
<p>Set /MICROSAR/Cry_30_ai/Cry/CryGeneral/CrySelfTest to TRUE. </p>
<p>The user of MICROSAR Safe shall ensure that the switch is correctly generated. </p>
<p>The define </p>
<p>CRY_30_&lt;AI&gt;_SELF_TEST</p>
<p> which can be found in file Cry_30_&lt;ai&gt;_Cfg.h needs to </p>
<p>be set to STD_ON. </p>
<p>This requirement only applies if TSR-2 is considered a safety requirement. </p>
<p><b>8.3 Additional verification measures</b></p>
<p><b> </b></p>
<p><i>SMI-37421 </i></p>
<p>The user of MICROSAR Safe shall verify that the intended Cry service is called during </p>
<p>integration testing. </p>
<p>This requirement only applies if TSR-10 is considered a safety requirement. </p>
<p><i>SMI-69639 </i></p>
<p>The used Cry shall perform a self check of the CMAC verify functionality. </p>
<p>This requirement only applies if TSR-10 is considered a safety requirement. </p>
<p><b>8.4 Safety features required from other components</b></p>
<p><b> </b></p>
<p>This component does not require safety features from other components. </p>
<h1 style="page-break-before:always; "></h1>
<p>Safety Manual CBD1700369 D04</p>
<p> </p>
<p></p>
<p>2018 Vector Informatik GmbH </p>
<p>1.0 </p>
<p>39 / 126 </p>
<p><b>8.5 Dependencies to hardware</b></p>
<p><b> </b></p>
<p>This component does not use a direct hardware interface. </p>
<h1 style="page-break-before:always; "></h1>
<p>Safety Manual CBD1700369 D04</p>
<p> </p>
<p></p>
<p>2018 Vector Informatik GmbH </p>
<p>1.0 </p>
<p>40 / 126 </p>
<p><b>9 Safety Manual Cry (RH850 ICU-S)</b></p>
<p><b> </b></p>
<p><b>9.1 Safety Features</b></p>
<p><b> </b></p>
<p>No additional safety features are provided. </p>
<p><b>9.2 Configuration constraints</b></p>
<p><b> </b></p>
<p>No additional configuration constraints are required. </p>
<p><b>9.3 Additional verification measures</b></p>
<p><b> </b></p>
<p>No additional verification measures are required. </p>
<p><b>9.4 Safety features required from other components</b></p>
<p><b> </b></p>
<p>No additional safety features are required from other components. </p>
<p><b>9.5 Dependencies to hardware</b></p>
<p><b> </b></p>
<p>The safety manual Renesas Safety Application Note RH850/F1L Group, Revision 2.11 was </p>
<p>used during development. This component does not implement any requirement from that </p>
<p>safety manual. </p>
<p>This component implements SAN-F1L-1001 </p>
<p>This component requires exclusive access to the hardware registers of the unit it is </p>
<p>intended to control. See the technical reference for the hardware register names and used </p>
<p>hardware manuals. </p>
<h1 style="page-break-before:always; "></h1>
<p>Safety Manual CBD1700369 D04</p>
<p> </p>
<p></p>
<p>2018 Vector Informatik GmbH </p>
<p>1.0 </p>
<p>41 / 126 </p>
<p><b>10 Safety Manual Csm</b></p>
<p><b> </b></p>
<p><b>10.1 Safety features</b></p>
<p><b> </b></p>
<p>This component does not provide safety features. </p>
<p><b>10.2 Configuration constraints</b></p>
<p><b> </b></p>
<p>This component does not have configuration constraints. </p>
<p><b>10.3 Additional verification measures</b></p>
<p><b> </b></p>
<p>This component does not require additional verification measures. </p>
<p><b>10.4 Safety features required from other components</b></p>
<p><b> </b></p>
<p>This component does not require safety features from other components. </p>
<p><b>10.5 Dependencies to hardware</b></p>
<p><b> </b></p>
<p>This component does not use a direct hardware interface. </p>
<h1 style="page-break-before:always; "></h1>
<p>Safety Manual CBD1700369 D04</p>
<p> </p>
<p></p>
<p>2018 Vector Informatik GmbH </p>
<p>1.0 </p>
<p>42 / 126 </p>
<p><b>11 Safety Manual Dcm</b></p>
<p><b> </b></p>
<p><i>SMI-4672 </i></p>
<p>Please note: This version is not fully developed according to ISO 26262 ASIL D. Vector </p>
<p>provides an alternative argument for freedom from interference with respect to memory </p>
<p>though. The Silent methodology developed by Vector has been completely implemented </p>
<p>for this component. </p>
<p><b>11.1 Safety features</b></p>
<p><b> </b></p>
<p>This component does not provide safety features. </p>
<p><b>11.2 Configuration constraints</b></p>
<p><b> </b></p>
<p>The user of MICROSAR Safe shall configure the following attributes: </p>
<p><i>SMI-37385 </i></p>
<p>Set </p>
<p><i>/MICROSAR/Dcm/DcmConfigSet/DcmDsd/DcmDsdServiceTable/DcmDsdService/DcmDs</i></p>
<p><i>dSidTabFnc </i>to contain the corresponding diagnostic service handler in your application. </p>
<p>This has to be done for all diagnostic services, except the ones with SID: 0x10, 0x11, </p>
<p>0x14, 0x19, 0x27, 0x28, 0x31, 0x3E and 0x85. </p>
<p>– Note: Since all other diagnostic services are not handled by DCM, all their related </p>
<p>configuration parameters will be ignored during the code generation (e.g. DIDs, etc.) </p>
<p><i>SMI-64979 </i></p>
<p>Set <i>/MICROSAR/Dcm/DcmConfigSet/DcmGeneral/DcmDemApiVersion </i>to </p>
<p><i>DCM_DEM_API_4_01_02</i>, <i>DCM_DEM_API_4_02_01 </i>or <i>DCM_DEM_API_4_03_00</i>. </p>
<p><i>SMI-64980 </i></p>
<p>If the ECU shall support OBD communications, a dedicated connection to an OBD tester </p>
<p>has to be configured: </p>
<p><i>/MICROSAR/Dcm/DcmConfigSet/DcmDsl/DcmDslProtocol/DcmDslProtocolRow/DcmDslC</i></p>
<p><i>onnection</i>. </p>
<p><i>SMI-64981 </i></p>
<p>Verify that the container </p>
<p><i>/MICROSAR/Dcm/DcmConfigSet/DcmDsp/DcmDspVehicleSystemGroups </i>does not exist. </p>
<p><i>SMI-64982 </i></p>
<p>Set <i>/MICROSAR/Dcm/DcmConfigSet/DcmGeneral/DcmStateRecoveryAfterResetEnabled </i></p>
<p>to <i>false</i>. </p>
<p><i>SMI-64983 </i></p>
<p>Set </p>
<p><i>/MICROSAR/Dcm/DcmConfigSet/DcmGeneral/DcmSupportedIDCalculationSuppressionE</i></p>
<p><i>nabled </i>to <i>false</i>. </p>
<h1 style="page-break-before:always; "></h1>
<p>Safety Manual CBD1700369 D04</p>
<p> </p>
<p></p>
<p>2018 Vector Informatik GmbH </p>
<p>1.0 </p>
<p>43 / 126 </p>
<p>These settings are enforced by an MSSV plugin. </p>
<p><b>11.3 Additional verification measures</b></p>
<p><b> </b></p>
<p><i>SMI-37386 </i></p>
<p>The user of MICROSAR Safe shall verify that none of the generated functions in </p>
<p><i>Dcm_Lcfg.c </i>modifies the pointer passed as an argument, but only writes a new value to it. </p>
<p><i>SMI-37387 </i></p>
<p>The user of MICROSAR Safe shall verify that none of the generated functions in </p>
<p><i>Dcm_Lcfg.c </i>modifies the pointer passed as an argument, but only forwards it to another </p>
<p>function. </p>
<p><i>SMI-37388 </i></p>
<p>The user of MICROSAR Safe shall verify that none of the generated functions in </p>
<p><i>Dcm_Lcfg.c </i>modifies the pointer taken from a local variable, and that the function receiving </p>
<p>those pointer parameter(s) does not store the addresses after return. </p>
<p><i>SMI-40607 </i></p>
<p>The user of MICROSAR Safe shall verify that all generated <i>GetSeedFunc </i>functions in </p>
<p>table <i>Dcm_CfgSvc27SecLevelInfo </i>located in <i>Dcm_Lcfg.c </i>match the signature indicated by </p>
<p>the <i>GetSeedFuncClass </i>setting. </p>
<p><b>GetSeedFuncClass</b></p>
<p><b> </b></p>
<p><b>Expected Signature</b></p>
<p><b> </b></p>
<p>0</p>
<p> </p>
<p>Std_ReturnType &lt;name&gt;(Dcm_OpStatusType OpStatus, uint8 </p>
<p>*Seed, Dcm_NegativeResponseCodeType *ErrorCode)</p>
<p> </p>
<p>1</p>
<p> </p>
<p>Std_ReturnType &lt;name&gt;(const uint8 </p>
<p>*SecurityAccessDataRecord, Dcm_OpStatusType OpStatus, </p>
<p>uint8 *Seed, Dcm_NegativeResponseCodeType *ErrorCode)</p>
<p> </p>
<p> </p>
<p><i>SMI-49478 </i></p>
<p>The user of MICROSAR Safe shall verify that for all generated <i>GetSeedFunc </i>functions in </p>
<p>table <i>Dcm_CfgSvc27SecLevelInfo </i>located in <i>Dcm_Lcfg.c </i>no more data will be written than </p>
<p>specified by the corresponding <i>SeedResLength </i>setting. </p>
<p><i>SMI-64952 </i></p>
<p>The user of MICROSAR Safe shall verify that all generated <i>OpFunc </i>functions in table </p>
<p><i>Dcm_CfgRidMgrOpInfo </i>located in <i>Dcm_Lcfg.c </i>match the signature indicated by the </p>
<p><i>OpType </i>setting. </p>
<p><b>OpType</b></p>
<p><b> </b></p>
<p><b>Expected Signature</b></p>
<p><b> </b></p>
<p>0</p>
<p> </p>
<p>Std_ReturnType &lt;name&gt;(Dcm_OpStatusType OpStatus, </p>
<p>Dcm_NegativeResponseCodeType *ErrorCode)</p>
<p> </p>
<p>1</p>
<p> </p>
<p>Std_ReturnType &lt;name&gt;(const uint8 *&lt;InSignal&gt;, Dcm_OpStatusType </p>
<p>OpStatus, Dcm_NegativeResponseCodeType *ErrorCode)</p>
<p> </p>
<p>2</p>
<p> </p>
<p>Std_ReturnType &lt;name&gt;(const uint8 *&lt;InSignal&gt;, Dcm_OpStatusType </p>
<p>OpStatus, uint8 *&lt;OutSignal&gt;, Dcm_NegativeResponseCodeType </p>
<p>*ErrorCode)</p>
<p> </p>
<h1 style="page-break-before:always; "></h1>
<p>Safety Manual CBD1700369 D04</p>
<p> </p>
<p></p>
<p>2018 Vector Informatik GmbH </p>
<p>1.0 </p>
<p>44 / 126 </p>
<p>3</p>
<p> </p>
<p>Std_ReturnType &lt;name&gt;(Dcm_OpStatusType OpStatus, uint8 </p>
<p>*&lt;OutSignal&gt;, Dcm_NegativeResponseCodeType *ErrorCode)</p>
<p> </p>
<p>4</p>
<p> </p>
<p>Std_ReturnType &lt;name&gt;(const uint8 *&lt;InSignal&gt;, Dcm_OpStatusType </p>
<p>OpStatus, uint16 DataLength, Dcm_NegativeResponseCodeType </p>
<p>*ErrorCode)</p>
<p> </p>
<p>5</p>
<p> </p>
<p>Std_ReturnType &lt;name&gt;(const uint8 *&lt;InSignal&gt;, Dcm_OpStatusType </p>
<p>OpStatus, uint8 *&lt;OutSignal&gt;, uint16 DataLength, </p>
<p>Dcm_NegativeResponseCodeType *ErrorCode)</p>
<p> </p>
<p>6</p>
<p> </p>
<p>Std_ReturnType &lt;name&gt;(Dcm_OpStatusType OpStatus, uint8 </p>
<p>*&lt;OutSignal&gt;, uint16 *DataLength, Dcm_NegativeResponseCodeType </p>
<p>*ErrorCode)</p>
<p> </p>
<p>7</p>
<p> </p>
<p>Std_ReturnType &lt;name&gt;(const uint8 *&lt;InSignal&gt;, Dcm_OpStatusType </p>
<p>OpStatus, uint8 *&lt;OutSignal&gt;, uint16 *DataLength, </p>
<p>Dcm_NegativeResponseCodeType *ErrorCode)</p>
<p> </p>
<p>8</p>
<p> </p>
<p>Same as OpType 7</p>
<p> </p>
<p>9</p>
<p> </p>
<p>Std_ReturnType &lt;name&gt;(Dcm_OpStatusType OpStatus, </p>
<p>Dcm_MsgContextPtrType pMsgContext, Dcm_RidMgrRidLengthPtrType </p>
<p>DataLength, Dcm_NegativeResponseCodePtrType ErrorCode)</p>
<p> </p>
<p> </p>
<p><i>SMI-64953 </i></p>
<p>The user of MICROSAR Safe shall verify that for all generated <i>OpFunc </i>functions in table </p>
<p><i>Dcm_CfgRidMgrOpInfo </i>located in <i>Dcm_Lcfg.c </i>no more data will be written than specified </p>
<p>by the corresponding <i>ResMaxLength </i>setting. </p>
<p><i>SMI-65597 </i></p>
<p>The user of MICROSAR Safe shall verify all generated </p>
<p>Dcm_RidMgr_&lt;RID&gt;_&lt;Start|Stop|RequestResults&gt; functions implemented in <i>Dcm_Lcfg.c </i></p>
<p>that for each Dcm_DiagGetResDataRel(pMsgContext, <b>&lt;offset&gt;</b>) usage on out signals the </p>
<p>application does not write more data than (<i>ResMaxLength </i>- <b>&lt;offset&gt;</b>), specified by the </p>
<p>corresponding <i>ResMaxLength </i>setting in table <i>Dcm_CfgRidMgrOpInfo </i>located in </p>
<p>_Dcm_Lcfg.c. </p>
<p><b>11.4 Safety features required from other components</b></p>
<p><b> </b></p>
<p>This component does not require safety features from other components. </p>
<p><b>11.5 Dependencies to hardware</b></p>
<p><b> </b></p>
<p>This component does not use a direct hardware interface. </p>
<h1 style="page-break-before:always; "></h1>
<p>Safety Manual CBD1700369 D04</p>
<p> </p>
<p></p>
<p>2018 Vector Informatik GmbH </p>
<p>1.0 </p>
<p>45 / 126 </p>
<p><b>12 Safety Manual Det</b></p>
<p><b> </b></p>
<p><b>12.1 Safety features</b></p>
<p><b> </b></p>
<p>This component does not provide safety features. </p>
<p><b>12.2 Configuration constraints</b></p>
<p><b> </b></p>
<p>This component does not have configuration constraints. </p>
<p><i>SMI-60 </i></p>
<p>If the DET is used in series production the extended debug features shall be switched off, </p>
<p>because they are only relevant if a debugger is attached.  </p>
<p>The user of MICROSAR Safe shall configure and verify the following attribute: </p>
<p>o</p>
<p> </p>
<p>/MICROSAR/Det/DetGeneral/DetExtDebugSupport = False </p>
<p><b>12.3 Additional Verification measures</b></p>
<p><b> </b></p>
<p><i>SMI-4671 </i></p>
<p><b>The user of MICROSAR Safe shall verify that the enter and exit functions of the </b></p>
<p><b>DET’s exclusive area do not produce DET errors. </b></p>
<p>Verification can e.g. be performed by review. If these functions are mapped to OS services </p>
<p>it has to be checked that from the ErrorHook of the OS no DET error reporting functions </p>
<p>are called if the ErrorHook has been called due to an error in the OS service used for the </p>
<p>DET's exclusive area. </p>
<p><b>12.4 Safety features required from other components</b></p>
<p><b> </b></p>
<p>This component does not require safety features from other components. </p>
<p><b>12.5 Dependencies to hardware</b></p>
<p><b> </b></p>
<p>This component does not use a direct hardware interface. </p>
<h1 style="page-break-before:always; "></h1>
<p>Safety Manual CBD1700369 D04</p>
<p> </p>
<p></p>
<p>2018 Vector Informatik GmbH </p>
<p>1.0 </p>
<p>46 / 126 </p>
<p><b>13 Safety Manual E2E</b></p>
<p><b> </b></p>
<p><b>13.1 Safety features</b></p>
<p><b> </b></p>
<p><i>SMI-51 </i></p>
<p>E2E provides the following safety features: </p>
<p>ID </p>
<p> </p>
<p>Safety feature </p>
<p> </p>
<p>CREQ-</p>
<p>1086 </p>
<p> </p>
<p>E2E shall provide services to protect data.</p>
<p> </p>
<p>CREQ-</p>
<p>1087 </p>
<p> </p>
<p>E2E shall provide services to initialize the protection state.</p>
<p> </p>
<p>CREQ-</p>
<p>1088 </p>
<p> </p>
<p>E2E shall provide services to check protected data.</p>
<p> </p>
<p>CREQ-</p>
<p>1089 </p>
<p> </p>
<p>E2E shall provide services to initialize the check state.</p>
<p> </p>
<p>CREQ-</p>
<p>1175 </p>
<p> </p>
<p>E2E shall provide a service to map the check result to an adequate state machine </p>
<p>status</p>
<p> </p>
<p>CREQ-</p>
<p>1091 </p>
<p> </p>
<p>E2E shall provide a service to check data within a reception window.</p>
<p> </p>
<p>CREQ-</p>
<p>1092 </p>
<p> </p>
<p>E2E shall provide a service to initialize the state machine.</p>
<p> </p>
<p> </p>
<p><b>13.2 Configuration constraints</b></p>
<p><b> </b></p>
<p>This component has no configuration constraints. </p>
<p><b>13.3 Additional verification measures</b></p>
<p><b> </b></p>
<p><i>SMI-52 </i></p>
<p>The user of MICROSAR Safe shall verify that the E2E is used as intended. </p>
<p>This includes the verification of the parameters for end-to-end protection, e.g. data ID, and </p>
<p>the order of calls as described in the Technical Reference for creating and checking the </p>
<p>end-to-end protection. </p>
<p>The service to protect shall be called exactly once before sending. The service to check </p>
<p>shall be called exactly once for reception. </p>
<p>This requirement is fulfilled for the MICROSAR Safe E2E Protection Wrapper and </p>
<p>MICROSAR Safe E2E Transformer if used as specified in their respective safety manual </p>
<p>section. </p>
<h1 style="page-break-before:always; "></h1>
<p>Safety Manual CBD1700369 D04</p>
<p> </p>
<p></p>
<p>2018 Vector Informatik GmbH </p>
<p>1.0 </p>
<p>47 / 126 </p>
<p><b>13.4 Dependencies to other components</b></p>
<p><b> </b></p>
<p><b>13.4.1 Safety features required from other components</b></p>
<p><b> </b></p>
<p><i>SMI-50 </i></p>
<p>The used Crc library shall provide the CRC calculation routines as safety feature. </p>
<p>If the Crc library from MICROSAR Safe is used, this dependency is fulfilled. </p>
<p><b>13.4.2 Coexistence with other compoents</b></p>
<p><b> </b></p>
<p>This component does not require coexistence with other components. </p>
<p>It is assumed that the user of E2E has the adequate ASIL. </p>
<p><b>13.5 Dependencies to hardware</b></p>
<p><b> </b></p>
<p>This component does not use a direct hardware interface. </p>
<h1 style="page-break-before:always; "></h1>
<p>Safety Manual CBD1700369 D04</p>
<p> </p>
<p></p>
<p>2018 Vector Informatik GmbH </p>
<p>1.0 </p>
<p>48 / 126 </p>
<p><b>14 Safety Manual E2E Protection Wrapper</b></p>
<p><b> </b></p>
<p><b>Term/Abbreviation </b></p>
<p><b> </b></p>
<p><b>Definition</b></p>
<p><b> </b></p>
<p>E2EConfig</p>
<p> </p>
<p>E2E Protection Wrapper configuration file. The E2EConfig file is a data file </p>
<p>containing information about the protected areas within I-PDUs of a given </p>
<p>AUTOSAR system that are to be protected by the E2Elib and the E2EPW </p>
<p>and how they are to be protected. It serves as input for the E2EPWG.</p>
<p> </p>
<p>E2EPWG</p>
<p> </p>
<p>E2E Protection Wrapper Generator. It takes an E2EConfig file as input and </p>
<p>generates the E2E Protection Wraper code.</p>
<p> </p>
<p>node </p>
<p> </p>
<p>node name (also SWC)</p>
<p> </p>
<p>port or p </p>
<p> </p>
<p>port</p>
<p> </p>
<p>pde or o </p>
<p> </p>
<p>protected data element (PDE)</p>
<p> </p>
<p>direc</p>
<p> </p>
<p>direction for which a PDE-type is configured (<i>rx </i>or <i>tx</i>)</p>
<p> </p>
<p>The shortcuts <i>p </i>and <i>o </i>are used for the E2EPW API functions. For other identifiers (like </p>
<p>filenames) the notation <i>port </i>and <i>pde </i>is preferred.  </p>
<p>Some identifiers in this document include concatenations of these terms.  </p>
<p>E.g., <i>E2EPW_Write_p_o_direc () </i>(i.e., &quot;.. for a combination of some port <i>p</i>, some data </p>
<p>element <i>o </i>and some direction <i>direc</i>).  </p>
<p>A protected area (PA) is the container of configuration data for a certain protected data </p>
<p>element (PDE). </p>
<p><b>14.1 Safety features</b></p>
<p><b> </b></p>
<p><i>SMI-143 </i></p>
<p>This component provides the following safety features: </p>
<p>o</p>
<p> </p>
<p>Creation of end-to-end protection for data </p>
<p>o</p>
<p> </p>
<p>Check of end-to-end protection for data </p>
<p><b>14.2 Configuration constraints</b></p>
<p><b> </b></p>
<p><i>SMI-124 </i></p>
<p>The user of MICROSAR Safe shall correctly select and configure I-PDUs and their signal </p>
<p>groups (protected areas) that are to be protected by the end-to-end protection. That is, the </p>
<p>selection and configuration shall be made according to the communication safety </p>
<p>requirements of the system. This includes also the selection of the E2E profile. </p>
<p><i>SMI-125 </i></p>
<p>The user of MICROSAR Safe shall only configure PAs for the same ECU in one </p>
<p>E2EConfig. </p>
<p>If source code needs to be generated for different ECUs, then an individual E2EConfig file </p>
<p>must be defined for each ECU. </p>
<h1 style="page-break-before:always; "></h1>
<p>Safety Manual CBD1700369 D04</p>
<p> </p>
<p></p>
<p>2018 Vector Informatik GmbH </p>
<p>1.0 </p>
<p>49 / 126 </p>
<p><b>14.3 Additional verification measures</b></p>
<p><b> </b></p>
<p><b>14.3.1 Additional verification of E2EConfig file</b></p>
<p><b> </b></p>
<p><i>SMI-126 </i></p>
<p>The user of MICROSAR Safe shall ensure that the length of the following identifiers can be </p>
<p>uniquely identified by the compiler and linker. </p>
<p>The following strings are internal identifiers:  </p>
<p>o</p>
<p> </p>
<p>E2EPW_Marshal_pde_h </p>
<p>o</p>
<p> </p>
<p>E2EPW_CheckDeserial_pde_h </p>
<p>o</p>
<p> </p>
<p>E2EPW_node_port_pde_RX_H </p>
<p>o</p>
<p> </p>
<p>E2EPW_node_port_pde_TX_H </p>
<p>The following strings are external identifiers: </p>
<p>o</p>
<p> </p>
<p>E2EPW_Marshal_pde </p>
<p>o</p>
<p> </p>
<p>E2EPW_CheckDeserial_pde </p>
<p>o</p>
<p> </p>
<p>E2EPW_Init_p_o_rx </p>
<p>o</p>
<p> </p>
<p>E2EPW_Init_p_o_tx </p>
<p>o</p>
<p> </p>
<p>E2EPW_Get_SenderState_p_o </p>
<p>o</p>
<p> </p>
<p>E2EPW_Get_ReceiverState_p_o </p>
<p>o</p>
<p> </p>
<p>E2EPW_Write_p_o </p>
<p>o</p>
<p> </p>
<p>E2EPW_Read_p_o </p>
<p>This requirement applies for all PAs in the E2EConfig with <i>node</i>, <i>p(ort) </i>and <i>pde/o</i>. The </p>
<p>number of significant initial characters of the compiler and linker can usually be found in </p>
<p>their documentation. </p>
<p><i>SMI-127 </i></p>
<p>The user of MICROSAR Safe shall verify that all PAs in an E2EConfig with the same </p>
<p><i>PDE_Name </i>have the same values in the following fields: </p>
<p>o</p>
<p> </p>
<p>PDE_Type </p>
<p>o</p>
<p> </p>
<p>Byte_Order_CPU </p>
<p>o</p>
<p> </p>
<p>Bit_Order </p>
<p>o</p>
<p> </p>
<p>Bit_Counting </p>
<h1 style="page-break-before:always; "></h1>
<p>Safety Manual CBD1700369 D04</p>
<p> </p>
<p></p>
<p>2018 Vector Informatik GmbH </p>
<p>1.0 </p>
<p>50 / 126 </p>
<p>o</p>
<p> </p>
<p>Unused_Bit_Value </p>
<p>o</p>
<p> </p>
<p>Category </p>
<p>o</p>
<p> </p>
<p>Data_Length </p>
<p>o</p>
<p> </p>
<p>Is_Opaque </p>
<p><i>SMI-128 </i></p>
<p>The user of MICROSAR Safe shall verify that each signal in a PA is also be defined in all </p>
<p>other PAs with same <i>PDE_Name</i>, and the signals must also have the same values in the </p>
<p>following fields: </p>
<p>o</p>
<p> </p>
<p>Signal_Name </p>
<p>o</p>
<p> </p>
<p>Signal_Type </p>
<p>o</p>
<p> </p>
<p>Signal_Property </p>
<p>o</p>
<p> </p>
<p>Byte_Order </p>
<p>o</p>
<p> </p>
<p>Bit_Length </p>
<p>o</p>
<p> </p>
<p>Bit_Position </p>
<p><i>SMI-131 </i></p>
<p>The user of MICROSAR Safe shall verify that the attributes of each PA are defined in the </p>
<p>E2EConfig as intended. </p>
<p><b>Attribute</b></p>
<p><b> </b></p>
<p><b>Requirement</b></p>
<p><b> </b></p>
<p><i>PDE_Type</i></p>
<p> </p>
<p><i>PDE_Type </i>shall equal the data type of the corresponding </p>
<p>PDE in the AUTOSAR application and the RTE functions that </p>
<p>are invoked by the E2EPW code.</p>
<p> </p>
<p><i>Node_Name</i></p>
<p> </p>
<p><i>Node_Name </i>shall equal the name of the SWC. The </p>
<p>preprocessor sets <i>Node_Name </i>to the SWC's name. If you do </p>
<p>not use the preprocessor or manipulate the E2EConfig file, </p>
<p>then make sure that the requirement is still met.</p>
<p> </p>
<p><i>Direction</i></p>
<p> </p>
<p><i>Direction </i>shall equal the direction expected for the </p>
<p>corresponding PDE in the RTE.</p>
<p> </p>
<p><i>Byte_Order_CPU</i></p>
<p> </p>
<p><i>Byte_Order_CPU </i>shall equal the byte order of the used CPU.</p>
<p> </p>
<p><i>Unused_Bit_Value</i></p>
<p> </p>
<p><i>Unused_Bit_Value </i>shall equal the fillbit configured in the </p>
<p>COM layer for the I-PDU representation of the PDE.</p>
<p> </p>
<p><i>Check_DeSerial</i></p>
<p> </p>
<p><i>Check_DeSerial </i>shall be set to YES if it is required that the </p>
<p>E2EPW code checks for deserialization errors on the receiver </p>
<p>side.</p>
<p> </p>
<p><i>Includes_H</i></p>
<p> </p>
<p><i>Includes_H </i>shall list the header file that defines the data type </p>
<p>of the PDE, the header file that defines the type Rte_Instance </p>
<p>(if used) and the header file that defines RTE_E_OK. </p>
<p> </p>
<p><i>Includes_C</i></p>
<p> </p>
<p><i>Includes_C </i>shall list the header file(s) that declare(s) the </p>
<h1 style="page-break-before:always; "></h1>
<p>Safety Manual CBD1700369 D04</p>
<p> </p>
<p></p>
<p>2018 Vector Informatik GmbH </p>
<p>1.0 </p>
<p>51 / 126 </p>
<p>functions Rte_Read_p_o (), Rte_Write_p_o () and </p>
<p>Rte_IsUpdated_p_o () (if used). This requirement only </p>
<p>applies if the header files are not already included in the field </p>
<p>&quot;Includes_H&quot;.</p>
<p> </p>
<p><i>Category</i></p>
<p> </p>
<p><i>Category </i>shall equal the short name of the E2Elib profile </p>
<p>selected for the PDE.</p>
<p> </p>
<p><i>Data_Length</i></p>
<p> </p>
<p><i>Data_Length </i>shall equal the bit-length of the I-PDU </p>
<p>representation of the PDE.</p>
<p> </p>
<p><i>Data_ID </i>and <i>Data_ID_List</i></p>
<p> </p>
<p><i>Data_IDs and _Data_ID_List </i>shall fulfill the requirements of </p>
<p>the respective E2E profile.</p>
<p> </p>
<p><i>Max_Delta_Counter_Init</i></p>
<p> </p>
<p><i>Max_Delta_Counter_Init </i>shall equal the required initial value </p>
<p>of MaxDeltaCounter of the E2E library communication state </p>
<p>for the PDE.</p>
<p> </p>
<p><i>Data_Id_Mode</i></p>
<p> </p>
<p><i>Data_Id_Mode </i>shall equal the requirements from the </p>
<p>respective E2E profile.</p>
<p> </p>
<p><i>Offset</i></p>
<p> </p>
<p><i>Offset </i>shall equal the communication specification by the </p>
<p>OEM.</p>
<p> </p>
<p><i>Max_No_New_Or_Repeated_Data</i></p>
<p> </p>
<p><i>Max_No_New_Or_Repeated_Data </i>shall equal the </p>
<p>requirements from the respective E2E profile.</p>
<p> </p>
<p> </p>
<p><i>SMI-130 </i></p>
<p>The user of MICROSAR Safe shall verify that each signal that is configured in a PA shall </p>
<p>be assigned to a signal in the corresponding PDE in the RTE. Vice versa, each signal in </p>
<p>the PDE in the RTE shall be assigned to a signal in the corresponding PA. </p>
<p>If a signal in the RTE is not configured for protection, it will not be protected. </p>
<p>Note that the set of signals in the PA represents the corresponding signal group in the </p>
<p>PDE. </p>
<p><b>Attribute </b></p>
<p><b> </b></p>
<p><b>Requirement </b></p>
<p><b> </b></p>
<p><i>Port_Name</i></p>
<p> </p>
<p><i>Port_Name </i>shall equal the Port Prototype name that is used by the RTE for </p>
<p>the related data element in the RTE.</p>
<p> </p>
<p><i>VDP_Name</i></p>
<p> </p>
<p><i>VDP_Name </i>shall always be equal to <i>PDE_Name</i>. <i>VDP_Name </i>shall equal the </p>
<p>VDP name that is used by the RTE for the related data element in the RTE.</p>
<p> </p>
<p><i>Is_Opaque</i></p>
<p> </p>
<p><i>Is_Opaque </i>shall always be FALSE. The option <i>Is_Opaque </i>is for future </p>
<p>versions of the E2EPW. It allows to pass PAs as UINT8-arrays without the </p>
<p>necessity of marshaling. The E2EPW then treats the data element as opaque </p>
<p>(no marshaling is performed).</p>
<p> </p>
<p><i>Use_Call_By_Ref</i></p>
<p> </p>
<p><i>Use_Call_By_Ref </i>shall be YES if the data element is not a primitive data type </p>
<p>or configured for reception. If YES, then a pointer to the data element is </p>
<p>passed as an argument to <i>Rte_Read_p_o() </i>and <i>Rte_Write_p_o()</i>, </p>
<p>respectively (&quot;call by reference&quot;). If NO, then the value of data element is </p>
<p>passed (&quot;call by value&quot;). Note that for <i>Rte_Read_p_o()</i>, <i>Use_Call_By_Ref </i>is </p>
<p>always YES.</p>
<p> </p>
<p><i>Use_Rte_Update</i></p>
<p> </p>
<p><i>Use_Rte_Update </i>shall be YES if and only if the protection wrapper shall </p>
<p>check for new received data elements on the RTE level before calling </p>
<p><i>Rte_Read_p_o()</i>. If YES, then <i>Rte_Read_p_o() </i>is only called if </p>
<h1 style="page-break-before:always; "></h1>
<p>Safety Manual CBD1700369 D04</p>
<p> </p>
<p></p>
<p>2018 Vector Informatik GmbH </p>
<p>1.0 </p>
<p>52 / 126 </p>
<p><i>Rte_IsUpdated_p_o() </i>returns TRUE before. If NO, then <i>Rte_Read_p_o() </i>is </p>
<p>always called. Note that <i>Rte_IsUpdated_p_o() </i>is only available in AUTOSAR </p>
<p>4.0 or higher.</p>
<p> </p>
<p><i>Use_Rte_Instance</i></p>
<p> </p>
<p><i>Use_Rte_Instance </i>shall be YES if and only if the <i>instance </i>parameter is </p>
<p>required as an argument for <i>Rte_Write_p_o()</i>, <i>Rte_Read_p_o() </i>and </p>
<p><i>Rte_IsUpdated_p_o()</i>. Note that the <i>instance </i>parameter is currently not </p>
<p>interpreted by the E2EPW, hence different instances share the same E2EPW </p>
<p>and E2E library code and data. Therefore, <i>Use_Rte_Instance </i>may only be </p>
<p>YES if each port <i>p </i>and data element <i>o </i>is not used by more than one instance.</p>
<p> </p>
<p>The user of MICROSAR Safe shall verify that the combination of <i>Port_Name </i>and </p>
<p><i>VDP_Name </i>is unique over all PDEs for the same node. </p>
<p><i>SMI-132 </i></p>
<p>The user of MICROSAR Safe shall verify that the attributes of each signal in a PA are </p>
<p>defined in the E2EConfig as intended. </p>
<p><b>Attribute </b></p>
<p><b> </b></p>
<p><b>Requirement </b></p>
<p><b> </b></p>
<p><i>Signal_Name</i></p>
<p> </p>
<p><i>Signal_Name </i>shall equal the name of the corresponding signal in the data element </p>
<p>in the RTE.</p>
<p> </p>
<p><i>Signal_Type</i></p>
<p> </p>
<p><i>Signal_Type </i>shall equal the type of the corresponding signal in the data element in </p>
<p>the RTE.</p>
<p> </p>
<p><i>Byte_Order</i></p>
<p> </p>
<p><i>Byte_Order </i>shall equal the byte order that is defined for the corresponding signal in </p>
<p>the I-PDU for the I-PDU mapping in the COM layer.</p>
<p> </p>
<p><i>Bit_Length</i></p>
<p> </p>
<p><i>Bit_Length </i>shall equal the bit length of the corresponding signal in the I-PDU.</p>
<p> </p>
<p><i>Bit_Position</i></p>
<p> </p>
<p><i>Bit_Position </i>shall equal the start-bit position of the corresponding signal relative to </p>
<p>the protected signal group (protected area) and depending on the endianess. If the </p>
<p>signal is mapped with Little Endian in the I-PDU, then <i>Bit_Position </i>is the least </p>
<p>significant bit's position in the least significant byte. If the signal is mapped with Big </p>
<p>Endian in the I-PDU, then <i>Bit_Position </i>is the most significant bit's position in the </p>
<p>most significant byte. For a signal of type UINT8N, the <i>Bit_Position </i>is the least </p>
<p>significant bit's position in the byte with the lowest address.</p>
<p> </p>
<p> </p>
<p><i>SMI-133 </i></p>
<p>The user of MICROSAR Safe shall verify that for all instances of a PDE of the </p>
<p>corresponding PA in the various E2EConfig files, </p>
<p>o</p>
<p> </p>
<p>the profile configurations are equal throughout all PA instances (except </p>
<p><i>Max_Delta_Counter_Init</i>), </p>
<p>o</p>
<p> </p>
<p>all signal configurations are equal throughout all PA instances (except <i>Signal_Name </i></p>
<p>and <i>Signal_ID</i>) and </p>
<p>o</p>
<p> </p>
<p>the following field values are equal throughout all PA instances: </p>
<p>- <i>Bit_Order  </i></p>
<p>- <i>Bit_Counting  </i></p>
<p>- <i>Unused_Bit_Value </i></p>
<h1 style="page-break-before:always; "></h1>
<p>Safety Manual CBD1700369 D04</p>
<p> </p>
<p></p>
<p>2018 Vector Informatik GmbH </p>
<p>1.0 </p>
<p>53 / 126 </p>
<p>For example, a sender PDE and a receiver PDE on different ECUs must be configured in </p>
<p>different E2EConfig files. </p>
<p><b>14.3.2 Additional verification of generator execution</b></p>
<p><b> </b></p>
<p><i>SMI-134 </i></p>
<p>The user of MICROSAR Safe shall ensure that the output path for the generated E2EPW </p>
<p>code (command-line argument &quot;outpath-path&quot;) shall be empty before the generator is </p>
<p>started. </p>
<p>If the output path is not empty, code from previous generation runs may be accidentally </p>
<p>integrated into the system. </p>
<p>This requirement is fulfilled if generation is performed using DaVinci Configurator PRO. </p>
<p><i>SMI-135 </i></p>
<p>The user of MICROSAR Safe shall inspect the messages of the E2EPW generator </p>
<p>execution. </p>
<p>If the generator aborts the generation process with an error message, the (partially) </p>
<p>generated output files shall not be used in the system. </p>
<p>If the generator detects an error, a message starting with &quot;ERROR&quot; is displayed on the </p>
<p>standard output. </p>
<p>If the generator shows a warning message starting with &quot;WARNING&quot;, the user of </p>
<p>MICROSAR Safe shall ensure that the cause of the warning does not invalidate the </p>
<p>generated output files. </p>
<p>The generator shows a warning message in the following cases: </p>
<p>1. The E2EConfig file ends with some text after the configuration definitions of all protected </p>
<p>areas. </p>
<p>2. The E2EConfig file has at least two PDEs defined with the same <i>PDE_Name</i>. </p>
<p>It is strongly recommended to analyze these cases. </p>
<p><i>SMI-142 </i></p>
<p>The user of MICROSAR Safe shall verify that each generated file is complete, i.e. each file </p>
<p>must end with an &quot;EOF&quot; comment.  </p>
<p><b>14.3.3 Additional verification for application</b></p>
<p><b> </b></p>
<p><i>SMI-136 </i></p>
<p>The user of MICROSAR Safe shall verify that the E2E library communication states are </p>
<p>not modified by the application while an E2EPW API function is running. </p>
<p>If a pointer to the senders/receivers E2E library communication state is required, it shall be </p>
<p>queried with <i>E2EPW_GetProtectState_p_o() </i>/ <i>E2EPW_GetCheckState_p_o()</i>. </p>
<p>Make sure that the values of the E2E library communication state are only read and not </p>
<p>altered by the application or a module other than the E2EPW or the E2E library unless </p>
<p>intended so. </p>
<p>For special purposes, modification of the sequence counter by the application may be </p>
<p>useful or required. Be aware that this is done in the responsibility of the user of </p>
<p>MICROSAR Safe. </p>
<p><i>SMI-137 </i></p>
<h1 style="page-break-before:always; "></h1>
<p>Safety Manual CBD1700369 D04</p>
<p> </p>
<p></p>
<p>2018 Vector Informatik GmbH </p>
<p>1.0 </p>
<p>54 / 126 </p>
<p>The user of MICROSAR Safe shall verify that, when a data element is passed to </p>
<p><i>E2EPW_Write_p_o() </i>or <i>E2EPW_Read_p_o() </i>using call by reference, then the data </p>
<p>element is not altered while <i>E2EPW_Write_p_o() </i>or <i>E2EPW_Read_p_o() </i>is running.  </p>
<p><i>SMI-141 </i></p>
<p>The user of MICROSAR Safe shall verify that an E2EPW API function for a certain <i>port </i>/ </p>
<p><i>pde </i>combination is not called while another or the same E2EPW API function is running for </p>
<p>the same combination. </p>
<p>This applies to the following functions: </p>
<p>o</p>
<p> </p>
<p><i>E2EPW_WriteInit_p_o()</i>, Note: <i>E2EPW_WriteInit_p_o() </i>is not reentrant </p>
<p>o</p>
<p> </p>
<p><i>E2EPW_Get_ProtectState_p_o() </i></p>
<p>o</p>
<p> </p>
<p><i>E2EPW_Write_p_o() </i></p>
<p>o</p>
<p> </p>
<p><i>E2EPW_ReadInit_p_o()</i>, Note: <i>E2EPW_ReadInit_p_o() </i>is not reentrant </p>
<p>o</p>
<p> </p>
<p><i>E2EPW_Get_CheckState_p_o() </i></p>
<p>o</p>
<p> </p>
<p><i>E2EPW_Read_p_o() </i></p>
<p><i>SMI-138 </i></p>
<p>The user of MICROSAR Safe shall verify that the E2E library communication state is </p>
<p>checked for plausibility with <i>E2EPW_Get[Protect|Check]State_p_o() </i>after a startup/restart. </p>
<p><i>SMI-139 </i></p>
<p>The user of MICROSAR Safe shall verify that that <i>E2EPW_ReadInit_p_o() </i>and </p>
<p><i>E2EPW_WriteInit_p_o() </i>is only called at partition startup/restart.  </p>
<p>Note: <i>E2EPW_ReadInit_p_o() </i>and <i>E2EPW_WriteInit_p_o() </i>have to be called prior to any </p>
<p>other E2EPW API function call. </p>
<p>This initializes the communication state on sender and receiver side. The E2E library </p>
<p>communication state should be initialized when the application is initialized or reset. </p>
<p><i>SMI-140 </i></p>
<p>The user of MICROSAR Safe shall verify that the intended parameters are passed. This </p>
<p>especially applies to: </p>
<p>o</p>
<p> </p>
<p>instance IDs. Note: only one instance ID is used for each <i>p</i>, <i>o </i>combination. </p>
<p>o</p>
<p> </p>
<p>AppData parameter for <i>E2EPW_Write_p_o() </i>and <i>E2EPW_Read_p_o() </i></p>
<p><b>14.4 Dependencies to other components</b></p>
<p><b> </b></p>
<p><b>14.4.1 Safety features required from other components</b></p>
<p><b> </b></p>
<p><i>SMI-129 </i></p>
<p>This component requires the initialization, protection, mapping and check features from the </p>
<p>E2E library as safety features. </p>
<h1 style="page-break-before:always; "></h1>
<p>Safety Manual CBD1700369 D04</p>
<p> </p>
<p></p>
<p>2018 Vector Informatik GmbH </p>
<p>1.0 </p>
<p>55 / 126 </p>
<p><b>14.4.2 Coexistence with other components</b></p>
<p><b> </b></p>
<p><i>SMI-144 </i></p>
<p>This component requires coexistence with the used Rte. </p>
<p>It is assumed that the user of E2EPW has the required ASIL. </p>
<p><b>14.5 Dependencies to hardware</b></p>
<p><b> </b></p>
<p>This component does not use a direct hardware interface. </p>
<h1 style="page-break-before:always; "></h1>
<p>Safety Manual CBD1700369 D04</p>
<p> </p>
<p></p>
<p>2018 Vector Informatik GmbH </p>
<p>1.0 </p>
<p>56 / 126 </p>
<p><b>15 Safety Manual EcuM</b></p>
<p><b> </b></p>
<p><b>15.1 Safety features</b></p>
<p><b> </b></p>
<p><i>SMI-34 </i></p>
<p>EcuM Flex provides the following safety features: </p>
<p>ID </p>
<p> </p>
<p>Safety feature </p>
<p> </p>
<p>CREQ-</p>
<p>470 </p>
<p> </p>
<p>EcuM shall provide a service to initialize the ECU management.</p>
<p> </p>
<p>CREQ-</p>
<p>454 </p>
<p> </p>
<p>EcuM shall provide ECU initialization on multiple cores.</p>
<p> </p>
<p>CREQ-</p>
<p>543 </p>
<p> </p>
<p>EcuM shall perform validation of all postbuild configurable BSW module configuration </p>
<p>parameters.</p>
<p> </p>
<p>CREQ-</p>
<p>375 </p>
<p> </p>
<p>EcuM shall provide a callout to set programmable interrupts during the startup phase.</p>
<p> </p>
<p>CREQ-</p>
<p>525 </p>
<p> </p>
<p>EcuM shall provide a callout to initialize driver prior the start of the OS.</p>
<p> </p>
<p>CREQ-</p>
<p>488 </p>
<p> </p>
<p>EcuM shall provide a callout to determine the Postbuild configuration data.</p>
<p> </p>
<p>CREQ-</p>
<p>505 </p>
<p> </p>
<p>EcuM shall provide a callout to initialize drivers prior Postbuild data is available.</p>
<p> </p>
<p>CREQ-</p>
<p>391 </p>
<p> </p>
<p>EcuM shall provide a callout to reset the ECU.</p>
<p> </p>
<p>CREQ-</p>
<p>381 </p>
<p> </p>
<p>EcuM shall provide a callout to generate a RAM Hash.</p>
<p> </p>
<p>CREQ-</p>
<p>440 </p>
<p> </p>
<p>EcuM shall provide a callout to check the RAM Hash.</p>
<p> </p>
<p>CREQ-</p>
<p>509 </p>
<p> </p>
<p>EcuM shall provide a callout to re-initialize drivers during a restart.</p>
<p> </p>
<p>CREQ-</p>
<p>445 </p>
<p> </p>
<p>EcuM shall provide a service to set the current shutdown target of the ECU.</p>
<p> </p>
<p>CREQ-</p>
<p>483 </p>
<p> </p>
<p>EcuM shall provide a service to get the shutdown target of the ECU.</p>
<p> </p>
<p>CREQ-</p>
<p>372 </p>
<p> </p>
<p>EcuM shall provide a service to initiate the ECU shutdown depending on the </p>
<p>shutdown target.</p>
<p> </p>
<p>CREQ-</p>
<p>431 </p>
<p> </p>
<p>EcuM shall provide a callout to notify Errors from the ECU management.</p>
<p> </p>
<p>CREQ-</p>
<p>421 </p>
<p> </p>
<p>EcuM shall provide a service to complete the ECU shutdown process.</p>
<p> </p>
<p>CREQ-</p>
<p>535 </p>
<p> </p>
<p>EcuM shall provide a service to initiate an ECU shutdown.</p>
<p> </p>
<p>CREQ-</p>
<p>699 </p>
<p> </p>
<p>EcuM shall indicate mode changes to the RTE.</p>
<p> </p>
<p>CREQ-</p>
<p>EcuM shall provide a service to request the run state.</p>
<p> </p>
<h1 style="page-break-before:always; "></h1>
<p>Safety Manual CBD1700369 D04</p>
<p> </p>
<p></p>
<p>2018 Vector Informatik GmbH </p>
<p>1.0 </p>
<p>57 / 126 </p>
<p>691 </p>
<p> </p>
<p>CREQ-</p>
<p>692 </p>
<p> </p>
<p>EcuM shall provide a service to release the run state.</p>
<p> </p>
<p>CREQ-</p>
<p>693 </p>
<p> </p>
<p>EcuM shall provide a service to release the post run state.</p>
<p> </p>
<p>CREQ-</p>
<p>690 </p>
<p> </p>
<p>EcuM shall provide a service to request the post run state.</p>
<p> </p>
<p>Note: RAM Hash generation and checking callouts are only available when sleep modes </p>
<p>are configured. </p>
<p><i>SMI-286 </i></p>
<p>EcuM Fix provides the following safety features: </p>
<p>ID </p>
<p> </p>
<p>Safety feature </p>
<p> </p>
<p>CREQ-</p>
<p>470 </p>
<p> </p>
<p>EcuM shall provide a service to initialize the ECU management.</p>
<p> </p>
<p>CREQ-</p>
<p>454 </p>
<p> </p>
<p>EcuM shall provide ECU initialization on multiple cores.</p>
<p> </p>
<p>CREQ-</p>
<p>543 </p>
<p> </p>
<p>EcuM shall perform validation of all postbuild configurable BSW module configuration </p>
<p>parameters.</p>
<p> </p>
<p>CREQ-</p>
<p>375 </p>
<p> </p>
<p>EcuM shall provide a callout to set programmable interrupts during the startup phase.</p>
<p> </p>
<p>CREQ-</p>
<p>525 </p>
<p> </p>
<p>EcuM shall provide a callout to initialize driver prior the start of the OS.</p>
<p> </p>
<p>CREQ-</p>
<p>488 </p>
<p> </p>
<p>EcuM shall provide a callout to determine the Postbuild configuration data.</p>
<p> </p>
<p>CREQ-</p>
<p>505 </p>
<p> </p>
<p>EcuM shall provide a callout to initialize drivers prior Postbuild data is available.</p>
<p> </p>
<p>CREQ-</p>
<p>391 </p>
<p> </p>
<p>EcuM shall provide a callout to reset the ECU.</p>
<p> </p>
<p>CREQ-</p>
<p>381 </p>
<p> </p>
<p>EcuM shall provide a callout to generate a RAM Hash.</p>
<p> </p>
<p>CREQ-</p>
<p>440 </p>
<p> </p>
<p>EcuM shall provide a callout to check the RAM Hash.</p>
<p> </p>
<p>CREQ-</p>
<p>509 </p>
<p> </p>
<p>EcuM shall provide a callout to re-initialize drivers during a restart.</p>
<p> </p>
<p>CREQ-</p>
<p>445 </p>
<p> </p>
<p>EcuM shall provide a service to set the current shutdown target of the ECU.</p>
<p> </p>
<p>CREQ-</p>
<p>372 </p>
<p> </p>
<p>EcuM shall provide a service to initiate the ECU shutdown depending on the </p>
<p>shutdown target.</p>
<p> </p>
<p>CREQ-</p>
<p>431 </p>
<p> </p>
<p>EcuM shall provide a callout to notify Errors from the ECU management.</p>
<p> </p>
<p>CREQ-</p>
<p>421 </p>
<p> </p>
<p>EcuM shall provide a service to complete the ECU shutdown process.</p>
<p> </p>
<p>CREQ-</p>
<p>699 </p>
<p> </p>
<p>EcuM shall indicate mode changes to the RTE.</p>
<p> </p>
<h1 style="page-break-before:always; "></h1>
<p>Safety Manual CBD1700369 D04</p>
<p> </p>
<p></p>
<p>2018 Vector Informatik GmbH </p>
<p>1.0 </p>
<p>58 / 126 </p>
<p>CREQ-</p>
<p>703 </p>
<p> </p>
<p>EcuM shall provide the ECU state machine.</p>
<p> </p>
<p>CREQ-</p>
<p>707 </p>
<p> </p>
<p>EcuM shall trigger the NvM write job in shutdown path.</p>
<p> </p>
<p>CREQ-</p>
<p>668 </p>
<p> </p>
<p>EcuM shall provide a callback which is called by the NvM to notify the end of the write </p>
<p>all job.</p>
<p> </p>
<p>CREQ-</p>
<p>691 </p>
<p> </p>
<p>EcuM shall provide a service to request the run state.</p>
<p> </p>
<p>CREQ-</p>
<p>692 </p>
<p> </p>
<p>EcuM shall provide a service to release the run state.</p>
<p> </p>
<p>CREQ-</p>
<p>693 </p>
<p> </p>
<p>EcuM shall provide a service to release the post run state.</p>
<p> </p>
<p>CREQ-</p>
<p>690 </p>
<p> </p>
<p>EcuM shall provide a service to request the post run state.</p>
<p> </p>
<p>CREQ-</p>
<p>694 </p>
<p> </p>
<p>EcuM shall provide a service to kill all post run requests.</p>
<p> </p>
<p>CREQ-</p>
<p>695 </p>
<p> </p>
<p>EcuM shall provide a service to kill all run requests.</p>
<p> </p>
<p>Note: RAM Hash generation and checking callouts are only available when sleep modes </p>
<p>are configured. </p>
<p><i>SMI-38 </i></p>
<p>If EcuM service to complete the shutdown process is called prior to initiate the shutdown </p>
<p>process, no shutdown will be performed. </p>
<p><b>15.2 Configuration constraints</b></p>
<p><b> </b></p>
<p><i>SMI-36 </i></p>
<p>The user of MICROSAR Safe shall configure the following attribute: </p>
<p>o</p>
<p> </p>
<p>Set /MICROSAR/EcuM/EcuMFlexGeneral/EcuMEnableDefBehaviour to FALSE. </p>
<p>o</p>
<p> </p>
<p>Do not configure any reference in </p>
<p>/MICROSAR/EcuM/EcuMConfiguration/EcuMCommonConfiguration/EcuMWakeup</p>
<p>Source/EcuMComMPNCRef to a PNC for a wakeup source  </p>
<p>These settings are enforced by MSSV plugins. </p>
<p><b>15.3 Additional verification measures</b></p>
<p><b> </b></p>
<p><i>SMI-39 </i></p>
<p><b>The user of MICROSAR Safe shall verify the intended initialization procedure during </b></p>
<p><b>integration testing. </b></p>
<p>The user of MICROSAR Safe can verify the intended initialization procedure by performing </p>
<p>the following tests: </p>
<h1 style="page-break-before:always; "></h1>
<p>Safety Manual CBD1700369 D04</p>
<p> </p>
<p></p>
<p>2018 Vector Informatik GmbH </p>
<p>1.0 </p>
<p>59 / 126 </p>
<p>o</p>
<p> </p>
<p>Start the ECU and verify that the intended initalization routines are called. This </p>
<p>needs to be verified for each Postbuild-selectable configuration. </p>
<p>o</p>
<p> </p>
<p>Corrupt the Postbuild data (but not corresponding CRC) in non-volatile memory and </p>
<p>start the ECU. Then verify that the corruption is detected by EcuM. </p>
<p>o</p>
<p> </p>
<p>Start the ECU and verify that the intended Postbuild-selectable configuration is </p>
<p>used by the EcuM. This needs to be verified for each Postbuild-selectable </p>
<p>configuration. </p>
<p>A start of the ECU includes a &quot;cold-start&quot;, reset as well as wake-up from sleep if </p>
<p>applicable. </p>
<p>This requirement only applies if TSR-1 is considered a safety requirement. </p>
<p><i>SMI-35 </i></p>
<p><b>The user of MICROSAR Safe shall verify the intended shutdown procedure during </b></p>
<p><b>integration testing. </b></p>
<p>The user of MICROSAR Safe can verify the intended shutdown procedure by shutting </p>
<p>down the ECU with all configured shutdown paths. A shutdown path is a call to the service </p>
<p>that sets the current shutdown target with a relevant (e.g. combination used to achieve </p>
<p>safe state) combination of its parameters. For each shutdown path the intended final state </p>
<p>of the ECU (e.g. sleep, shutdown, reset) and the method of reset (e.g. using MCU or </p>
<p>Watchdog) is used. </p>
<p>The user of MICROSAR Safe shall also consider the service to initiate the ECU shutdown </p>
<p>depending on the shutdown target as a possible shutdown path. </p>
<p>The user of MICROSAR Safe shall also verify the default shutdown target. </p>
<p>This requirement only applies if TSR-3 is considered as a safety requirement. </p>
<p><i>SMI-40 </i></p>
<p><b>The user of MICROSAR Safe shall verify that the memory region used for RAM hash </b></p>
<p><b>generation and verification is as intended. </b></p>
<p>Verification can be e.g. performed by review. </p>
<p><b>15.4 Safety features required from other components</b></p>
<p><b> </b></p>
<p><i>SMI-42 </i></p>
<p>The used operating system shall provide the service to get the core ID as safety feature. </p>
<p>If the operating system from MICROSAR Safe is used, this dependency is fulfilled. </p>
<p>This requirement only applies if TSR-1 is considered a safety requirement. </p>
<h1 style="page-break-before:always; "></h1>
<p>Safety Manual CBD1700369 D04</p>
<p> </p>
<p></p>
<p>2018 Vector Informatik GmbH </p>
<p>1.0 </p>
<p>60 / 126 </p>
<p><b>15.5 Dependencies to hardware</b></p>
<p><b> </b></p>
<p>This component does not use a direct hardware interface. </p>
<h1 style="page-break-before:always; "></h1>
<p>Safety Manual CBD1700369 D04</p>
<p> </p>
<p></p>
<p>2018 Vector Informatik GmbH </p>
<p>1.0 </p>
<p>61 / 126 </p>
<p><b>16 Safety Manual Fee</b></p>
<p><b> </b></p>
<p><b>16.1 Safety features</b></p>
<p><b> </b></p>
<p>This component does not provide safety features. </p>
<p><b>16.2 Configuration constraints</b></p>
<p><b> </b></p>
<p>This component does not have configuration constraints. </p>
<p><b>16.3 Additional Verification measures</b></p>
<p><b> </b></p>
<p><i>SMI-1292 </i></p>
<p>The user of MICROSAR Safe shall verify that valid notification routines are provided to </p>
<p>FEE via configuration. </p>
<p>'FeeNvmJobEndNotification' and 'FeeNvmJobErrorNotification' callbacks are called by </p>
<p>FEE using a function pointer. </p>
<p><b>16.4 Safety features required from other components</b></p>
<p><b> </b></p>
<p>This component does not require safety features from other components. </p>
<p><i>SMI-1643 </i></p>
<p>This component requires coexistence with MemIf, NvM, FlsDrv and Det components if the </p>
<p>interface for those components is configured. </p>
<p><b>16.5 Dependencies to hardware</b></p>
<p><b> </b></p>
<p>This component does not use a direct hardware interface. </p>
<h1 style="page-break-before:always; "></h1>
<p>Safety Manual CBD1700369 D04</p>
<p> </p>
<p></p>
<p>2018 Vector Informatik GmbH </p>
<p>1.0 </p>
<p>62 / 126 </p>
<p><b>17 Safety Manual Fr</b></p>
<p><b> </b></p>
<p><b>17.1 Safety features</b></p>
<p><b> </b></p>
<p>This component does not provide safety features. </p>
<p><b>17.2 Configuration constraints</b></p>
<p><b> </b></p>
<p>This component does not have configuration constraints. </p>
<p><b>17.3 Additional verification measures</b></p>
<p><b> </b></p>
<p><i>SMI-345 </i></p>
<p>The user of MICROSAR Safe shall verify that the pointer (<i>Fr_NmVectorPtr</i>) passed to the </p>
<p>function <i>Fr_GetNMVector </i>references a valid memory location and that the size of the array </p>
<p>referenced by parameter <i>Fr_NmVectorPtr </i>is greater than or equal to the value of the </p>
<p>BSWMD parameter </p>
<p><i>/MICROSAR/FrIf/FrIfConfig/FrIfCluster/FrIfGNetworkManagementVectorLength</i>. </p>
<p>The generated value of the BSWMD parameter can be found in the files: </p>
<p>o</p>
<p> </p>
<p>Fr_Cfg.h: <i>FR_NM_VECTOR_LENGTH </i>and <i>NmVectorLength </i>in struct </p>
<p><i>Fr_VConfigType </i></p>
<p>o</p>
<p> </p>
<p>Fr_LCfg.c: <i>Fr_NmVectorLength </i></p>
<p>This function is called indirectly by the FrNm via <i>FrIf_GetNMVector</i>. </p>
<p>This interface only passes a pointer without a length. The length is statically configured in </p>
<p>the FrNm. </p>
<p><b>17.4 Safety features required from other components</b></p>
<p><b> </b></p>
<p>This component does not require safety features from other components. </p>
<p><b>17.5 Dependencies to hardware</b></p>
<p><b> </b></p>
<p>The dependencies of this component to hardware is described in the platform specific part </p>
<p>of the Safety Manual. </p>
<h1 style="page-break-before:always; "></h1>
<p>Safety Manual CBD1700369 D04</p>
<p> </p>
<p></p>
<p>2018 Vector Informatik GmbH </p>
<p>1.0 </p>
<p>63 / 126 </p>
<p><b>1 Safety Manual Fr (V85x)</b></p>
<p><b> </b></p>
<p><b>1.1 Safety features</b></p>
<p><b> </b></p>
<p>This component does not provide safety features. </p>
<p><b>1.2 Configuration constraints</b></p>
<p><b> </b></p>
<p><i>SMI-1037 </i></p>
<p>The user of MICROSAR Safe shall configure the following attributes: </p>
<p>o</p>
<p> </p>
<p>Set /MICROSAR/Fr/FrGeneral/FrDirectBufferAccessEnable to FALSE. </p>
<p>o</p>
<p> </p>
<p>Just a single /MICROSAR/FrIf/FrIfConfig/FrIfCluster container exists. </p>
<p>These settings are enforced by an MSSV plugin. </p>
<p><b>1.3 Additional verification measures</b></p>
<p><b> </b></p>
<p>This component does not require additional verification measures. </p>
<p><b>1.4 Safety features required from other components</b></p>
<p><b> </b></p>
<p>This component does not require safety features from other components. </p>
<p><b>1.5 Dependencies to hardware</b></p>
<p><b> </b></p>
<p><i>SMI-1034 </i></p>
<p>This component requires exclusive access to the hardware registers of the unit it is </p>
<p>intended to control. See the technical reference for the hardware register names and used </p>
<p>hardware manuals. </p>
<h1 style="page-break-before:always; "></h1>
<p>Safety Manual CBD1700369 D04</p>
<p> </p>
<p></p>
<p>2018 Vector Informatik GmbH </p>
<p>1.0 </p>
<p>64 / 126 </p>
<p><b>19 Safety Manual FrIf</b></p>
<p><b> </b></p>
<p><b>19.1 Safety features</b></p>
<p><b> </b></p>
<p>This component does not provide safety features. </p>
<p><b>19.2 Configuration constraints</b></p>
<p><b> </b></p>
<p><i>SMI-1103 </i></p>
<p>The user of MICROSAR Safe shall configure the following attributes: </p>
<p>o</p>
<p> </p>
<p>Set /MICROSAR/FrIf/FrIfGeneral/FrIf3rdPartyDriverSupport to FALSE. </p>
<p>o</p>
<p> </p>
<p>Set /MICROSAR/FrIf/FrIfGeneral/FrIfWrapperAPIsAsMacro to FALSE. </p>
<p>o</p>
<p> </p>
<p>Just a single /MICROSAR/FrIf/FrIfConfig/FrIfCluster container exists. </p>
<p>These settings are enforced by a MSSV plugin. </p>
<p><b>19.3 Additional verification measures</b></p>
<p><b> </b></p>
<p><i>SMI-1102 </i></p>
<p>The user of MICROSAR Safe shall verify that the function referenced by define </p>
<p>FrIf_RxVotingFunction</p>
<p> returns </p>
<p>E_NOT_OK</p>
<p> if all the reduntant Rx PDUs are invalid. A PDU is </p>
<p>invalid if </p>
<p>PduInfo-&gt;SduDataPtr</p>
<p> is </p>
<p>NULL_PTR</p>
<p> or </p>
<p>PduInfo-&gt;SduLength</p>
<p> is </p>
<p>0</p>
<p>. </p>
<p>This measure applies only if define </p>
<p>FRIF_DUALCHANNELREDUNDANCYSUPPORT</p>
<p> is </p>
<p>STD_ON</p>
<p>.  </p>
<p>Both define </p>
<p>FrIf_RxVotingFunction</p>
<p> and </p>
<p>FRIF_DUALCHANNELREDUNDANCYSUPPORT</p>
<p> can be </p>
<p>found in </p>
<p>FrIf_Cfg.h</p>
<p>. </p>
<p>The values of the defines are derived from </p>
<p>/MICROSAR/FrIf/FrIfGeneral/FrIfRxVotingFunction</p>
<p> and </p>
<p>/MICROSAR/FrIf/FrIfGeneral/FrIfDualChannelRedundancySupport</p>
<p>. </p>
<p><b>19.4 Safety features required from other components</b></p>
<p><b> </b></p>
<p>This component does not require safety features from other components. </p>
<p><b>19.5 Dependencies to hardware</b></p>
<p><b> </b></p>
<p>This component does not use a direct hardware interface. </p>
<h1 style="page-break-before:always; "></h1>
<p>Safety Manual CBD1700369 D04</p>
<p> </p>
<p></p>
<p>2018 Vector Informatik GmbH </p>
<p>1.0 </p>
<p>65 / 126 </p>
<p><b>20 Safety Manual FrSM</b></p>
<p><b> </b></p>
<p><b>20.1 Safety features</b></p>
<p><b> </b></p>
<p>This component does not provide safety features. </p>
<p><b>20.2 Configuration constraints</b></p>
<p><b> </b></p>
<p>The functionality &quot;Allow Wake Up Attempts On Both Channels&quot; is in BETA state, see </p>
<p>ESCAN00083894. </p>
<p><b>20.3 Additional verification measures</b></p>
<p><b> </b></p>
<p><i>SMI-332 </i></p>
<p>The user of MICROSAR Safe shall verify that only existing functions with the correct </p>
<p>prototype are referred by the following function pointer if the attribute </p>
<p><i>/MICROSAR/FrSM/FrSMGeneral/FrSMSyncLossErrorIndicationName </i>is configured to an </p>
<p>non-empty value  </p>
<p>o</p>
<p> </p>
<p>FrSMSyncLossErrorIndicationFctPtr </p>
<p>The function pointers shall especially not contain numeric values of memory addresses. </p>
<p>All function pointers can be found in <i>FrSM_Lcfg.c</i>.  </p>
<p><b>20.4 Dependencies to other components</b></p>
<p><b> </b></p>
<p><b>20.4.1 Safety features required from other components</b></p>
<p><b> </b></p>
<p>This component does not require safety features from other components. </p>
<p><b>20.4.2 Coexistence with other components</b></p>
<p><b> </b></p>
<p><i>SMI-331 </i></p>
<p>This component requires coexistence with Det, Dem, BswM, FrIf, ComM and complex </p>
<p>driver components if the interface for those components is configured. </p>
<p><b>20.5 Dependencies to hardware</b></p>
<p><b> </b></p>
<p>This component does not use a direct hardware interface. </p>
<h1 style="page-break-before:always; "></h1>
<p>Safety Manual CBD1700369 D04</p>
<p> </p>
<p></p>
<p>2018 Vector Informatik GmbH </p>
<p>1.0 </p>
<p>66 / 126 </p>
<p><b>21 Safety Manual FrTrans (TJA1082)</b></p>
<p><b> </b></p>
<p><b>21.1 Safety features</b></p>
<p><b> </b></p>
<p>No additional safety features are provided. </p>
<p><b>21.2 Configuration constraints</b></p>
<p><b> </b></p>
<p>No additional configuration constraints are required. </p>
<p><b>21.3 Additional verification measures</b></p>
<p><b> </b></p>
<p>No additional verification measures are required. </p>
<p><b>21.4 Safety features required from other components</b></p>
<p><b> </b></p>
<p>No additional require safety features are required from other components. </p>
<p><b>21.5 Dependencies to hardware</b></p>
<p><b> </b></p>
<p>This component does not use a direct hardware interface. A hardware abstraction (Dio </p>
<p>driver or user callbacks) is used to access the transceiver hardware.  </p>
<h1 style="page-break-before:always; "></h1>
<p>Safety Manual CBD1700369 D04</p>
<p> </p>
<p></p>
<p>2018 Vector Informatik GmbH </p>
<p>1.0 </p>
<p>67 / 126 </p>
<p><b>22 Safety Manual IpduM</b></p>
<p><b> </b></p>
<p><b>22.1 Safety features</b></p>
<p><b> </b></p>
<p>This component does not provide safety features. </p>
<p><b>22.2 Configuration constraints</b></p>
<p><b> </b></p>
<p>This component does not have configuration constraints. </p>
<p><b>22.3 Additional verification measures</b></p>
<p><b> </b></p>
<p>This component does not require additional verification measures. </p>
<p><b>22.4 Safety features required from other components</b></p>
<p><b> </b></p>
<p>This component does not require safety features from other components. </p>
<p><b>22.5 Dependencies to hardware</b></p>
<p><b> </b></p>
<p>This component does not use a direct hardware interface. </p>
<h1 style="page-break-before:always; "></h1>
<p>Safety Manual CBD1700369 D04</p>
<p> </p>
<p></p>
<p>2018 Vector Informatik GmbH </p>
<p>1.0 </p>
<p>68 / 126 </p>
<p><b>23 Safety Manual MemIf</b></p>
<p><b> </b></p>
<p><b>23.1 Safety features</b></p>
<p><b> </b></p>
<p>This component does not provide safety features. </p>
<p><b>23.2 Configuration constraints</b></p>
<p><b> </b></p>
<p>This component does not have configuration constraints. </p>
<p><b>23.3 Additional verification measures</b></p>
<p><b> </b></p>
<p>This component does not require additional verification measures. </p>
<p><b>23.4 Dependencies to other components</b></p>
<p><b> </b></p>
<p><b>23.4.1 Safety features required from other components</b></p>
<p><b> </b></p>
<p>This component does not require safety features from other components. </p>
<p><b>23.4.2 Coexistence with other components</b></p>
<p><b> </b></p>
<p><i>SMI-311 </i></p>
<p>This component requires coexistence with NvM, Det, Fee, and Ea components if the </p>
<p>interface for those components is configured. </p>
<p><b>23.5 Dependencies to hardware</b></p>
<p><b> </b></p>
<p>This component does not use a direct hardware interface. </p>
<h1 style="page-break-before:always; "></h1>
<p>Safety Manual CBD1700369 D04</p>
<p> </p>
<p></p>
<p>2018 Vector Informatik GmbH </p>
<p>1.0 </p>
<p>69 / 126 </p>
<p><b>24 Safety Manual NvM</b></p>
<p><b> </b></p>
<p><b>24.1 Safety features</b></p>
<p><b> </b></p>
<p><i>SMI-21 </i></p>
<p>This component provides the following safety features: </p>
<p>ID </p>
<p> </p>
<p>Safety feature </p>
<p> </p>
<p>CREQ-724 </p>
<p> </p>
<p>NvM shall provide a service to read a single NvM block from NVRAM.</p>
<p> </p>
<p>CREQ-725 </p>
<p> </p>
<p>NvM shall provide a service to write a single NvM block to NVRAM.</p>
<p> </p>
<p>CREQ-730 </p>
<p> </p>
<p>NvM shall provide a service to read all possbile NvM blocks from NVRAM.</p>
<p> </p>
<p>CREQ-731 </p>
<p> </p>
<p>NvM shall provide a service to write all possible NvM blocks to NVRAM.</p>
<p> </p>
<p>CREQ-746 </p>
<p> </p>
<p>NvM shall provide configurable callbacks to synchronize block data.</p>
<p> </p>
<p>NvM can detect missing, corruption and masquerading (lower layers provide the wrong </p>
<p>block) of NvM blocks. </p>
<p><i>SMI-29 </i></p>
<p>The user of MICROSAR Safe must design the system in a way that in case of the absence </p>
<p>of non</p>
<p>&#8209;</p>
<p>volatile data it is still safe (e.g. safe state or degradation). It cannot be assured by </p>
<p>the memory stack that data is saved completely or at all because a reset or loss of energy </p>
<p>might happen at any time, e.g. brown-out, black-out. </p>
<p>This also implies that it is in general impossible to guarantee that the latest information is </p>
<p>available in the non-volatile memory, e.g. the system is reset before memory stack is even </p>
<p>notified to write data to non-volatile memory. </p>
<p>Thus, safety-related functionality may not rely on the availability of data in non-volatile </p>
<p>memory. </p>
<p>Since the availability of data in non-volatile memory cannot be guaranteed in any case, the </p>
<p>only sensible use-case is reading safety-related calibration data. </p>
<p>Writing of data into non-volatile memory must be verified to assure that the information is </p>
<p>available in non-volatile memory. Verification can only be done manually in a protected </p>
<p>environment, e.g. at end of line, in a workshop, etc. </p>
<p>ECU software cannot verify if data was written, since at any time a reset could occur and </p>
<p>the information that had to be written is lost immediately. </p>
<p>Reading of data does not modify data stored in non-volatile memory. Thus, reading can be </p>
<p>used by safety-related functionality. The memory stack assures that the read data is </p>
<p>identical to the data stored in non-volatile memory. </p>
<p>The availability may be increased by e.g. redundant storage. </p>
<p><i>SMI-51478 </i></p>
<p>The user of MICROSAR Safe must ensure that the selected CRC is suitable for the ASIL </p>
<p>and data size.  </p>
<p>The NvM uses a CRC32 to ensure integrity of data (see also SMI-25). Since fault detection </p>
<p>capabilities depend on the CRC polynomial and maximum data size, this needs to be </p>
<p>considered during definition of safety-related NvM blocks.  </p>
<h1 style="page-break-before:always; "></h1>
<p>Safety Manual CBD1700369 D04</p>
<p> </p>
<p></p>
<p>2018 Vector Informatik GmbH </p>
<p>1.0 </p>
<p>70 / 126 </p>
<p>Please note that also the block ID with 3 bytes is taken into account for CRC calculation </p>
<p>(see SMI-26). </p>
<p>The NvM may also use the CRC to decide whether data in RAM is modified and needs to </p>
<p>be written. </p>
<p><b>24.2 Configuration constraints</b></p>
<p><b> </b></p>
<p><i>SMI-25 </i></p>
<p>The user of MICROSAR Safe shall configure and verify the following attributes for <b>each </b></p>
<p><b>NvM block that contains safety-related data</b>: </p>
<p>o</p>
<p> </p>
<p>Set /MICROSAR/NvM/NvMBlockDescriptor/NvMBlockUseCrc to TRUE. </p>
<p>o</p>
<p> </p>
<p>Set /MICROSAR/NvM/NvMBlockDescriptor/NvMBlockCrcType to NVM_CRC32. </p>
<p>Search for the NvM block to verify in NvM_Cfg.c (use the NvMBlockDescriptor short name </p>
<p>for textual search, or the NvMNvramBlockIdentifier as index in NvM block array </p>
<p>NvM_BlockDescriptorTable_at) - the block structure shall have </p>
<p>NVM_BLOCK_CRC_32_ON set. </p>
<p><i>SMI-26 </i></p>
<p>The user of MICROSAR Safe shall configure and verify the following attribute: </p>
<p>o</p>
<p> </p>
<p>Set /MICROSAR/NvM/NvMCommon/NvMUseBlockIdCheck to TRUE. </p>
<p>This setting is enforced by MSSV plugin. </p>
<p><b>24.3 Additional verification measures</b></p>
<p><b> </b></p>
<p><i>SMI-22 </i></p>
<p>The user of MICROSAR Safe shall pass the intended block ID for reading and writing of a </p>
<p>single NvM block. NvM cannot detect if an unintended block that is configured is provided </p>
<p>by the user.  </p>
<p>Verification can be performed during integration testing. </p>
<p><i>SMI-23 </i></p>
<p>The user of MICROSAR Safe shall verify that the buffer passed for reading and writing of a </p>
<p>single NvM block is valid and sufficiently large for the passed block ID. </p>
<p>Verification can be performed by a review of the generated configuration and the code </p>
<p>passing the pointer and block ID to the NvM. </p>
<p><i>SMI-48 </i></p>
<p>The user of MICROSAR Safe shall verify the size of the internal NvM buffer. </p>
<p>The buffer has the symbol name NvM_InternalBuffer_au8. </p>
<p>The buffer is generated when at least one of the following features is used: </p>
<p>o</p>
<p> </p>
<p>at least one block with explicit synchronization is configured </p>
<h1 style="page-break-before:always; "></h1>
<p>Safety Manual CBD1700369 D04</p>
<p> </p>
<p></p>
<p>2018 Vector Informatik GmbH </p>
<p>1.0 </p>
<p>71 / 126 </p>
<p>o</p>
<p> </p>
<p>repair of redundant blocks is enabled </p>
<p>o</p>
<p> </p>
<p>NvM internal CRC buffer is enabled </p>
<p>The buffer size shall be at least the size of the largest NVM block plus the size of the </p>
<p>configured CRC value. </p>
<p>Verification can be performed e.g. by review. </p>
<p><b>24.4 Safety features required from other components</b></p>
<p><b> </b></p>
<p><i>SMI-28 </i></p>
<p>The used Crc library shall provide the CRC calculation routines as safety feature. </p>
<p>If the Crc library from MICROSAR Safe is used, this dependency is fulfilled. </p>
<p><b>24.5 Dependencies to hardware</b></p>
<p><b> </b></p>
<p>This component does not use a direct hardware interface. </p>
<h1 style="page-break-before:always; "></h1>
<p>Safety Manual CBD1700369 D04</p>
<p> </p>
<p></p>
<p>2018 Vector Informatik GmbH </p>
<p>1.0 </p>
<p>72 / 126 </p>
<p><b>25 Safety Manual OS</b></p>
<p><b> </b></p>
<p><b>25.1 Safety features</b></p>
<p><b> </b></p>
<p><i>SMI-1259 </i></p>
<p>This component provides the following safety features: </p>
<p><b>ID </b></p>
<p><b> </b></p>
<p><b>Safety feature </b></p>
<p><b> </b></p>
<p>CREQ-63 </p>
<p> </p>
<p>OS shall provide a service to start the OS. </p>
<p> </p>
<p>CREQ-162 </p>
<p> </p>
<p>OS shall provide a service to initialize itself. </p>
<p> </p>
<p>CREQ-51 </p>
<p> </p>
<p>OS shall automatically start a subset of alarms for an application mode. </p>
<p> </p>
<p>CREQ-146 </p>
<p> </p>
<p>OS shall automatically start a subset of tasks for an application mode. </p>
<p> </p>
<p>CREQ-72 </p>
<p> </p>
<p>OS shall automatically start a subset of schedule tables for an application mode. </p>
<p> </p>
<p>CREQ-117 </p>
<p> </p>
<p>OS shall provide a service to get the current application mode. </p>
<p> </p>
<p>CREQ-45 </p>
<p> </p>
<p>OS shall provide a global callback during OS startup. </p>
<p> </p>
<p>CREQ-299 </p>
<p> </p>
<p>Os shall synchronize the startup in multicore systems. </p>
<p> </p>
<p>CREQ-153 </p>
<p> </p>
<p>OS shall provide a service to shutdown the OS. </p>
<p> </p>
<p>CREQ-95 </p>
<p> </p>
<p>OS shall provide a service to shutdown all cores synchronously. </p>
<p> </p>
<p>CREQ-161 </p>
<p> </p>
<p>OS shall provide a global callback upon shutdown. </p>
<p> </p>
<p>CREQ-71 </p>
<p> </p>
<p>OS shall provide a global callback directly before a task starts its execution. </p>
<p> </p>
<p>CREQ-165 </p>
<p> </p>
<p>OS shall provide a global callback directly before a task finishes its execution. </p>
<p> </p>
<p>CREQ-42 </p>
<p> </p>
<p>OS shall provide a service to activate a task. </p>
<p> </p>
<p>CREQ-28 </p>
<p> </p>
<p>OS shall handle multiple activations of basic tasks. </p>
<p> </p>
<p>CREQ-101 </p>
<p> </p>
<p>OS shall provide a service to terminate the calling task. </p>
<p> </p>
<p>CREQ-121 </p>
<p> </p>
<p>OS shall provide a service to define the next activated task. </p>
<p> </p>
<p>CREQ-126 </p>
<p> </p>
<p>OS shall provide a service to explicitly invoke the scheduler. </p>
<p> </p>
<p>CREQ-80 </p>
<p> </p>
<p>OS shall provide a service to get the ID of the current task </p>
<p> </p>
<p>CREQ-74 </p>
<p> </p>
<p>OS shall provide a service to get the state of a given task. </p>
<p> </p>
<p>CREQ-135 </p>
<p> </p>
<p>OS shall provide a service to declare a task. </p>
<p> </p>
<p>CREQ-115 </p>
<p> </p>
<p>OS shall provide a service to execute a callback in category 2 ISRs. </p>
<p> </p>
<p>CREQ-16 </p>
<p> </p>
<p>OS shall provide a service to get the ID of the currently executing category 2 ISR. </p>
<p> </p>
<p>CREQ-24 </p>
<p> </p>
<p>OS shall handle unconfigured interrupt sources. </p>
<p> </p>
<p>CREQ-78 </p>
<p> </p>
<p>OS shall provide a service to determine the interrupt source of a non-configured </p>
<p>interrupt upon handling of such interrupt. </p>
<p> </p>
<p>CREQ-154 </p>
<p> </p>
<p>OS shall provide a nestable service to disable all interrupts. </p>
<p> </p>
<p>CREQ-98 </p>
<p> </p>
<p>OS shall provide a nestable service to enable all interrupts. </p>
<p> </p>
<p>CREQ-151 </p>
<p> </p>
<p>OS shall provide a nestable service to disable all category 2 interrupts. </p>
<p> </p>
<p>CREQ-82 </p>
<p> </p>
<p>OS shall provide a nestable service to enable all category 2 interrupts. </p>
<p> </p>
<p>CREQ-111 </p>
<p> </p>
<p>OS shall provide a non nestable service to disable all interrupts. </p>
<p> </p>
<p>CREQ-43 </p>
<p> </p>
<p>OS shall provide a non nestable service to enable all interrupts. </p>
<p> </p>
<h1 style="page-break-before:always; "></h1>
<p>Safety Manual CBD1700369 D04</p>
<p> </p>
<p></p>
<p>2018 Vector Informatik GmbH </p>
<p>1.0 </p>
<p>73 / 126 </p>
<p>CREQ-</p>
<p>1257 </p>
<p> </p>
<p>OS shall provide a non nestable service to disable all interrupts callable from kernel </p>
<p>mode </p>
<p> </p>
<p>CREQ-</p>
<p>1259 </p>
<p> </p>
<p>OS shall provide a non nestable service to enable all interrupts callable from kernel </p>
<p>mode </p>
<p> </p>
<p>CREQ-</p>
<p>1256 </p>
<p> </p>
<p>OS shall provide a non nestable service to disable all interrupts callable from user </p>
<p>mode </p>
<p> </p>
<p>CREQ-</p>
<p>1258 </p>
<p> </p>
<p>OS shall provide a non nestable service to enable all interrupts callable from user </p>
<p>mode </p>
<p> </p>
<p>CREQ-</p>
<p>108741 </p>
<p> </p>
<p>OS shall provide a non nestable service to disable all interrupts callable from any </p>
<p>mode. </p>
<p> </p>
<p>CREQ-</p>
<p>108742 </p>
<p> </p>
<p>OS shall provide a non nestable service to enable all interrupts callable from any </p>
<p>mode. </p>
<p> </p>
<p>CREQ-</p>
<p>108744 </p>
<p> </p>
<p>OS shall provide a non nestable service to disable all category 2 interrupts callable </p>
<p>from kernel mode. </p>
<p> </p>
<p>CREQ-</p>
<p>108747 </p>
<p> </p>
<p>OS shall provide a non nestable service to enable all category 2 interrupts callable </p>
<p>from kernel mode. </p>
<p> </p>
<p>CREQ-</p>
<p>108743 </p>
<p> </p>
<p>OS shall provide a non nestable service to disable all category 2 interrupts callable </p>
<p>from user mode. </p>
<p> </p>
<p>CREQ-</p>
<p>108748 </p>
<p> </p>
<p>OS shall provide a non nestable service to enable all category 2 interrupts callable </p>
<p>from user mode. </p>
<p> </p>
<p>CREQ-</p>
<p>108745 </p>
<p> </p>
<p>OS shall provide a non nestable service to disable all category 2 interrupts callable </p>
<p>from any mode. </p>
<p> </p>
<p>CREQ-</p>
<p>108746 </p>
<p> </p>
<p>OS shall provide a non nestable service to enable all category 2 interrupts callable </p>
<p>from any mode. </p>
<p> </p>
<p>CREQ-</p>
<p>106181 </p>
<p> </p>
<p>OS shall provide a service to disable a specific interrupt source. </p>
<p> </p>
<p>CREQ-</p>
<p>106182 </p>
<p> </p>
<p>OS shall provide a service to enable a specific interrupt source. </p>
<p> </p>
<p>CREQ-</p>
<p>106183 </p>
<p> </p>
<p>OS shall provide a service to clear pending interrupts </p>
<p> </p>
<p>CREQ-</p>
<p>114872 </p>
<p> </p>
<p>OS shall provide a service to check whether or not the source of the given ISR is </p>
<p>enabled </p>
<p> </p>
<p>CREQ-</p>
<p>114873 </p>
<p> </p>
<p>OS shall provide a service to check whether or not the given ISR has been requested </p>
<p> </p>
<p>CREQ-68 </p>
<p> </p>
<p>OS shall provide a service to wait for the occurrence of events. </p>
<p> </p>
<p>CREQ-155 </p>
<p> </p>
<p>OS shall provide a service to signal the occurrence of events to a task. </p>
<p> </p>
<p>CREQ-53 </p>
<p> </p>
<p>OS shall provide a service to acknowledge the occurrence of events. </p>
<p> </p>
<p>CREQ-129 </p>
<p> </p>
<p>OS shall provide a service to get the event states of a given task. </p>
<p> </p>
<p>CREQ-133 </p>
<p> </p>
<p>OS shall provide a service to declare an event. </p>
<p> </p>
<p>CREQ-22 </p>
<p> </p>
<p>OS shall provide a service to increment a counter. </p>
<p> </p>
<p>CREQ-156 </p>
<p> </p>
<p>OS shall provide a service to get the current value of a counter. </p>
<p> </p>
<p>CREQ-39 </p>
<p> </p>
<p>OS shall provide a service to get the difference between a given and the current </p>
<p>counter value. </p>
<p> </p>
<p>CREQ-44 </p>
<p> </p>
<p>OS shall provide a service for each hardware counter to translate a given period of </p>
<h1 style="page-break-before:always; "></h1>
<p>Safety Manual CBD1700369 D04</p>
<p> </p>
<p></p>
<p>2018 Vector Informatik GmbH </p>
<p>1.0 </p>
<p>74 / 126 </p>
<p>time into number of ticks. </p>
<p> </p>
<p>CREQ-297 </p>
<p> </p>
<p>OS shall provide a service for each hardware counter to translate number of counter </p>
<p>ticks into a period of time. </p>
<p> </p>
<p>CREQ-</p>
<p>1260 </p>
<p> </p>
<p>OS shall provide a service to get the maximum possible value of a counter </p>
<p> </p>
<p>CREQ-</p>
<p>1261 </p>
<p> </p>
<p>OS shall provide a service to get the number of underlying driver ticks required to </p>
<p>reach a specific unit </p>
<p> </p>
<p>CREQ-</p>
<p>1262 </p>
<p> </p>
<p>OS shall provide a service to get the minumum allowed number of ticks for a cyclic </p>
<p>alarm of a counter </p>
<p> </p>
<p>CREQ-116 </p>
<p> </p>
<p>OS shall provide a service to set a relative alarm. </p>
<p> </p>
<p>CREQ-29 </p>
<p> </p>
<p>OS shall provide a service to set an absolute alarm. </p>
<p> </p>
<p>CREQ-93 </p>
<p> </p>
<p>OS shall provide a service to get an alarm. </p>
<p> </p>
<p>CREQ-164 </p>
<p> </p>
<p>OS shall provide a service to cancel an alarm. </p>
<p> </p>
<p>CREQ-19 </p>
<p> </p>
<p>OS shall provide a service to get the alarm base. </p>
<p> </p>
<p>CREQ-142 </p>
<p> </p>
<p>OS shall provide alarm callbacks. </p>
<p> </p>
<p>CREQ-32 </p>
<p> </p>
<p>OS shall provide a service to declare an alarm. </p>
<p> </p>
<p>CREQ-61 </p>
<p> </p>
<p>OS shall provide a service to start a schedule table at a relative value. </p>
<p> </p>
<p>CREQ-136 </p>
<p> </p>
<p>OS shall provide a service to start a schedule table at an absolute value. </p>
<p> </p>
<p>CREQ-96 </p>
<p> </p>
<p>OS shall provide a service to stop the processing of a schedule table. </p>
<p> </p>
<p>CREQ-112 </p>
<p> </p>
<p>OS shall provide a service to switch the processing between different schedule </p>
<p>tables. </p>
<p> </p>
<p>CREQ-100 </p>
<p> </p>
<p>OS shall provide a service to start an explicitly synchronized schedule table </p>
<p>synchronously. </p>
<p> </p>
<p>CREQ-152 </p>
<p> </p>
<p>OS shall provide a service to synchronize a schedule table with a synchronization </p>
<p>counter. </p>
<p> </p>
<p>CREQ-25 </p>
<p> </p>
<p>OS shall provide a service to stop synchronization of a schedule table. </p>
<p> </p>
<p>CREQ-108 </p>
<p> </p>
<p>OS shall provide a service to query the state of a schedule table. </p>
<p> </p>
<p>CREQ-36 </p>
<p> </p>
<p>OS shall provide a mechanism to coordinate concurrent access to shared resources. </p>
<p> </p>
<p>CREQ-56 </p>
<p> </p>
<p>OS shall provide a service to acquire a resource. </p>
<p> </p>
<p>CREQ-107 </p>
<p> </p>
<p>OS shall provide a service to release a resource. </p>
<p> </p>
<p>CREQ-163 </p>
<p> </p>
<p>OS shall provide a service to declare a resource. </p>
<p> </p>
<p>CREQ-17 </p>
<p> </p>
<p>OS shall provide a service to acquire a spinlock. </p>
<p> </p>
<p>CREQ-139 </p>
<p> </p>
<p>OS shall provide a service to asynchronously acquire a spinlock. </p>
<p> </p>
<p>CREQ-167 </p>
<p> </p>
<p>OS shall provide a service to release a spinlock. </p>
<p> </p>
<p>CREQ-172 </p>
<p> </p>
<p>OS shall provide a service to determine the application ID to which the current </p>
<p>execution context was configured. </p>
<p> </p>
<p>CREQ-60 </p>
<p> </p>
<p>OS shall provide a service to determine the application ID in which the current </p>
<p>execution context is executed. </p>
<p> </p>
<p>CREQ-114 </p>
<p> </p>
<p>OS shall provide a service to make an application accessible. </p>
<p> </p>
<p>CREQ-109 </p>
<p> </p>
<p>OS shall provide a service to identify accessibility of OS objects . </p>
<p> </p>
<p>CREQ-18 </p>
<p> </p>
<p>OS shall provide a service to identify object ownership. </p>
<p> </p>
<p>CREQ-110 </p>
<p> </p>
<p>OS shall provide a service to terminate an application. </p>
<p> </p>
<h1 style="page-break-before:always; "></h1>
<p>Safety Manual CBD1700369 D04</p>
<p> </p>
<p></p>
<p>2018 Vector Informatik GmbH </p>
<p>1.0 </p>
<p>75 / 126 </p>
<p>CREQ-170 </p>
<p> </p>
<p>OS shall provide restart tasks. </p>
<p> </p>
<p>CREQ-104 </p>
<p> </p>
<p>OS shall provide a service to get the state of a given application. </p>
<p> </p>
<p>CREQ-34 </p>
<p> </p>
<p>OS shall provide a service to call exported services from trusted applications. </p>
<p> </p>
<p>CREQ-</p>
<p>115372 </p>
<p> </p>
<p>OS shall allow usage of exported services from trusted applications before start of </p>
<p>the OS. </p>
<p> </p>
<p>CREQ-</p>
<p>105586 </p>
<p> </p>
<p>OS shall provide a service to call exported services from non-trusted applications. </p>
<p> </p>
<p>CREQ-</p>
<p>105587 </p>
<p> </p>
<p>OS shall allow usage of exported services from non-trusted applications before start </p>
<p>of the OS. </p>
<p> </p>
<p>CREQ-48 </p>
<p> </p>
<p>OS shall provide an application specific callback during OS startup. </p>
<p> </p>
<p>CREQ-76 </p>
<p> </p>
<p>OS shall provide an application specific callback during OS shutdown. </p>
<p> </p>
<p>CREQ-54 </p>
<p> </p>
<p>OS shall provide an application specific callback if an error occurs. </p>
<p> </p>
<p>CREQ-73 </p>
<p> </p>
<p>OS shall provide a service to return the access rights of a memory access of a task. </p>
<p> </p>
<p>CREQ-13 </p>
<p> </p>
<p>OS shall provide a service to return the access rights of a memory access of a </p>
<p>category 2 ISR. </p>
<p> </p>
<p>CREQ-49 </p>
<p> </p>
<p>OS shall provide execution time protection. </p>
<p> </p>
<p>CREQ-85 </p>
<p> </p>
<p>OS shall provide inter-arrival time protection. </p>
<p> </p>
<p>CREQ-31 </p>
<p> </p>
<p>OS shall provide locking time protection. </p>
<p> </p>
<p>CREQ-845 </p>
<p> </p>
<p>OS shall monitor execution times. </p>
<p> </p>
<p>CREQ-846 </p>
<p> </p>
<p>OS shall monitor inter arrival time frames. </p>
<p> </p>
<p>CREQ-847 </p>
<p> </p>
<p>OS shall monitor locking times. </p>
<p> </p>
<p>CREQ-35 </p>
<p> </p>
<p>OS shall provide a service to modify a value in a peripheral region. </p>
<p> </p>
<p>CREQ-79 </p>
<p> </p>
<p>OS shall provide a service to read a value from a peripheral region. </p>
<p> </p>
<p>CREQ-145 </p>
<p> </p>
<p>OS shall provide a service to write a value in a peripheral region. </p>
<p> </p>
<p>CREQ-</p>
<p>115373 </p>
<p> </p>
<p>OS shall allow usage of services for peripheral regions before start of the OS. </p>
<p> </p>
<p>CREQ-26 </p>
<p> </p>
<p>OS shall be able to call a global callback function if an error occurs. </p>
<p> </p>
<p>CREQ-38 </p>
<p> </p>
<p>OS shall be able to call a global callback function if a fatal error occurs </p>
<p> </p>
<p>CREQ-97 </p>
<p> </p>
<p>OS shall provide a service to all configured error callbacks, which return the </p>
<p>parameters of the system service which triggered error handling. </p>
<p> </p>
<p>CREQ-23 </p>
<p> </p>
<p>OS shall provide a service to all configured error callbacks, which returns the service </p>
<p>identifier where the error has been risen. </p>
<p> </p>
<p>CREQ-102 </p>
<p> </p>
<p>OS shall provide information to determine the service and the cause of a reported </p>
<p>error. </p>
<p> </p>
<p>CREQ-</p>
<p>129663 </p>
<p> </p>
<p>OS shall provide a service, which writes the context of the thread to which the </p>
<p>system returns after error handling. </p>
<p> </p>
<p>CREQ-</p>
<p>129664 </p>
<p> </p>
<p>OS shall provide a service, which returns the context of the thread which triggered a </p>
<p>fatal error. </p>
<p> </p>
<p>CREQ-70 </p>
<p> </p>
<p>OS shall provide a service to forcibly terminate a task. </p>
<p> </p>
<p>CREQ-21 </p>
<p> </p>
<p>OS shall provide a service to forcibly terminate a category 2 ISR. </p>
<p> </p>
<p>CREQ-168 </p>
<p> </p>
<p>OS shall provide a service to select the idle mode action. </p>
<p> </p>
<p>CREQ-150 </p>
<p> </p>
<p>OS shall provide a service to write data to an unqueued IOC channel. </p>
<p> </p>
<h1 style="page-break-before:always; "></h1>
<p>Safety Manual CBD1700369 D04</p>
<p> </p>
<p></p>
<p>2018 Vector Informatik GmbH </p>
<p>1.0 </p>
<p>76 / 126 </p>
<p>CREQ-55 </p>
<p> </p>
<p>OS shall provide a service to read data from a unqueued IOC channel. </p>
<p> </p>
<p>CREQ-91 </p>
<p> </p>
<p>OS shall provide a service to send data to a queued IOC channel. </p>
<p> </p>
<p>CREQ-160 </p>
<p> </p>
<p>OS shall provide a service to receive data from a queued IOC channel. </p>
<p> </p>
<p>CREQ-90 </p>
<p> </p>
<p>OS shall provide a service to write multiple data to an unqueued IOC channel. </p>
<p> </p>
<p>CREQ-147 </p>
<p> </p>
<p>OS shall provide a service to read multiple data from an unqueued IOC channel. </p>
<p> </p>
<p>CREQ-119 </p>
<p> </p>
<p>OS shall provide a service to send multiple data to a queued IOC channel. </p>
<p> </p>
<p>CREQ-113 </p>
<p> </p>
<p>OS shall service a method to receive multiple data from a queued IOC channel. </p>
<p> </p>
<p>CREQ-128 </p>
<p> </p>
<p>OS shall provide a service to clear all data from a queued IOC channel. </p>
<p> </p>
<p>CREQ-141 </p>
<p> </p>
<p>OS shall be able to call a callback function upon IOC data reception. </p>
<p> </p>
<p>CREQ-149 </p>
<p> </p>
<p>OS shall provide a service to identify the local core. </p>
<p> </p>
<p>CREQ-148 </p>
<p> </p>
<p>OS shall provide a service to get the number of cores controlled by OS. </p>
<p> </p>
<p>CREQ-37 </p>
<p> </p>
<p>OS shall provide a service to start a core for usage of AUTOSAR OS software. </p>
<p> </p>
<p>CREQ-120 </p>
<p> </p>
<p>OS shall provide a service to start a core for usage of non AUTOSAR OS software. </p>
<p> </p>
<p>CREQ-</p>
<p>115996 </p>
<p> </p>
<p>OS shall be able to initialize itself and the hareware on any of the available cores. </p>
<p> </p>
<p>CREQ-</p>
<p>115010 </p>
<p> </p>
<p>OS shall provide a callback for signalling a task activation. </p>
<p> </p>
<p>CREQ-</p>
<p>115028 </p>
<p> </p>
<p>OS shall provide a callback for signalling the setting of an event. </p>
<p> </p>
<p>CREQ-</p>
<p>115029 </p>
<p> </p>
<p>OS shall provide a callback for signalling a thread switch. </p>
<p> </p>
<p>CREQ-</p>
<p>115030 </p>
<p> </p>
<p>OS shall provide a callback for signalling forcible termination of a thread. </p>
<p> </p>
<p>CREQ-</p>
<p>115031 </p>
<p> </p>
<p>OS shall provide a callback for signalling the acquirement of a resource. </p>
<p> </p>
<p>CREQ-</p>
<p>115032 </p>
<p> </p>
<p>OS shall provide a callback for signalling the release of a resource. </p>
<p> </p>
<p>CREQ-</p>
<p>115033 </p>
<p> </p>
<p>OS shall provide a callback for signalling the attempt to acquire a spinlock. </p>
<p> </p>
<p>CREQ-</p>
<p>115034 </p>
<p> </p>
<p>OS shall provide a callback for signalling the acquirement of a spinlock </p>
<p> </p>
<p>CREQ-</p>
<p>115035 </p>
<p> </p>
<p>OS shall provide a callback for signalling the release of a spinlock. </p>
<p> </p>
<p>CREQ-</p>
<p>115036 </p>
<p> </p>
<p>OS shall provide a callback for signalling the attempt to internally acquire a spinlock. </p>
<p> </p>
<p>CREQ-</p>
<p>115037 </p>
<p> </p>
<p>OS shall provide a callback for signalling the internal acquirement of a spinlock </p>
<p> </p>
<p>CREQ-</p>
<p>115038 </p>
<p> </p>
<p>OS shall provide a callback for signalling the internal release of a spinlock. </p>
<p> </p>
<p>CREQ-</p>
<p>115039 </p>
<p> </p>
<p>OS shall provide a callback for signalling the locking of interrupts. </p>
<p> </p>
<p>CREQ-</p>
<p>115040 </p>
<p> </p>
<p>OS shall provide a callback for signalling the release of an interrupt lock. </p>
<p> </p>
<h1 style="page-break-before:always; "></h1>
<p>Safety Manual CBD1700369 D04</p>
<p> </p>
<p></p>
<p>2018 Vector Informatik GmbH </p>
<p>1.0 </p>
<p>77 / 126 </p>
<p>CREQ-</p>
<p>140268 </p>
<p> </p>
<p>OS shall provide a callback for signalling failed task activation because the number </p>
<p>of activations exceeds the limit. </p>
<p> </p>
<p>CREQ-</p>
<p>140269 </p>
<p> </p>
<p>OS shall provide a callback for signalling that event is already set when WaitEvent is </p>
<p>called. </p>
<p> </p>
<p> </p>
<p><b>25.2 Configuration constraints</b></p>
<p><b> </b></p>
<p><i>SMI-378 </i></p>
<p>The user of MICROSAR Safe shall configure and verify the extended OS status of APIs. </p>
<p>The attribute <i>/MICROSAR/Os_Core/Os/OsOs/OsStatus </i>shall equal to <i>EXTENDED</i>. </p>
<p>The OS safety measures rely on the validity checks defined for EXTENDED status of OS </p>
<p>API calls. Without these checks invalid calls might destroy the system integrity and violate </p>
<p>safety requirements. Ensuring the validity of API calls and arguments in STANDARD </p>
<p>status for any caller (which e.g. might be QM software) is considered to be infeasible. </p>
<p><i>SMI-377 </i></p>
<p>The user of MICROSAR Safe shall configure and verify the service protection. </p>
<p>The attribute <i>/MICROSAR/Os_Core/Os/OsOs/OsServiceProtection </i>shall equal to <i>TRUE</i>. </p>
<p>The OS safety measures rely on the validity checks defined for OsServiceProtection </p>
<p>enabled. Without these checks API invalid calls might destroy the system integrity and </p>
<p>violate safety requirements. Ensuring the validity of API calls with </p>
<p>OsServiceProtectiondisabled for any caller (which e.g. might be QM software) is </p>
<p>considered to be infeasible. </p>
<p><i>SMI-379 </i></p>
<p>The user of MICROSAR Safe shall configure and verify the scalability class 3 or 4. </p>
<p>The attribute <i>/MICROSAR/Os_Core/Os/OsOs/OsScalabilityClass </i>shall equal to <i>SC3 </i>or </p>
<p><i>SC4</i>. </p>
<p>The OS safety measures rely on memory protection and service protection provided by the </p>
<p>scalability classes SC3 and SC4. Without memory protection, all software parts (even QM </p>
<p>parts) would have to ensure freedom from interference regarding memory (including </p>
<p>absence of stack overflow). Without service protection, all software parts (even QM parts) </p>
<p>would have to ensure only calls with valid access rights. </p>
<p><i>SMI-385 </i></p>
<p>The user of MICROSAR Safe shall not use ISRs of category 1 if timing protection is </p>
<p>configured. </p>
<p>If a thread is killed because of timing protection, ISRs of category 1 might be aborted. </p>
<p>A possible workaround is using ISRs of category 2 instead of category 1. </p>
<h1 style="page-break-before:always; "></h1>
<p>Safety Manual CBD1700369 D04</p>
<p> </p>
<p></p>
<p>2018 Vector Informatik GmbH </p>
<p>1.0 </p>
<p>78 / 126 </p>
<p><b>25.3 Additional verification measures</b></p>
<p><b> </b></p>
<p><i>SMI-380 </i></p>
<p>The user of MICROSAR Safe shall ensure the correct usage of the OS regarding program </p>
<p>flow. The correct program flow is ensured only if all OS API functions are correctly used </p>
<p>according to the AUTOSAR OS specification, according to the technical reference and </p>
<p>according to the requirements of the user application. </p>
<p><i>SMI-3732 </i></p>
<p>The user of MICROSAR Safe shall ensure the correct usage of the hardware. </p>
<p>It is assumed that user software uses the microcontroller exactly as specified in the </p>
<p>vendors hardware documentation. </p>
<p><i>SMI-383 </i></p>
<p>The user of MICROSAR Safe shall not call OS hook functions. The OS hook functions </p>
<p>shall be called by the OS only. This applies to the following hook functions: </p>
<p>o</p>
<p> </p>
<p><i>StartupHook </i></p>
<p>o</p>
<p> </p>
<p><i>ShutdownHook </i></p>
<p>o</p>
<p> </p>
<p><i>ProtectionHook </i></p>
<p>o</p>
<p> </p>
<p><i>PreTaskHook </i></p>
<p>o</p>
<p> </p>
<p><i>PostTaskHook </i></p>
<p>o</p>
<p> </p>
<p><i>ErrorHook </i></p>
<p>The OS makes assumptions which are valid if these hook functions are called by the OS </p>
<p>(e.g. set a hook context). These assumptions might be violated if the hook functions are </p>
<p>called directly by the user. As a hook may expect, that it is called within a specific context, </p>
<p>hooks shall not be called from directly from user code. </p>
<p><i>SMI-1047 </i></p>
<p>The user of MICROSAR Safe shall ensure that the context definition as described in the </p>
<p>Technical Reference is complete for his application. Only this context is preserved on </p>
<p>context switches. </p>
<p><b>25.3.1 Interrupt handling</b></p>
<p><b> </b></p>
<p><i>SMI-381 </i></p>
<p>The user of MICROSAR Safe shall ensure the correct usage of the OS regarding interrupt </p>
<p>disabling. Unintended disabling of interrupts may lead to timing inconsistency because </p>
<p>pending interrupts might be delayed.  </p>
<p>The following interrupt disabling API functions shall be used correct according to the </p>
<p>AUTOSAR OS specification and according to the requirements of the user application, </p>
<p>otherwise the correct functionality is not ensured: </p>
<p>o</p>
<p> </p>
<p><i>DisableAllInterrupts </i></p>
<h1 style="page-break-before:always; "></h1>
<p>Safety Manual CBD1700369 D04</p>
<p> </p>
<p></p>
<p>2018 Vector Informatik GmbH </p>
<p>1.0 </p>
<p>79 / 126 </p>
<p>o</p>
<p> </p>
<p><i>SuspendAllInterrupts </i></p>
<p>o</p>
<p> </p>
<p><i>SuspendOSInterrupts </i></p>
<p>o</p>
<p> </p>
<p><i>DisableLevel </i></p>
<p><i>SMI-382 </i></p>
<p>The user of MICROSAR Safe shall ensure the correct usage of the OS regarding interrupt </p>
<p>enabling. Unintended enabling of interrupts may lead to timing inconsistency (because </p>
<p>interrupts might occur which should be disabled) and data inconsistency (see also SMI-</p>
<p>11). The user shall ensure that timing inconsistencies are detected or avoided.  </p>
<p>The following interrupt enabling API functions shall be used correct according to the </p>
<p>AUTOSAR OS specification and according to the requirements of the user application, </p>
<p>otherwise the correct functionality is not ensured: </p>
<p>o</p>
<p> </p>
<p><i>EnableAllInterrupts </i></p>
<p>o</p>
<p> </p>
<p><i>ResumeAllInterrupts </i></p>
<p>o</p>
<p> </p>
<p><i>ResumeOSInterrupts </i></p>
<p>o</p>
<p> </p>
<p><i>EnableLevel </i></p>
<p><i>SMI-482 </i></p>
<p>The user of MICROSAR Safe shall verify that API functions <i>DisableLevel</i>, <i>EnableLevel</i>, </p>
<p><i>DisableGlobal </i>and <i>EnableGlobal </i>are never called in the following cases: </p>
<p>o</p>
<p> </p>
<p>if interrupts are disabled </p>
<p>o</p>
<p> </p>
<p>within critical sections </p>
<p>o</p>
<p> </p>
<p>nested within other interrupt APIs </p>
<p>o</p>
<p> </p>
<p>within interrupt resources </p>
<p>o</p>
<p> </p>
<p>within interrupt locking spinlocks </p>
<p>o</p>
<p> </p>
<p>within ISRs, Hook functions, non-trusted functions, trusted functions and alarm </p>
<p>callbacks </p>
<p><i>SMI-488 </i></p>
<p>The user of MICROSAR Safe shall verify that the following API functions are called from </p>
<p>privileged mode only: </p>
<p>o</p>
<p> </p>
<p><i>DisableLevelKM </i></p>
<p>o</p>
<p> </p>
<p><i>EnableLevelKM </i></p>
<p>o</p>
<p> </p>
<p><i>DisableGlobalKM </i></p>
<p>o</p>
<p> </p>
<p><i>EnableGlobalKM </i></p>
<h1 style="page-break-before:always; "></h1>
<p>Safety Manual CBD1700369 D04</p>
<p> </p>
<p></p>
<p>2018 Vector Informatik GmbH </p>
<p>1.0 </p>
<p>80 / 126 </p>
<p><i>SMI-489 </i></p>
<p>The user of MICROSAR Safe shall verify that the API function <i>EnableGlobal </i>is called only </p>
<p>if interrupts are disabled before by call of <i>DisableGlobal</i>. </p>
<p><i>SMI-490 </i></p>
<p>The user of MICROSAR Safe shall verify that the API function <i>EnableLevel </i>is called only if </p>
<p>interrupts are disabled before by call of <i>DisableLevel</i>.  </p>
<p><i>SMI-44677 </i></p>
<p>The user of MICROSAR Safe shall verify that all APIs called in ISRs of category 0 are </p>
<p>allowed to be called in this context by the AUTOSAR specification or technical reference. </p>
<p>ISRs of category 0 are transparent to the OS. Therefore the call context „inside category 0 </p>
<p>ISR“ cannot be checked by the API functions. Erroneous calls are not detected. </p>
<p><i>SMI-590 </i></p>
<p>The user of MICROSAR Safe shall verify that all APIs called in ISRs of category 1 are </p>
<p>allowed to be called in this context by the AUTOSAR specification or technical reference. </p>
<p>ISRs of category 1 are transparent to the OS. Therefore the call context „inside category 1 </p>
<p>ISR“ cannot be checked by the API functions. Erroneous calls are not detected. </p>
<p><i>SMI-44676 </i></p>
<p>The user of MICROSAR Safe shall verify that all ISRs of category 0 are implemented </p>
<p>transparent with respect to the processor state for the interrupted code. This includes core </p>
<p>registers, MPU settings and the current interrupt priority. </p>
<p><i>SMI-541 </i></p>
<p>The user of MICROSAR Safe shall verify that all ISRs of category 1 are implemented </p>
<p>transparent with respect to the processor state for the interrupted code. This includes core </p>
<p>registers, MPU settings and the current interrupt priority. </p>
<p><i>SMI-491 </i></p>
<p>The user of MICROSAR Safe shall verify the functionality of each configured ISR.  </p>
<p>This includes the correct call of the ISR handler with the correct priority (level) as well as </p>
<p>enabling, disabling, reading the enable state, reading the pending state and clearing of the </p>
<p>pending information of the corresponding ISR sources. </p>
<p><i>SMI-44675 </i></p>
<p>The user of MICROSAR Safe shall be aware that category 0 ISRs can be interrupted by </p>
<p>the OS in case of ECC violations. </p>
<p>In case that ECC violations are handled by the MICROSAR OS, the <i>ProtectionHook </i>is </p>
<p>called for ECC violations. </p>
<p>The protection handling can be interrupted by a category 0 ISR. This also applies if the </p>
<p>protection handling was triggerd by the same category 0 ISR. </p>
<p>If the protection reaction is terminate Task, ISR or Application the category 0 ISR will be </p>
<p>terminated by the OS, as well. </p>
<p><i>SMI-44678 </i></p>
<h1 style="page-break-before:always; "></h1>
<p>Safety Manual CBD1700369 D04</p>
<p> </p>
<p></p>
<p>2018 Vector Informatik GmbH </p>
<p>1.0 </p>
<p>81 / 126 </p>
<p>The user of MICROSAR Safe shall be aware that category 1 ISRs can be interrupted by </p>
<p>the OS in case of ECC violations. </p>
<p>In case that ECC violations are handled by the MICROSAR OS, the <i>ProtectionHook </i>is </p>
<p>called for ECC violations. </p>
<p>If the protection reaction is terminate Task, ISR or Application the category 1 ISR will be </p>
<p>terminated by the OS, as well. </p>
<p><i>SMI-44680 </i></p>
<p>The user of MICROSAR Safe shall be aware that category 0 ISRs can be interrupted by </p>
<p>the OS in case of exceptions. </p>
<p>In case that unhandled or handled exceptions are managed by the MICROSAR OS, the </p>
<p><i>ProtectionHook </i>is called. </p>
<p>The protection handling can be interrupted by a category 0 ISR. This also applies if the </p>
<p>protection handling was triggerd by the same category 0 ISR. </p>
<p>If the protection reaction is terminate Task, ISR or Application the category 0 ISR will be </p>
<p>terminated by the OS, as well. </p>
<p><i>SMI-44681 </i></p>
<p>The user of MICROSAR Safe shall be aware that category 0 ISRs cannot be disabled or </p>
<p>suspended by the OS interrupt APIs. </p>
<p>The following APIs have no effect on category 0 ISRs: </p>
<p>o</p>
<p> </p>
<p><i>DisableAllInterrupts </i></p>
<p>o</p>
<p> </p>
<p><i>EnableAllInterrupts </i></p>
<p>o</p>
<p> </p>
<p><i>SuspendAllInterrupts </i></p>
<p>o</p>
<p> </p>
<p><i>ResumeAllInterrupts </i></p>
<p>o</p>
<p> </p>
<p><i>SuspendOSInterrupts </i></p>
<p>o</p>
<p> </p>
<p><i>ResumeOSInterrupts </i></p>
<p>o</p>
<p> </p>
<p><i>Os_DisableLevelAM </i></p>
<p>o</p>
<p> </p>
<p><i>Os_EnableLevelAM </i></p>
<p>o</p>
<p> </p>
<p><i>Os_DisableLevelKM </i></p>
<p>o</p>
<p> </p>
<p><i>Os_EnableLevelKM </i></p>
<p>o</p>
<p> </p>
<p><i>Os_DisableLevelUM </i></p>
<p>o</p>
<p> </p>
<p><i>Os_EnableLevelUM </i></p>
<p>o</p>
<p> </p>
<p><i>Os_DisableGlobalAM </i></p>
<p>o</p>
<p> </p>
<p><i>Os_EnableGlobalAM </i></p>
<p>o</p>
<p> </p>
<p><i>Os_DisableGlobalKM </i></p>
<h1 style="page-break-before:always; "></h1>
<p>Safety Manual CBD1700369 D04</p>
<p> </p>
<p></p>
<p>2018 Vector Informatik GmbH </p>
<p>1.0 </p>
<p>82 / 126 </p>
<p>o</p>
<p> </p>
<p><i>Os_EnableGlobalKM </i></p>
<p>o</p>
<p> </p>
<p><i>Os_DisableGlobalUM </i></p>
<p>o</p>
<p> </p>
<p><i>Os_EnableGlobalUM </i></p>
<p><b>25.3.2 Memory mapping and linking</b></p>
<p><b> </b></p>
<p><i>SMI-340 </i></p>
<p>The user of MICROSAR Safe shall verify that the complete range specified by each </p>
<p><i>Os_PeripheralConfigType </i>object in <i>Os_Peripheral_Lcfg.c </i>is either part of the writable </p>
<p>address space or that there are no write accesses to that region via the Peripheral API. </p>
<p>The first writable address is denoted as <i>AddressStart </i>and the last writable address is </p>
<p>denoted as <i>AddressEnd</i>. </p>
<p>If the addresses do not fit the intended/configured addresses, illegal write accesses would </p>
<p>be possible. </p>
<p><i>SMI-494 </i></p>
<p>The user of MICROSAR Safe shall verify for IOC functions that the configured access </p>
<p>rights and linker configuration allow only valid callers to write the corresponding IOC data. </p>
<p><i>SMI-495 </i></p>
<p>The user of MICROSAR Safe shall ensure by linkage for each optimized spinlock that only </p>
<p>intended tasks and ISRs have write access to the corresponding spinlock data (or at least </p>
<p>only tasks and ISRs of partitions with the same ASIL levels). </p>
<p>The user of MICROSAR Safe shall verify that no unintended task or ISR has access to </p>
<p>data of optimized spinlocks. </p>
<p><i>SMI-539 </i></p>
<p>The user of MICROSAR Safe shall verify that none of the configured MPU regions allows </p>
<p>write access to OS variables from non-trusted software. </p>
<p><i>SMI-549 </i></p>
<p>The user of MICROSAR Safe shall verify the linkage of stack sections and MPU </p>
<p>configuration that none of the configured MPU regions grants write access to any OS </p>
<p>stack. </p>
<p>The MPU setting for stacks is internally done by the OS and granting write access might </p>
<p>prevent from memory protection of stacks. </p>
<p><i>SMI-1044 </i></p>
<p>The user of MICROSAR Safe shall verify that additional configured MPU regions shall </p>
<p>never overlap with any OS stack sections. </p>
<p>Overlapping MPU regions might provide illegal write access to OS stack sections. By using </p>
<p>an OS generated linker command file (see technical reference) it is assured that the OS </p>
<p>stacks are linked consecutively into the RAM. </p>
<p><i>SMI-1045 </i></p>
<h1 style="page-break-before:always; "></h1>
<p>Safety Manual CBD1700369 D04</p>
<p> </p>
<p></p>
<p>2018 Vector Informatik GmbH </p>
<p>1.0 </p>
<p>83 / 126 </p>
<p>The user of MICROSAR Safe shall verify that the linkage scheme includes a stack safety </p>
<p>gap linked adjacent to the stack section (in dependency of the stack growth direction, see </p>
<p>technical reference). No software parts shall have write access to the stack safety gap. </p>
<p>This measure enables to detect stack overflows by MPU even if the owner of the stack has </p>
<p>also write access to data linked adjacent to the stack section. </p>
<p><i>SMI-562 </i></p>
<p>The user of MICROSAR Safe shall verify that all user data are linked into the intended </p>
<p>sections. </p>
<p><i>SMI-564 </i></p>
<p>The user of MICROSAR Safe shall verify the configuration of access rights to sections. </p>
<p>Software with lower diagnostic coverage shall not be able to destroy data of software with </p>
<p>higher diagnostic coverage. This applies to memory access within one core as well as </p>
<p>memory access across cores. </p>
<p>See Technical Reference, chapter &quot;Memory Protection&quot; for details. </p>
<p>Note that OSApplications do not need access to other OS Applications memory. </p>
<p><b>25.3.3 Stack</b></p>
<p><b> </b></p>
<p><i>SMI-565 </i></p>
<p>The user of MICROSAR Safe shall ensure that sufficient stack is available for </p>
<p>call/execution of StartOS. </p>
<p>StartOS performs some initializations before switching to an internal stack and enabling </p>
<p>the memory protection. The active stack at call of StartOS shall provide sufficient space to </p>
<p>execute this code. Because the stack consumtion is depending on compiler and compiler </p>
<p>options it is recommended to switch to a stack provided by the OS before calling StartOS </p>
<p>and to use the stack usage measurement API of the OS to determine the necessary stack </p>
<p>size. </p>
<p><i>SMI-4452 </i></p>
<p>If the attribute <i>/MICROSAR/Os/OsOS/OsGenerateMemMap </i>is equal to </p>
<p><i>USERCODE_AND_STACKS_GROUPED_PER_CORE</i>, the user of MICROSAR Safe shall </p>
<p>ensure that all configured stack sizes match the MPU granularity and alignment. Otherwise </p>
<p>stack protection cannot be ensured. </p>
<p><b>25.3.4 Multicore systems with mixed diagnostic coverage capability</b></p>
<p><b> </b></p>
<p><i>SMI-592 </i></p>
<p>The user of MICROSAR Safe shall verify that software with higher diagnostic coverage </p>
<p>does not rely on the results of APIs with lower diagnostic coverage. </p>
<p>Note that only APIs listed in section &quot;Safety Features&quot; provide functionality on ASIL level.  </p>
<p><i>SMI-483 </i></p>
<p>The user of MICROSAR Safe shall ensure that cross core API calls with high frequency </p>
<p>from cores with lower diagnostic coverage to cores with higher diagnostic coverage do not </p>
<h1 style="page-break-before:always; "></h1>
<p>Safety Manual CBD1700369 D04</p>
<p> </p>
<p></p>
<p>2018 Vector Informatik GmbH </p>
<p>1.0 </p>
<p>84 / 126 </p>
<p>interfere with the requirements. Excessive runtime consumption of cores with lower </p>
<p>diagnostic coverage shall not prevent cores with higher diagnostic coverage form keeping </p>
<p>the timing constraints.  </p>
<p>One possible measure is using timing protection. </p>
<p><i>SMI-484 </i></p>
<p>The user of MICROSAR Safe shall ensure that synchronous cross core API calls from a </p>
<p>core with higher diagnostic coverage to a core with lower diagnostic coverage do not </p>
<p>violate the safety goals if the API calls never return. </p>
<p>Synchronous calls block the caller until the return result is received. If for any reason a </p>
<p>core with lower diagnostic coverage does not return the result or does not return the result </p>
<p>in time, the caller has to deal with this situation. </p>
<p><i>SMI-485 </i></p>
<p>The user of MICROSAR Safe shall call <i>ShutdownAllCores </i>only on cores with the highest </p>
<p>diagnostic coverage. </p>
<p><i>SMI-486 </i></p>
<p>The user of MICROSAR Safe shall note that the <i>ShutdownHook </i>might not be called on </p>
<p>Shutdown for multicore systems with mixed diagnostic coverage capability. </p>
<p>Errors caused by cores of lower diagnostic coverage (data overwrite) might prevent the </p>
<p>call of ShutdownHook by cores with higher diagnostic coverage. </p>
<p><i>SMI-487 </i></p>
<p>The user of MICROSAR Safe shall configure and verify that the core with the highest </p>
<p>diagnostic coverage initializes the peripheral moduls used by the OS (e.g. MPU, Interrupt </p>
<p>Controller). </p>
<p>The attribute <i>/MICROSAR/Os/OsOS/OsHardwareInitCore </i>shall be set to the core </p>
<p>reference with the highest diagnostic coverage. </p>
<p>The user of MICROSAR Safe shall ensure that if a core with lower diagnostic coverage </p>
<p>initializes peripherals or hardware components (like e.g. a system MPU), the core with </p>
<p>higher diagnostic coverage does not rely on this initialization. </p>
<p><i>SMI-493 </i></p>
<p>The user of MICROSAR Safe shall verify that the configuration of cross core API calls </p>
<p>prevents cores with lower diagnostic coverage from shutdown of cores with higher </p>
<p>diagnostic coverage. </p>
<p><i>SMI-25766 </i></p>
<p>The user of MICROSAR Safe shall ensure that receiver core of cross core API calls is able </p>
<p>to handle unintended calls of APIs. This applies only to APIs which are allowed to be called </p>
<p>between two cores by configuration. </p>
<p><b>25.3.5 Miscellaneous</b></p>
<p><b> </b></p>
<p><i>SMI-480 </i></p>
<h1 style="page-break-before:always; "></h1>
<p>Safety Manual CBD1700369 D04</p>
<p> </p>
<p></p>
<p>2018 Vector Informatik GmbH </p>
<p>1.0 </p>
<p>85 / 126 </p>
<p>The user of MICROSAR Safe shall not rely on the error parameter macros (starting with </p>
<p><i>Os_ErrorGetParameter_</i>...). </p>
<p>They are not assumed as safety features by Vector. </p>
<p><i>SMI-481 </i></p>
<p>The user of MICROSAR Safe shall notify that the <i>PanicHook </i>might not be called if the </p>
<p>active thread is not allowed to modify the interrupt enable/disable state.  </p>
<p>Before calling the <i>PanicHook </i>the OS disables all interrupts. If this fails, the <i>ProtectionHook </i></p>
<p>might be called, caused by the illegal access (depending on hardware platform). </p>
<p><i>SMI-492 </i></p>
<p>The user of MICROSAR Safe shall verify for cross core API calls that for each pair of </p>
<p>sender/receiver cores at least one API call is tested and verified across these cores. </p>
<p><i>SMI-496 </i></p>
<p>The user of MICROSAR Safe shall verify that calls of the optimized spinlock API don’t </p>
<p>violate any of the spinlock API constraints (e.g. the order of locking). The optimized </p>
<p>spinlock API skips any checks and therefore does not prevent from wrong calls. </p>
<p><i>SMI-497 </i></p>
<p>The user of MICROSAR Safe shall verify that if a trusted or non-trusted function uses the </p>
<p>passed argument, the trusted function validates these data before usage to prevent from </p>
<p>any violation of safety goals. The caller of CallTrustedFunction or </p>
<p>Os_CallNonTrustedFunction and therefore the passed data might be non-trusted. </p>
<p><i>SMI-542 </i></p>
<p>The user of MICROSAR Safe shall verify that each caller of a trusted or non-trusted </p>
<p>function is allowed to call the function, or the function validates the caller before performing </p>
<p>its functionality to prevent from any violation of safety goals. </p>
<p><i>SMI-538 </i></p>
<p>The user of MICROSAR Safe shall verify that the context described in the Hardware </p>
<p>Software Interface (HSI) of the used platform is sufficient for the requirements his </p>
<p>application. </p>
<p><i>SMI-591 </i></p>
<p>The user of MICROSAR Safe shall verify the correct usage of IOC API functions. Some of </p>
<p>these functions don’t call the ErrorHook if the called function does not return a valid result. </p>
<p>It is recommended to check the return code of these functions:  </p>
<p>o</p>
<p> </p>
<p>IocSend/IocWrite </p>
<p>o</p>
<p> </p>
<p>IocSendGroup/IocWriteGroup </p>
<p>o</p>
<p> </p>
<p>IocReceive/IocRead </p>
<p>o</p>
<p> </p>
<p>IocReceiveGroup/IocReadGroup </p>
<p><i>SMI-540 </i></p>
<h1 style="page-break-before:always; "></h1>
<p>Safety Manual CBD1700369 D04</p>
<p> </p>
<p></p>
<p>2018 Vector Informatik GmbH </p>
<p>1.0 </p>
<p>86 / 126 </p>
<p>The user of MICROSAR Safe shall verify that the user software does not contain system </p>
<p>call instructions. </p>
<p>Any system call instruction will result in an OS API or in an OS Error. If the user code </p>
<p>directly uses a system call instruction it is likely that the triggered OS API does not work as </p>
<p>expected. Instead, system calls shall only be used by using calls to OS APIs. </p>
<p>A possible verification method might be reviewing the code for (inline) assembler </p>
<p>statements, pragmas or intrinsic functions containing system call instructions. </p>
<p><i>SMI-2900 </i></p>
<p>The user of MICROSAR Safe shall verify that the array OsCfg_CorePhysicalRefs contains </p>
<p>all physical cores. </p>
<p>For each existing physical hardware core identifier there shall be one corresponding entry </p>
<p>inside the array which is indexed by the physical hardware core identifier provided directly </p>
<p>by the hardware registers. </p>
<p><i>SMI-39288 </i></p>
<p>The user of MICROSAR Safe shall verify that the array </p>
<p>OsCfg_Hal_Context_ExceptionContextRef contains all physical cores. </p>
<p>For each existing physical hardware core identifier, which is also an Autosar core, there </p>
<p>shall be one corresponding entry (not NULL_PTR) inside the array which is indexed by the </p>
<p>physical hardware core identifier provided directly by the hardware registers. </p>
<p><i>SMI-44342 </i></p>
<p>The user of MICROSAR Safe shall verify that peripheral APIs  </p>
<p>o</p>
<p> </p>
<p>Os_ReadPeripheral8Legacy </p>
<p>o</p>
<p> </p>
<p>Os_ReadPeripheral16Legacy </p>
<p>o</p>
<p> </p>
<p>Os_ReadPeripheral32Legacy </p>
<p>o</p>
<p> </p>
<p>Os_WritePeripheral8Legacy </p>
<p>o</p>
<p> </p>
<p>Os_WritePeripheral16Legacy </p>
<p>o</p>
<p> </p>
<p>Os_WritePeripheral32Legacy </p>
<p>o</p>
<p> </p>
<p>Os_ModifyPeripheral8Legacy </p>
<p>o</p>
<p> </p>
<p>Os_ModifyPeripheral16Legacy </p>
<p>o</p>
<p> </p>
<p>Os_ModifyPeripheral32Legacy </p>
<p>are not used on platforms with address width greater than 32 bits. </p>
<p><i>SMI-44679 </i></p>
<p>The user shall ensure real time behavior of the system, even in case of delayed calls of </p>
<p><i>ProtectionHook</i>. </p>
<p><i>ProtectionHook </i>may be delayed by the execution of Cat 0 ISRs. </p>
<h1 style="page-break-before:always; "></h1>
<p>Safety Manual CBD1700369 D04</p>
<p> </p>
<p></p>
<p>2018 Vector Informatik GmbH </p>
<p>1.0 </p>
<p>87 / 126 </p>
<p><b>25.3.6 Tracing</b></p>
<p><b> </b></p>
<p><i>SMI-69754 </i></p>
<p>The user of MICROSAR Safe shall be aware that user timing hook implementation </p>
<p>influences runtime behaviour of the system. </p>
<p><i>SMI-69755 </i></p>
<p>The user of MICROSAR Safe shall not use any OS API within TimingHooks. </p>
<p><b>25.4 Safety features required from other components</b></p>
<p><b> </b></p>
<p>This component does not require safety features from other components. </p>
<p><b>25.5 Dependencies to hardware</b></p>
<p><b> </b></p>
<p>The dependencies of this component to hardware is described in the platform specific part </p>
<p>of the Safety Manual. </p>
<h1 style="page-break-before:always; "></h1>
<p>Safety Manual CBD1700369 D04</p>
<p> </p>
<p></p>
<p>2018 Vector Informatik GmbH </p>
<p>1.0 </p>
<p>88 / 126 </p>
<p><b>26 Safety Manual OS (RH850)</b></p>
<p><b> </b></p>
<p><b>26.1 Safety features</b></p>
<p><b> </b></p>
<p>No additional safety features are provided. </p>
<p><b>26.2 Configuration constraints</b></p>
<p><b> </b></p>
<p><i>SMI-3167 </i></p>
<p>The user of MICROSAR Safe shall enable software stack checks for RH850 derivatives </p>
<p>which are based on G3K core (e.g. RH850 F1L) in order to ensure stack protection also in </p>
<p>supervisor mode as monitoring by MPU in supervisor mode is not supported. </p>
<p><b>26.3 Additional verification measures</b></p>
<p><b> </b></p>
<p><i>SMI-3310 </i></p>
<p>The user of MICROSAR Safe shall verify the PIT timer configuration of type </p>
<p><i>Os_Hal_TimerPitConfigType </i>in <i>Os_Hal_Timer_Lcfg.c </i>for its correctness. </p>
<p>If the OSTM unit &lt;X&gt; (0,1,2,3,5) is configured, the following attributes must be generated </p>
<p>as follows: </p>
<p>Timer Base Address = OS_HAL_TIMER_OSTM&lt;X&gt;_BASE </p>
<p>Timer Hardware Type = OS_HAL_TIMER_OSTM </p>
<p>Timer Channel Index = OS_HAL_TIMER_CH0 </p>
<p>If the TAUJ unit &lt;X&gt; (0,1,2,3) channel &lt;Y&gt; (0,1,2,3) is configured, the following attributes </p>
<p>must be generated as follows: </p>
<p>Timer Base Address = OS_HAL_TIMER_TAUJ&lt;X&gt;_BASE </p>
<p>Timer Hardware Type = OS_HAL_TIMER_TAUJ </p>
<p>Timer Channel Index = OS_HAL_TIMER_CH&lt;Y&gt; </p>
<p><i>SMI-3311 </i></p>
<p>The user of MICROSAR Safe shall verify the FRT timer configuration of type </p>
<p><i>Os_Hal_TimerFrtConfigType </i>in <i>Os_Hal_Timer_Lcfg.c </i>for its correctness. </p>
<p>If the OSTM unit &lt;X&gt; (0,1,2,3,5) is configured, the following attributes must be generated </p>
<p>as follows: </p>
<p>Timer Base Address = OS_HAL_TIMER_OSTM&lt;X&gt;_BASE </p>
<p>Timer Hardware Type = OS_HAL_TIMER_OSTM </p>
<p>Timer Channel Index = OS_HAL_TIMER_CH0 </p>
<p>Timer Unit Index = OS_HAL_TIMER_OSTM&lt;X&gt; </p>
<p>If the STM unit &lt;X&gt; (0,1) channel &lt;Y&gt; (1,2,3) is configured, the following attributes must </p>
<p>be generated as follows: </p>
<p>Timer Base Address = OS_HAL_TIMER_STM&lt;X&gt;_BASE </p>
<p>Timer Hardware Type = OS_HAL_TIMER_STM </p>
<p>Timer Channel Index = OS_HAL_TIMER_CH&lt;Y&gt; </p>
<p>Timer Unit Index = OS_HAL_TIMER_STM&lt;X&gt; </p>
<h1 style="page-break-before:always; "></h1>
<p>Safety Manual CBD1700369 D04</p>
<p> </p>
<p></p>
<p>2018 Vector Informatik GmbH </p>
<p>1.0 </p>
<p>89 / 126 </p>
<p><b>26.4 Safety features required from other components</b></p>
<p><b> </b></p>
<p>No additional safety features are required from other components. </p>
<p><b>26.5 Dependencies to hardware</b></p>
<p><b> </b></p>
<p>The following Safety Applications Notes (SAN) have been taken into consideration: </p>
<p>o</p>
<p> </p>
<p>RH850/P1M Safety Application Note R01AN2118EJ0300 Rev.3.00 Mar 29, 2017 </p>
<p>o</p>
<p> </p>
<p>RH850/F1L Safety Application Note R01AN2152EJ0211 Rev.2.11 October 17, 2016 </p>
<p>o</p>
<p> </p>
<p>RH850/F1H Safety Application Note R01AN2886EJ0110 Rev.1.10 July 27, 2016 </p>
<p>o</p>
<p> </p>
<p>RH850/F1K Safety Application Note R01AN3578EJ0100 Rev.1.00 Dec 22, 2016 </p>
<p>o</p>
<p> </p>
<p>RH850/D1L/D1M Safety Application Note LLWEB-10000950 Rev.2.00 Dec 1, 2016 </p>
<p>This OS does not implement any recommended usage from safety application notes </p>
<p>except for the memory protecion unit (SAN-P1x-0405, SAN-F1L-2201, SAN-F1H-2201, </p>
<p>SAN-F1K2M-0190, SAN-D1x-1801). </p>
<p>It is assumed that the recommended usage related to OS functionality are related to latent </p>
<p>faults only and ASIL D is still achievable without implementation of the recommended </p>
<p>usage by the OS. Such implementation would cause significant runtime overhead. </p>
<p><i>SMI-3168 </i></p>
<p>The user of MICROSAR Safe has to consider DMA controller usage if the used RH850 </p>
<p>derivative incorporates a DMA controller (DMAC). </p>
<p>The DMA controller has direct access to the data bus. Therefore DMA access to memory </p>
<p>is not controlled by MPU protection. </p>
<h1 style="page-break-before:always; "></h1>
<p>Safety Manual CBD1700369 D04</p>
<p> </p>
<p></p>
<p>2018 Vector Informatik GmbH </p>
<p>1.0 </p>
<p>90 / 126 </p>
<p><b>27 Safety Manual PduR</b></p>
<p><b> </b></p>
<p><b>27.1 Safety features</b></p>
<p><b> </b></p>
<p>This component does not provide safety features. </p>
<p><b>27.2 Configuration constraints</b></p>
<p><b> </b></p>
<p>This component does not have configuration constraints. </p>
<p><b>27.3 Additional verification measures</b></p>
<p><b> </b></p>
<p>This component does not require additional verification measures. </p>
<p><b>27.4 Safety features required from other components</b></p>
<p><b> </b></p>
<p>This component does not require safety features from other components. </p>
<p><b>27.5 Dependencies to hardware</b></p>
<p><b> </b></p>
<p>This component does not use a direct hardware interface. </p>
<h1 style="page-break-before:always; "></h1>
<p>Safety Manual CBD1700369 D04</p>
<p> </p>
<p></p>
<p>2018 Vector Informatik GmbH </p>
<p>1.0 </p>
<p>91 / 126 </p>
<p><b>28 Safety Manual Rte</b></p>
<p><b> </b></p>
<p><b>28.1 Safety features</b></p>
<p><b> </b></p>
<p><i>SMI-323 </i></p>
<p>This component provides the following safety features: </p>
<p><b>ID </b></p>
<p><b> </b></p>
<p><b>Safety feature </b></p>
<p><b> </b></p>
<p>CREQ-</p>
<p>1024 </p>
<p> </p>
<p>Rte shall provide a service to initiate the transmission of data elements with last-is-best </p>
<p>semantic for explicit S/R communication. </p>
<p> </p>
<p>CREQ-</p>
<p>1021 </p>
<p> </p>
<p>Rte shall provide a service to copy the received data element to a buffer with last-is-</p>
<p>best semantic for explicit S/R communication. </p>
<p> </p>
<p>CREQ-</p>
<p>1022 </p>
<p> </p>
<p>Rte shall provide a service to get the value of the received data element with last-is-</p>
<p>best semantic for explicit S/R communication. </p>
<p> </p>
<p>CREQ-</p>
<p>1031 </p>
<p> </p>
<p>Rte shall provide a service to read a data element for implicit S/R communication. </p>
<p> </p>
<p>CREQ-</p>
<p>1029 </p>
<p> </p>
<p>Rte shall provide a service to write a data element for implicit S/R communication. </p>
<p> </p>
<p>CREQ-</p>
<p>1041 </p>
<p> </p>
<p>Rte shall provide a service to get the reference of a data element to be written for </p>
<p>implicit S/R communication. </p>
<p> </p>
<p>CREQ-</p>
<p>1037 </p>
<p> </p>
<p>Rte shall provide a service to get the status of a data element for implicit S/R </p>
<p>communication. </p>
<p> </p>
<p>CREQ-</p>
<p>1033 </p>
<p> </p>
<p>Rte shall provide a service to access the update flag for a data element for explicit S/R </p>
<p>communication. </p>
<p> </p>
<p>CREQ-</p>
<p>1036 </p>
<p> </p>
<p>Rte shall provide a &quot;Never-received&quot; status of a data element for S/R communication. </p>
<p> </p>
<p>CREQ-</p>
<p>1023 </p>
<p> </p>
<p>Rte shall provide a service to initiate the transmission of a data element with queued </p>
<p>semantic for explicit S/R communication. </p>
<p> </p>
<p>CREQ-</p>
<p>1025 </p>
<p> </p>
<p>Rte shall provide a service to initiate the reception of a data element with queued </p>
<p>semantic for explicit S/R communication. </p>
<p> </p>
<p>CREQ-</p>
<p>1042 </p>
<p> </p>
<p>Rte shall provide a service to initiate a client-server communication. </p>
<p> </p>
<p>CREQ-</p>
<p>1043 </p>
<p> </p>
<p>Rte shall provide a service to get the result of an asynchronous client-server call. </p>
<p> </p>
<p>CREQ-</p>
<p>1109 </p>
<p> </p>
<p>Rte shall provide mode management. </p>
<p> </p>
<p>CREQ-</p>
<p>1055 </p>
<p> </p>
<p>Rte shall provide a service to get the currently active mode. </p>
<p> </p>
<p>CREQ-</p>
<p>1052 </p>
<p> </p>
<p>Rte shall provide a service to get the currently active, previous and next mode. </p>
<p> </p>
<p>CREQ-</p>
<p>1053 </p>
<p> </p>
<p>Rte shall provide a service to initiate a mode switch. </p>
<p> </p>
<p>CREQ-</p>
<p>1299 </p>
<p> </p>
<p>Rte shall provide Nv data communication. </p>
<p> </p>
<p>CREQ-</p>
<p>Rte shall provide a callback to copy data from a NVM buffer to RTE. </p>
<p> </p>
<h1 style="page-break-before:always; "></h1>
<p>Safety Manual CBD1700369 D04</p>
<p> </p>
<p></p>
<p>2018 Vector Informatik GmbH </p>
<p>1.0 </p>
<p>92 / 126 </p>
<p>1150 </p>
<p> </p>
<p>CREQ-</p>
<p>1148 </p>
<p> </p>
<p>Rte shall provide a callback to copy data from RTE to a NVM buffer. </p>
<p> </p>
<p>CREQ-</p>
<p>1144 </p>
<p> </p>
<p>Rte shall provide a callback to get notified about a finished NVM job. </p>
<p> </p>
<p>CREQ-</p>
<p>1147 </p>
<p> </p>
<p>Rte shall provide a callback to get notified about a requested mirror initialization. </p>
<p> </p>
<p>CREQ-</p>
<p>1046 </p>
<p> </p>
<p>Rte shall provide a service to read Inter-Runnable Variables with explicit behavior. </p>
<p> </p>
<p>CREQ-</p>
<p>1048 </p>
<p> </p>
<p>Rte shall provide a service to write Inter-Runnable Variables with explicit behavior. </p>
<p> </p>
<p>CREQ-</p>
<p>1047 </p>
<p> </p>
<p>Rte shall provide a service to read Inter-Runnable Variables with implicit behavior. </p>
<p> </p>
<p>CREQ-</p>
<p>1044 </p>
<p> </p>
<p>Rte shall provide a service to write Inter-Runnable Variables with implicit behavior. </p>
<p> </p>
<p>CREQ-</p>
<p>1045 </p>
<p> </p>
<p>Rte shall provide a service to access per-instance memory. </p>
<p> </p>
<p>CREQ-</p>
<p>1051 </p>
<p> </p>
<p>Rte shall provide a service to enter an exclusive area. </p>
<p> </p>
<p>CREQ-</p>
<p>1050 </p>
<p> </p>
<p>Rte shall provide a service to leave an exclusive area. </p>
<p> </p>
<p>CREQ-</p>
<p>1056 </p>
<p> </p>
<p>Rte's Basic Software Scheduler shall provide a service to enter an exclusive area of a </p>
<p>BSW Module. </p>
<p> </p>
<p>CREQ-</p>
<p>1049 </p>
<p> </p>
<p>Rte's Basic Software Scheduler shall provide a service to leave an exclusive area of a </p>
<p>BSW Module. </p>
<p> </p>
<p>CREQ-</p>
<p>1068 </p>
<p> </p>
<p>Rte shall provide a service to access internal calibration parameters. </p>
<p> </p>
<p>CREQ-</p>
<p>1075 </p>
<p> </p>
<p>Rte shall provide a service to access calibration parameters accessible via ports. </p>
<p> </p>
<p>CREQ-</p>
<p>1059 </p>
<p> </p>
<p>Rte shall provide a service to initialize itself. </p>
<p> </p>
<p>CREQ-</p>
<p>1073 </p>
<p> </p>
<p>Rte's Basic Software Scheduler shall provide a service to initialize itself. </p>
<p> </p>
<p>CREQ-</p>
<p>1161 </p>
<p> </p>
<p>Rte shall provide a service to trigger executable entities. </p>
<p> </p>
<p>CREQ-</p>
<p>1165 </p>
<p> </p>
<p>Rte shall use schedule points to invoke the scheduler of the OS. </p>
<p> </p>
<p>CREQ-</p>
<p>1129 </p>
<p> </p>
<p>Rte shall provide the event handling of TimingEvents to trigger a runnable. </p>
<p> </p>
<p>CREQ-</p>
<p>1112 </p>
<p> </p>
<p>Rte shall provide the event handling of SwcModeSwitchEvents to trigger a runnable. </p>
<p> </p>
<p>CREQ-</p>
<p>1124 </p>
<p> </p>
<p>Rte shall provide the event handling of AsynchronousServerCallReturnsEvents to </p>
<p>trigger a runnable. </p>
<p> </p>
<p>CREQ-</p>
<p>1126 </p>
<p> </p>
<p>Rte shall provide the event handling of OperationInvokedEvents to trigger a runnable. </p>
<p> </p>
<h1 style="page-break-before:always; "></h1>
<p>Safety Manual CBD1700369 D04</p>
<p> </p>
<p></p>
<p>2018 Vector Informatik GmbH </p>
<p>1.0 </p>
<p>93 / 126 </p>
<p>CREQ-</p>
<p>1118 </p>
<p> </p>
<p>Rte shall provide the event handling of DataReceivedEvents to trigger a runnable. </p>
<p> </p>
<p>CREQ-</p>
<p>1132 </p>
<p> </p>
<p>Rte shall provide the event handling of ModeSwitchedAckEvents to trigger a runnable. </p>
<p> </p>
<p>CREQ-</p>
<p>1114 </p>
<p> </p>
<p>Rte shall provide the event handling of the InitEvents to trigger a runnable. </p>
<p> </p>
<p>CREQ-</p>
<p>1295 </p>
<p> </p>
<p>Rte shall provide the event handling of TimingEvents to trigger a schedulable entity. </p>
<p> </p>
<p>CREQ-</p>
<p>1152 </p>
<p> </p>
<p>Rte shall provide a &quot;RTE_AND_SCHM_UNINIT&quot; state. </p>
<p> </p>
<p>CREQ-</p>
<p>1164 </p>
<p> </p>
<p>Rte shall provide a &quot;RTE_UNINT_SCHM_INIT&quot; state. </p>
<p> </p>
<p>CREQ-</p>
<p>1166 </p>
<p> </p>
<p>Rte shall provide a &quot;INIT&quot; state. </p>
<p> </p>
<p> </p>
<p><b>28.2 Configuration constraints</b></p>
<p><b> </b></p>
<p><i>SMI-2066 </i></p>
<p><b>The user of MICROSAR Safe shall disable online calibration and measurement </b></p>
<p><b>during series production. </b></p>
<p>The RTE can be generated with online calibration and measurement enabled for series </p>
<p>production, but they shall be made inoperable for normal operation. Vector's XCP can e.g. </p>
<p>be disabled safely during runtime by ASIL software. </p>
<p><b>28.3 Additional verification measures</b></p>
<p><b> </b></p>
<p>Please note that the RTE Generator and RTE Analyzer only implement measures to detect </p>
<p>systematic faults by the software. No measures are implemented to detect or mitigate </p>
<p>random faults on the computer used for generation. </p>
<p><i>SMI-322 </i></p>
<p><b>The user of MICROSAR Safe shall execute the RTE Analyzer. </b></p>
<p>The RTE Analyzer performs checks to identify faults in the generated RTE. Especially out-</p>
<p>of-bounds accesses within the RTE are detected. If RTE Analyzer reports a fault, the </p>
<p>generated RTE cannot be used. Moreover it provides the user of MICROSAR Safe with </p>
<p>feedback what was generated. This feedback shall be reviewed during integration testing </p>
<p>against the intended software design and its configuration. </p>
<p>Please see the Technical Reference of the RTE Analyzer how to execute it. </p>
<p><i>SMI-36067 </i></p>
<p><b>The user of MICROSAR Safe shall ensure that the RTE Analyzer does not report </b></p>
<p><b>unsupported templates. </b></p>
<h1 style="page-break-before:always; "></h1>
<p>Safety Manual CBD1700369 D04</p>
<p> </p>
<p></p>
<p>2018 Vector Informatik GmbH </p>
<p>1.0 </p>
<p>94 / 126 </p>
<p>The generated RTE code is based on templates. The templates are instantiated by the </p>
<p>RTE Generator in different variants. The RTE Analyzer verifies that the analyzed template </p>
<p>variants have been tested during the development of the RTE Generator according to ISO </p>
<p>26262. </p>
<p>The last section of the RTE Analyzer configuration feedback report provides the </p>
<p>information about the template variants. </p>
<p>The report must show that no unsupported templates have been found. </p>
<p><b>28.3.1 Guided integration testing</b></p>
<p><b> </b></p>
<p>Residual faults in the RTE Generator can only be found during integration testing. Vector </p>
<p>assumes that the user of MICROSAR Safe performs an integration testing and verification </p>
<p>of software safety requirements according to ISO 26262 Part 6 Clauses 10 and 11 (see </p>
<p>also SMI-4). To support this integration testing the RTE Analyzer produces a configuration </p>
<p>feedback report.  </p>
<p>Please refer to the Technical Reference of the RTE Analyzer for a description of the </p>
<p>configuration feedback report. </p>
<p>The following subsections describe the requirements that must be fulfilled during </p>
<p>integration testing and verification of software safety requirements. </p>
<p>Each Safety Manual Item (SMI) is structured in the following way: </p>
<p>o</p>
<p> </p>
<p>The requirement that must be fulfilled </p>
<p>o</p>
<p> </p>
<p>Explanation of the requirement and a rationale </p>
<p>o</p>
<p> </p>
<p>Recommended configuration constraints (optional) </p>
<p>o</p>
<p> </p>
<p>Recommended means of complying with the requirement (optional) </p>
<p>o</p>
<p> </p>
<p>Details on the information provided by the RTE Analyzer supporting this </p>
<p>requirement </p>
<p><b>28.3.1.1 BSW configuration </b></p>
<p><i>SMI-2124 </i></p>
<p><b>The user of MICROSAR Safe shall ensure that the RTE and the operating system </b></p>
<p><b>assume the same scheduling properties. </b></p>
<p>The scheduling properties of the RTE tasks depend on the configuration of the operating </p>
<p>system. The scheduling properties are e.g. preemptability, core assignment or task priority. </p>
<p>The RTE Analyzer lists the scheduling properties in the configuration feedback report to </p>
<p>assist in this integration step. The scheduling properties listed in the feedback report shall </p>
<p>be verified. </p>
<p><i>SMI-2129 </i></p>
<h1 style="page-break-before:always; "></h1>
<p>Safety Manual CBD1700369 D04</p>
<p> </p>
<p></p>
<p>2018 Vector Informatik GmbH </p>
<p>1.0 </p>
<p>95 / 126 </p>
<p><b>The user of MICROSAR Safe shall ensure that the assumptions of the operating </b></p>
<p><b>system and the RTE are the same with regards to the locking behavior of the </b></p>
<p><b>spinlocks. </b></p>
<p>The RTE generator uses spinlocks from the operating system to protect inter-core </p>
<p>communication. Spinlocks must not be called concurrently on the same core. The </p>
<p>operating system optionally provides spinlocks that can prevent these concurrent </p>
<p>accesses on the same core. If this protection by the operating system is not used, the RTE </p>
<p>generator has to prevent concurrent calls to the spinlock APIs on the same core.  </p>
<p>Verification can e.g. be performed by review of the configuration feedback report. </p>
<p>The RTE Analyzer lists spinlocks that are not protected by the RTE to assist in this </p>
<p>integration step. </p>
<p><i>SMI-684 </i></p>
<p><b>The user of MICROSAR Safe shall ensure that the configuration of COM and RTE are </b></p>
<p><b>consistent. </b></p>
<p>The interfaces to the COM that are used for signal reception use <i>void </i>pointers as </p>
<p>parameter. Inconsistencies between the configuration of the COM and the RTE might lead </p>
<p>to memory corruption by the COM. During integration the size assumptions between the </p>
<p>COM and the RTE shall be compared.  </p>
<p>Verification can be performed by review of the generated configuration and/or static code </p>
<p>analysis. </p>
<p>The RTE Analyzer lists relevant calls to assist in this integration step. </p>
<p>The RTE Analyzer listing includes the number of written bytes for MICROSAR COM. </p>
<p><i>SMI-685 </i></p>
<p><b>The user of MICROSAR Safe shall ensure that the configuration of NVM and RTE are </b></p>
<p><b>consistent. </b></p>
<p>The interfaces to the NVM that are used to handle NV Block SWCs use <i>void </i>pointers as </p>
<p>parameters. Inconsistencies between the configuration of the NVM and the RTE might </p>
<p>lead to memory corruption by the RTE. During integration the size assumptions between </p>
<p>the NVM and the RTE shall be compared.  </p>
<p>Verification can be performed by review of the generated configuration and/or static code </p>
<p>analysis. </p>
<p>The RTE Analyzer lists relevant calls to assist in this integration step. </p>
<p><b>28.3.1.2 Executable Entity Scheduling </b></p>
<p><i>SMI-2063 </i></p>
<p><b>The user of MICROSAR Safe shall ensure that all safety-related executable entities </b></p>
<p><b>are triggered with their correct conditions. </b></p>
<p>These conditions are: </p>
<h1 style="page-break-before:always; "></h1>
<p>Safety Manual CBD1700369 D04</p>
<p> </p>
<p></p>
<p>2018 Vector Informatik GmbH </p>
<p>1.0 </p>
<p>96 / 126 </p>
<p>o</p>
<p> </p>
<p>cylic triggers with cycle time and offset </p>
<p>o</p>
<p> </p>
<p>init triggers </p>
<p>o</p>
<p> </p>
<p>background triggers </p>
<p>o</p>
<p> </p>
<p>triggers fired by RTE APIs </p>
<p>If triggers have a dependency on modes, the scheduling has to be verified for all modes. </p>
<p>Modes can be switched with the <i>Rte_Switch </i>API. </p>
<p>Triggers can be decoupled by the minimum start interval functionality and the data </p>
<p>reception filter functionality. </p>
<p>The scheduling of the executable entities also depends on the configuration of the </p>
<p>operating system, the used controller, other running tasks and interrupt service routines </p>
<p>and the resource usage of the entities that are implemented by the user. </p>
<p>Vector recommends not using the minimum start interval and the data reception filter </p>
<p>functionality for safety-related runnables. </p>
<p>Vector recommends not using background triggers for safety-related functionality. </p>
<p>Vector recommends using cyclic scheduling without mode dependencies and using of a </p>
<p>watchdog as safety mechanism for safety-related entities where possible. </p>
<p>Cyclic triggers are e.g. scheduled deterministically. Thus, an integration test verifying that </p>
<p>safety-related functionality is scheduled at the expected times may be sufficient. </p>
<p>The RTE Analyzer lists the executable entities of SWCs and the tasks in which they are </p>
<p>executed to assist in this integration step.  </p>
<p><i>SMI-2128 </i></p>
<p><b>The user of MICROSAR Safe shall ensure that reentrant runnables are reentrant. </b></p>
<p>Runnables can be called reentrantly from multiple tasks. Their implementation needs to </p>
<p>support this use case.  </p>
<p>Verification can e.g. be performed by review, static code analysis and/or integration </p>
<p>testing. </p>
<p>The RTE Analyzer lists all runnables of SWCs that are called from concurrent tasks to </p>
<p>assist in this integration step. </p>
<p>Implicit exclusive areas and nonpreemptive tasks can be configured to prevent concurrent </p>
<p>execution. </p>
<p><i>SMI-2064 </i></p>
<p><b>The user of MICROSAR Safe shall ensure that the timeouts configured for blocking </b></p>
<p><b>APIs that are used in safety-related executable entities are adequately addressed. </b></p>
<p>If a timeout for a blocking API is used as a safety mechanism (E.g. no checkpoint with </p>
<p>deadline monitoring in the task), the user of MICROSAR Safe shall also ensure that the </p>
<p>timeout value is adequate. </p>
<p>Relevant timeouts are: </p>
<h1 style="page-break-before:always; "></h1>
<p>Safety Manual CBD1700369 D04</p>
<p> </p>
<p></p>
<p>2018 Vector Informatik GmbH </p>
<p>1.0 </p>
<p>97 / 126 </p>
<p>o</p>
<p> </p>
<p>timeouts of <i>Rte_Call </i>APIs </p>
<p>o</p>
<p> </p>
<p>timeouts of <i>Rte_Result </i>APIs </p>
<p>o</p>
<p> </p>
<p>timeouts of <i>Rte_Receive </i>APIs </p>
<p>o</p>
<p> </p>
<p>timeouts of <i>Rte_Feedback </i>APIs </p>
<p>o</p>
<p> </p>
<p>timeouts of <i>Rte_SwitchAck </i>APIs </p>
<p>The timeouts also depend on the configuration of the operating system, the used </p>
<p>controller, other running tasks and interrupt service routines and the resource usage of </p>
<p>entities that are implemented by the user. </p>
<p>Vector recommends not using blocking APIs in safety-related entities except for cross </p>
<p>partition client-/server communication. </p>
<p>Vector strongly recommends not using blocking APIs without timeout. </p>
<p>A review may be sufficient to verify that timeout handling is implemented properly by the </p>
<p>SWC. </p>
<p>If no other safety mechanism is in place, a test that the timeout is notified at the expected </p>
<p>time by the RTE can be used as means of verification. </p>
<p>The RTE Analyzer lists the blocking APIs of SWCs to assist in this integration step. </p>
<p><i>SMI-2122 </i></p>
<p><b>The user of MICROSAR Safe shall ensure that the correct implementation method </b></p>
<p><b>has been chosen for every exclusive area. </b></p>
<p>Exclusive areas can be used to ensure data consistency (see SMI-11). </p>
<p>The implementation depends on the requirements of the application and on other factors </p>
<p>like the expected duration of the exclusive area. Interrupt locks are typically faster than </p>
<p>resources but can only be used for short sequences due to the blocking of interrupts. </p>
<p>Operating system interrupts only block the interrupts of the operating system whereas <b>all </b></p>
<p>interrupts blocks all interrupts. </p>
<p>Verification can e.g. be performed by review, static code analysis and/or integration </p>
<p>testing. </p>
<p>The RTE Analyzer lists the exclusive areas and their implementation method to assist in </p>
<p>this integration step. </p>
<p><b>28.3.1.3 SWC Communication </b></p>
<p><i>SMI-41492 </i></p>
<p><b>The user of MICROSAR SafeBRE shall provide the RTE APIs for systems without </b></p>
<p><b>RTE. </b></p>
<p>MICROSAR Basic Runtime Environment (BRE) only provides the BSW scheduler </p>
<p>functionality of the RTE and does not support application SWCs. The implementation of </p>
<p>the interface from the application to BSW modules must be developed according to ISO </p>
<h1 style="page-break-before:always; "></h1>
<p>Safety Manual CBD1700369 D04</p>
<p> </p>
<p></p>
<p>2018 Vector Informatik GmbH </p>
<p>1.0 </p>
<p>98 / 126 </p>
<p>26262. The Technical References of the BSW modules as well as the AUTOSAR standard </p>
<p>define the semantics and APIs that will have to be implemented while integrating the BRE. </p>
<p>The RTE Analyzer does not assist in this integration step. </p>
<p>SMI-324, SMI-2065 and SMI-2123 do not apply to MICROSAR SafeBRE. </p>
<p><i>SMI-324 </i></p>
<p><b>The user of MICROSAR Safe shall ensure that the connections between SWCs are </b></p>
<p><b>as intended. </b></p>
<p>Many types of faults can lead to a mix of connections between SWCs. These are unlikely </p>
<p>and usually already addressed by straight forward integration testing. </p>
<p>The list of senders needs to be correct for every receiver and the subset of the received </p>
<p>data needs to be correct. </p>
<p>Vector recommends the following RTE subset for safety-related SWCs: </p>
<p>o</p>
<p> </p>
<p>use only 1:1 or 1:N connections. </p>
<p>o</p>
<p> </p>
<p>use the same datatype on both sides of a connection </p>
<p>o</p>
<p> </p>
<p>avoid data conversion </p>
<p>Information that is used from non-safety-related SWCs has to be checked for plausibility. If </p>
<p>such a data path is found during integration this is an indicator that your safety analysis </p>
<p>has to be reconsidered. Please note that also other code in the same partition as the non-</p>
<p>safety-related SWCs can corrupt the communication if freedom from interference with </p>
<p>regards to memory is not ensured. </p>
<p>Verification can be performed by review and/or an integration test testing the normal </p>
<p>operation. </p>
<p>The RTE Analyzer list the connections between SWCs to assist in this integration step. </p>
<p><i>SMI-2065 </i></p>
<p><b>The user of MICROSAR Safe shall ensure that inter-ECU sender-/receiver and inter-</b></p>
<p><b>ECU client-/server communication work as expected. </b></p>
<p>This requires verification of: </p>
<p>o</p>
<p> </p>
<p>data needs to be routed to the correct ECU by the underlying communication stack. </p>
<p>This includes 1:1, 1:N, N:1 and reception of partial signal data. </p>
<p>o</p>
<p> </p>
<p>both ECUs need to use the same data representation (datatypes, endianness, </p>
<p>serialization) </p>
<p>Vector requires using E2E protection for safety-related signals. </p>
<p>Vector recommends using 1:1 connections. </p>
<p>Vector recommends always sending and receiving complete data elements. </p>
<h1 style="page-break-before:always; "></h1>
<p>Safety Manual CBD1700369 D04</p>
<p> </p>
<p></p>
<p>2018 Vector Informatik GmbH </p>
<p>1.0 </p>
<p>99 / 126 </p>
<p>Integration testing on vehicle network level using fault-injection can be used. Vector </p>
<p>assumes that this is normally done to verify the effectiveness of the E2E protection. </p>
<p>The RTE Analyzer lists the APIs of SWCs with inter-ECU communication to assist in this </p>
<p>integration step. </p>
<p><i>SMI-2123 </i></p>
<p><b>The user of MICROSAR Safe shall ensure that all connected SWCs expect the same </b></p>
<p><b>converted data. </b></p>
<p>The RTE offers conversions that can be applied to specific connections. </p>
<p>Vector recommends not using data conversion for safety-related connections. </p>
<p>Verification can e.g. be performed by review or integration testing of all data conversions. </p>
<p>The RTE Analyzer lists all APIs of SWCs that perform data conversion to assist in this </p>
<p>integration step. </p>
<p><b>28.3.1.4 Usage of RTE Headers </b></p>
<p><i>SMI-2067 </i></p>
<p><b>The user of MICROSAR Safe shall ensure that the <i>defines </i>and <i>typedefs </i>that are </b></p>
<p><b>generated by the RTE match the expectations of the SWCs that use them. </b></p>
<p>Inconsistencies may lead to e.g, memory corruption when a runnable uses an RTE array </p>
<p>datatype within its implementation and writes beyond the bounds of this array. </p>
<p>Moreover, different SWCs may have different assumptions with regards to the meaning of </p>
<p>communicated values, e.g. if one SWC uses the symbolic name, another SWC the integral </p>
<p>value of an enumerated type. </p>
<p>The following code is provided: </p>
<p>o</p>
<p> </p>
<p>Configured Application Error Defines for Client-/Server Communication </p>
<p>o</p>
<p> </p>
<p>Configured AUTOSAR Datatypes </p>
<p>o</p>
<p> </p>
<p>Configured Upper and Lower Limit Defines for Primitive Application Data Types </p>
<p>o</p>
<p> </p>
<p>Configured Init Value Defines for Sender-/Receiver Communication </p>
<p>o</p>
<p> </p>
<p>Configured InvalidValue Defines for Sender-/Receiver Communication </p>
<p>o</p>
<p> </p>
<p>Configured Enumeration Defines for CompuMethods </p>
<p>o</p>
<p> </p>
<p>Configured Mask Defines for CompuMethods </p>
<p>o</p>
<p> </p>
<p>Configured Mode Defines for Mode Communication </p>
<p>o</p>
<p> </p>
<p>Configured ActivationReasons </p>
<h1 style="page-break-before:always; "></h1>
<p>Safety Manual CBD1700369 D04</p>
<p> </p>
<p></p>
<p>2018 Vector Informatik GmbH </p>
<p>1.0 </p>
<p>100 / 126 </p>
<p>The defines and typedefs are part of the <i>Rte_Type</i>.<i>h</i>, <i>Rte_</i>&lt;SWC&gt;.<i>h </i>and </p>
<p><i>Rte_</i>&lt;SWC&gt;_Type.<i>h </i>headers. </p>
<p>Vector recommends using the headers generated by the RTE when a static code analysis </p>
<p>is performed on the application code. </p>
<p>Vector recommends only using the <i>defines </i>instead of the defined values in the code. </p>
<p>Vector recommends using the <i>defines </i>only when needed (Mode, Application Error </p>
<p>Defines). </p>
<p>Vector recommends reviewing the used <i>defines </i>for safety-related SWCs. </p>
<p>Vector recommends not using union types in the SWCs. </p>
<p>Verification for correct usage of datatypes may be performed by review and/or static code </p>
<p>analysis. Consistent usage of <i>defines </i>can be verified by review and/or integration testing </p>
<p>with all used values. </p>
<p>The RTE Analyzer verifies that all accesses within the RTE do not lead to memory </p>
<p>corruption. </p>
<p><i>SMI-2071 </i></p>
<p><b>The user of MICROSAR Safe shall ensure that the indirect API is used consistently. </b></p>
<p>Indirect API functionality consists of the APIs: </p>
<p>o</p>
<p> </p>
<p><i>Rte_Port </i></p>
<p>o</p>
<p> </p>
<p><i>Rte_Ports </i></p>
<p>o</p>
<p> </p>
<p><i>Rte_NPorts </i></p>
<p>The indirect API makes it possible to call different APIs through an array access. The </p>
<p>indirect API functionality can be enabled individually per port. </p>
<p>A wrong configuration switch can easily lead to a call outside of the array returned by the </p>
<p>Rte_Ports API. </p>
<p>Vector recommends not using the indirect API. </p>
<p>Verification can e.g. be performed by review that the intended APIs are returned. </p>
<p>The RTE Analyzer does not assist in this integration step. </p>
<p><b>28.3.1.5 Usage of RTE APIs </b></p>
<p><i>SMI-2072 </i></p>
<p><b>The user of MICROSAR Safe shall ensure that the RTE and all of its users have the </b></p>
<p><b>same assumptions with regards to the sizes of the datatypes. </b></p>
<p>The RTE supports the configuration of custom datatypes for its APIs. The RTE </p>
<p>specification mandates that arrays are passed as pointer to the array base type. </p>
<p>The RTE does not enforce that both sides of a connection use arrays of the same size. </p>
<h1 style="page-break-before:always; "></h1>
<p>Safety Manual CBD1700369 D04</p>
<p> </p>
<p></p>
<p>2018 Vector Informatik GmbH </p>
<p>1.0 </p>
<p>101 / 126 </p>
<p>No NULL pointers or invalid pointers shall be passed to RTE APIs. </p>
<p>The object to which the pointer points needs to have at least the size of the pointer base </p>
<p>type. </p>
<p>Vector recommends using the headers generated by the RTE when static code analysis is </p>
<p>performed on the application code. </p>
<p>Vector recommends using the same datatypes on both sides of a connection. </p>
<p>Arrays and void pointers on interfaces where the called function writes to them are </p>
<p>considered especially relevant. </p>
<p>Verification can e.g. be performed by review and/or static code analysis. </p>
<p>The RTE Analyzer lists APIs and runnables that use such parameters to assist in this </p>
<p>integration step. </p>
<p><i>SMI-2073 </i></p>
<p><b>The user of MICROSAR Safe shall ensure that RTE APIs are only called from their </b></p>
<p><b>configured contexts. </b></p>
<p>Fast response times are crucial in embedded systems. Therefore, the RTE generator </p>
<p>analyzes the call contexts of all APIs in order to optimize away unneeded interrupt locks. </p>
<p>When the application calls the APIs from a different context than the RTE assumes, data </p>
<p>consistency problems may arise. </p>
<p>In systems with ASIL partitions, the RTE generator uses a conservative locking strategy. </p>
<p>Locks are only optimized away if all accesses are done within the same task. </p>
<p>Verification can e.g. be performed by review and/or static code analysis. </p>
<p>The RTE Analyzer lists the optimized APIs of SWCs to assist in this integration step. </p>
<p>The RTE Analyzer lists APIs that must not be called by the application because they are </p>
<p>considered unreachable due to the RTE configuration. </p>
<p><b>28.3.1.6 Configuration of RTE APIs </b></p>
<p><i>SMI-2074 </i></p>
<p><b>The user of MICROSAR Safe shall ensure that the receivers can handle the initial </b></p>
<p><b>value provided by the RTE if no write or calibration occurred. </b></p>
<p>For implicit accesses the user of MICROSAR Safe shall assure that the correct initial value </p>
<p>is sent when <i>Rte_IWrite </i>or <i>Rte_IWriteRef </i>were not called in the runnable. </p>
<p>Initial values can be configured for: </p>
<p>o</p>
<p> </p>
<p>non-queued sender-/receiver communication </p>
<p>o</p>
<p> </p>
<p>inter-runnable variables </p>
<p>o</p>
<p> </p>
<p>mode ports  </p>
<p>o</p>
<p> </p>
<p>calibration parameters  </p>
<h1 style="page-break-before:always; "></h1>
<p>Safety Manual CBD1700369 D04</p>
<p> </p>
<p></p>
<p>2018 Vector Informatik GmbH </p>
<p>1.0 </p>
<p>102 / 126 </p>
<p>The initial value is returned when no sending API was called before the first read or no </p>
<p>calibration was performed before the first read. The initial values depend on the connected </p>
<p>components. </p>
<p>Vector recommends using the same initial value on all port data elements that are </p>
<p>connected with each other. </p>
<p>The RTE Analyzer lists all APIs of SWCs that may provide an initial value to assist in this </p>
<p>integration step. If possible, the RTE Analyzer reports the initial value generated by the </p>
<p>RTE into the configuration feedback report. </p>
<p><i>SMI-2075 </i></p>
<p><b>The user of MICROSAR Safe shall ensure that the alive timeout by the COM is not </b></p>
<p><b>used for safety-related inter-ECU sender/receiver communication. </b></p>
<p>Safety-related communication must be protected by E2E protection. The decision if new </p>
<p>data is available (alive) can only be made by the E2E mechanism. Data is not interpreted </p>
<p>by the COM. For example the sending ECU might repeat old data. This is only detected by </p>
<p>the cycle counter that is part of the E2E protection. </p>
<p>The RTE Analyzer lists the reading APIs that provide the alive timeout status to assist in </p>
<p>this integration step. </p>
<p><i>SMI-2126 </i></p>
<p><b>The user of MICROSAR Safe shall ensure that SWCs handle the <i>RTE_E_INVALID </b></i></p>
<p><b>return code properly. </b></p>
<p>The RTE offers a functionality to invalidate signals. </p>
<p>Vector requires using end-to-end protection for safety-related inter-ECU communication. </p>
<p>Relying on the invalidation mechanism for safety-related signals is not an option. The user </p>
<p>of MICROSAR Safe shall not use invalidation for inter-ECU communication. </p>
<p>Verification can e.g. be performed by review and/or integration testing. </p>
<p>The RTE Analyzer lists RTE APIs that return the <i>RTE_E_INVALID </i>return code to assist in </p>
<p>this integration step. </p>
<p><i>SMI-2127 </i></p>
<p><b>The user of MICROSAR Safe shall ensure that SWCs handle the </b></p>
<p><i><b>RTE_E_NEVER_RECEIVED </i>return code properly. </b></p>
<p>The RTE offers a functionality to report if a signals was received after the ECU was </p>
<p>started. </p>
<p>Vector requires using end-to-end protection for safety-related signals. Relying on the never </p>
<p>received mechanism for safety-related signals is not an option. Especially, when using the </p>
<p>E2E transformer, its return value shall be evaluated. </p>
<p>Verification can e.g. be performed by review or integration testing. </p>
<h1 style="page-break-before:always; "></h1>
<p>Safety Manual CBD1700369 D04</p>
<p> </p>
<p></p>
<p>2018 Vector Informatik GmbH </p>
<p>1.0 </p>
<p>103 / 126 </p>
<p>The RTE Analyzer lists RTE APIs that return the <i>RTE_E_NEVER_RECEIVED </i>return code </p>
<p>to assist in this integration step. </p>
<p><i>SMI-2125 </i></p>
<p><b>The user of MICROSAR Safe shall ensure that the queue sizes that were chosen </b></p>
<p><b>during the configuration are sufficient for the integrated system. </b></p>
<p>The RTE uses queues for mode communication, sender-/receiver communication and </p>
<p>mapped client-/server communication. The queue sizes depend on the scheduling of </p>
<p>entities and the call sequences of the APIs. </p>
<p>Vector recommends not using APIs with queues for safety-related functionality. </p>
<p>Verification can e.g. be performed by stress testing. </p>
<p>The RTE Analyzer lists the queue sizes to assist in this integration step. </p>
<p><i>SMI-36068 </i></p>
<p><b>The user of MICROSAR Safe shall ensure that all connections with end-to-end (E2E) </b></p>
<p><b>protection are generated. </b></p>
<p>The RTE Analyzer lists RTE APIs that read or write end-to-end protected data (see SMI-</p>
<p>98). </p>
<p><b>28.4 Safety features required from other components</b></p>
<p><b> </b></p>
<p><i>SMI-2121 </i></p>
<p>RTE requires the following functionality as safety feature from the operating system: </p>
<p>o</p>
<p> </p>
<p>Interrupt enabling/disabling </p>
<p>o</p>
<p> </p>
<p>Resource handling </p>
<p>o</p>
<p> </p>
<p>Inter OS Application Communicator (IOC) sending and receiving functionality </p>
<p>o</p>
<p> </p>
<p>Spin-lock functionality </p>
<p>o</p>
<p> </p>
<p>Alarm handling </p>
<p>o</p>
<p> </p>
<p>Schedule table handling </p>
<p>o</p>
<p> </p>
<p>Activation of tasks </p>
<p>o</p>
<p> </p>
<p>Event handling </p>
<p>This requirement is fulfilled if an ASIL operating system by Vector is used. </p>
<p><i>SMI-2978 </i></p>
<p>RTE requires the following functionality as safety feature from the NvM: </p>
<p>o</p>
<p> </p>
<p>Reading blocks </p>
<h1 style="page-break-before:always; "></h1>
<p>Safety Manual CBD1700369 D04</p>
<p> </p>
<p></p>
<p>2018 Vector Informatik GmbH </p>
<p>1.0 </p>
<p>104 / 126 </p>
<p>o</p>
<p> </p>
<p>Writing blocks </p>
<p>This requirement is fulfilled if an ASIL NvM by Vector is used. </p>
<p><b>28.5 Dependencies to hardware</b></p>
<p><b> </b></p>
<p>This component does not use a direct hardware interface. </p>
<h1 style="page-break-before:always; "></h1>
<p>Safety Manual CBD1700369 D04</p>
<p> </p>
<p></p>
<p>2018 Vector Informatik GmbH </p>
<p>1.0 </p>
<p>105 / 126 </p>
<p><b>29 Safety Manual SecOC</b></p>
<p><b> </b></p>
<p><b>29.1 Safety features</b></p>
<p><b> </b></p>
<p>This component does not provide safety features. </p>
<p><b>29.2 Configuration constraints</b></p>
<p><b> </b></p>
<p>This component does not have configuration constraints. </p>
<p><b>29.3 Additional verification measures</b></p>
<p><b> </b></p>
<p><i>SMI-41233 </i></p>
<p>The user of MICROSAR Safe shall verify for each entry of table </p>
<p>SecOC_VerificationStatusCallout</p>
<p> that function referred by member </p>
<p>SecOCVerificationStatusCalloutType</p>
<p> has the following signature (the placeholder </p>
<p>&lt;name&gt;</p>
<p> </p>
<p>represents the function's name): </p>
<p>void &lt;name&gt;(SecOC_VerificationStatusType verificationStatus)</p>
<p> </p>
<p>The table </p>
<p>SecOC_VerificationStatusCallout</p>
<p> can be found in SecOC_Lcfg.c. </p>
<p><b>29.4 Safety features required from other components</b></p>
<p><b> </b></p>
<p>This component does not require safety features from other components. </p>
<p><b>29.5 Dependencies to hardware</b></p>
<p><b> </b></p>
<p>This component does not use a direct hardware interface. </p>
<h1 style="page-break-before:always; "></h1>
<p>Safety Manual CBD1700369 D04</p>
<p> </p>
<p></p>
<p>2018 Vector Informatik GmbH </p>
<p>1.0 </p>
<p>106 / 126 </p>
<p><b>30 Safety Manual FrTp</b></p>
<p><b> </b></p>
<p><b>30.1 Safety features</b></p>
<p><b> </b></p>
<p>This component does not provide safety features. </p>
<p><b>30.2 Configuration constraints</b></p>
<p><b> </b></p>
<p><i>SMI-32326 </i></p>
<p>The user of MICROSAR Safe shall configure the following attribute: </p>
<p>o</p>
<p> </p>
<p>Set /MICROSAR/FrTp/FrTpGeneral/FrTpRuntimeMeasurementSupport to FALSE. </p>
<p>This setting is enforced by a MSSV plugin. </p>
<p><b>30.3 Additional verification measures</b></p>
<p><b> </b></p>
<p>This component does not require additional verification measures. </p>
<p><b>30.4 Safety features required from other components</b></p>
<p><b> </b></p>
<p>This component does not require safety features from other components. </p>
<p><b>30.5 Dependencies to hardware</b></p>
<p><b> </b></p>
<p>This component does not use a direct hardware interface. </p>
<h1 style="page-break-before:always; "></h1>
<p>Safety Manual CBD1700369 D04</p>
<p> </p>
<p></p>
<p>2018 Vector Informatik GmbH </p>
<p>1.0 </p>
<p>107 / 126 </p>
<p><b>31 Safety Manual WdgIf</b></p>
<p><b> </b></p>
<p><b>31.1 Safety features</b></p>
<p><b> </b></p>
<p><i>SMI-519 </i></p>
<p>This component provides the following safety features: </p>
<p><b>ID </b></p>
<p><b> </b></p>
<p><b>Safety feature </b></p>
<p><b> </b></p>
<p>CREQ-</p>
<p>107414 </p>
<p> </p>
<p>WdgIf shall provide a service to set the mode of a watchdog device</p>
<p> </p>
<p>CREQ-</p>
<p>107415 </p>
<p> </p>
<p>WdgIf shall provide a service to set the trigger condition for a watchdog device</p>
<p> </p>
<p>CREQ-</p>
<p>107416 </p>
<p> </p>
<p>WdgIf shall support a mechanism to combine statuses of different cores and handle </p>
<p>one watchdog for different cores</p>
<p> </p>
<p> </p>
<p><b>31.2 Configuration constraints</b></p>
<p><b> </b></p>
<p><i>SMI-522 </i></p>
<p>If a state combiner is used, the user of MICROSAR Safe shall configure  </p>
<p>o</p>
<p> </p>
<p><i>WdgIfStateCombinerSpinlockID </i>and </p>
<p>o</p>
<p> </p>
<p><i>WdgIfStateCombinerStartUpSyncCycles </i></p>
<p>for each core that is used by the state combiner. </p>
<p><i>SMI-523 </i></p>
<p>If a state combiner is used and <i>WdgIfStateCombinerStartUpSyncCycles </i>is set to a value s, </p>
<p>the user of MICROSAR Safe shall consider that for the first s SupervisionCycles of the </p>
<p>master, the master does not monitor the slave triggers. </p>
<p>However, reset requests from a slave within the first s SupervisionCycles, are escalated by </p>
<p>the master with the next call of the master’s <i>WdgM_MainFunction()</i>. </p>
<p><b>31.3 Additional verification measures</b></p>
<p><b> </b></p>
<p><i>SMI-525 </i></p>
<p>The user of MICROSAR Safe shall verify that the output path of the generator is empty </p>
<p>before the generator is started. </p>
<p>The output path can be defined by the command line argument <i>OUTPUT-DIRECTORY</i>. </p>
<p><i>SMI-526 </i></p>
<p>The user of MICROSAR Safe shall inspect the messages of the generator execution. </p>
<p>If the generator aborts the generation process with an error message, the (partially) </p>
<p>generated output files shall not be used in the system. </p>
<p>If the generator detects an error, a message starting with &quot;ERROR&quot; is displayed on the </p>
<p>standard output. </p>
<p>If the generator shows a warning message starting with &quot;WARNING&quot;, the user of </p>
<h1 style="page-break-before:always; "></h1>
<p>Safety Manual CBD1700369 D04</p>
<p> </p>
<p></p>
<p>2018 Vector Informatik GmbH </p>
<p>1.0 </p>
<p>108 / 126 </p>
<p>MICROSAR Safe shall ensure that the cause of the warning does not invalidate the </p>
<p>generated output files. </p>
<p><i>SMI-527 </i></p>
<p>The user of MICROSAR Safe shall verify that the following preprocessor directives are </p>
<p>defined with the correct value independent from whether a state combiner is configured or </p>
<p>not: </p>
<p><b>Preprocessor Directive </b></p>
<p><b> </b></p>
<p><b>Value </b></p>
<p><b> </b></p>
<p><i>WDGIF_VERSION_INFO_API</i></p>
<p> </p>
<p><i>STD_ON </i>if <i>WdgIfVersionInfoApi </i>is <i>TRUE</i>, otherwise </p>
<p><i>STD_OFF</i>.</p>
<p> </p>
<p><i>WDGIF_USE_AUTOSAR_DRV_API</i></p>
<p> </p>
<p><i>STD_ON</i></p>
<p> </p>
<p><i>WDGIF_DEV_ERROR_DETECT</i></p>
<p> </p>
<p><i>STD_ON </i>if <i>WdgIfDevErrorDetect </i>is <i>TRUE</i>, otherwise </p>
<p><i>STD_OFF</i>.</p>
<p> </p>
<p><i>WDGIF_INTERNAL_TICK_COUNTER</i></p>
<p> </p>
<p><i>STD_OFF</i></p>
<p> </p>
<p><i>WDGIF_USE_STATECOMBINER</i></p>
<p> </p>
<p><i>STD_ON </i>if <i>WdgIfUseStateCombiner </i>is <i>TRUE</i>, otherwise </p>
<p><i>STD_OFF</i>.</p>
<p> </p>
<p>The defines can be found in <i>WdgIf_Cfg_Features.h</i>. </p>
<p><i>SMI-528 </i></p>
<p>The user of MICROSAR Safe shall verify that the following preprocessor directives are </p>
<p>defined with the correct value only if a state combiner is configured: </p>
<p><b>Preprocessor Directive </b></p>
<p><b> </b></p>
<p><b>Value </b></p>
<p><b> </b></p>
<p><i>WDGIF_STATECOMBINER_USE_OS_SPIN_LOCK</i></p>
<p> </p>
<p><i>STD_ON </i>if </p>
<p><i>WdgIfStateCombinerUseOsSpinlock </i>is </p>
<p><i>TRUE</i>, otherwise <i>STD_OFF</i>.</p>
<p> </p>
<p><i>WDGIF_STATECOMBINER_MANUAL_MODE</i></p>
<p> </p>
<p><i>STD_ON </i>if </p>
<p><i>WdgIfStateCombinerUseManualMode </i>is </p>
<p><i>TRUE</i>, otherwise <i>STD_OFF</i>.</p>
<p> </p>
<p>The defines can be found in <i>WdgIf_Cfg_Features.h</i>. </p>
<p><i>SMI-529 </i></p>
<p>The user of MICROSAR Safe shall verify that the following preprocessor directives are </p>
<p>defined with the correct value independent from whether a state combiner is configured or </p>
<p>not: </p>
<p><b>Preprocessor Directive </b></p>
<p><b> </b></p>
<p><b>Value </b></p>
<p><b> </b></p>
<p><i>WDGIF_NUMBER_OF_WDGIFDEVICES</i></p>
<p> </p>
<p>The number of configured WD Interface Devices.</p>
<p> </p>
<p>The define can be found in <i>WdgIf_LCfg.h</i>. </p>
<p><i>SMI-530 </i></p>
<p>The user of MICROSAR Safe shall verify that the following preprocessor directives are </p>
<p>defined with the correct value only if a state combiner is configured: </p>
<p><b>Preprocessor Directive </b></p>
<p><b> </b></p>
<p><b>Value </b></p>
<p><b> </b></p>
<p><i>WDGIF_NUMBER_OF_SLAVES</i></p>
<p> </p>
<p>The configured number of slave cores. Cores that are not </p>
<p>attached to a State Combiner (i.e. they run independent from </p>
<h1 style="page-break-before:always; "></h1>
<p>Safety Manual CBD1700369 D04</p>
<p> </p>
<p></p>
<p>2018 Vector Informatik GmbH </p>
<p>1.0 </p>
<p>109 / 126 </p>
<p>other cores) do not count as slave.</p>
<p> </p>
<p>The define can be found in <i>WdgIf_LCfg.h</i>. </p>
<p><i>SMI-531 </i></p>
<p>The user of MICROSAR Safe shall verify that the C-struct <i>const WdgIf_InterfaceType </i></p>
<p><i>WdgIf_Interface </i>is defined in <i>WdgIf_LCfg.c</i>. </p>
<p><i>WdgIf_Interface </i>shall contain the following fields: </p>
<p><b>Field </b></p>
<p><b> </b></p>
<p><b>Value </b></p>
<p><b> </b></p>
<p><b>Description </b></p>
<p><b> </b></p>
<p>1st </p>
<p> </p>
<p><i>WDGIF_NUMBER_OF_WDGIFDEVICES</i></p>
<p> </p>
<p>The number of WD Interface Devices.</p>
<p> </p>
<p>2nd </p>
<p> </p>
<p><i>WdgIf_FunctionsPerWdg</i></p>
<p> </p>
<p>A reference to the list of WD Interface Devices.</p>
<p> </p>
<p>If a state combiner is configured, <i>WdgIf_Interface </i>shall also contain the following fields:  </p>
<p><b>Field </b></p>
<p><b> </b></p>
<p><b>Value </b></p>
<p><b> </b></p>
<p><b>Description </b></p>
<p><b> </b></p>
<p>3rd </p>
<p> </p>
<p><i>&amp;wdgif_statecombiner_common_config</i></p>
<p> </p>
<p>A reference to the state combiner data structure.</p>
<p> </p>
<p>4th </p>
<p> </p>
<p><i>wdgif_statecombiner_manual_config</i></p>
<p> </p>
<p>In case of manual mode.</p>
<p> </p>
<p> </p>
<p><i>SMI-532 </i></p>
<p>The user of MICROSAR Safe shall verify that the array <i>static const </i></p>
<p><i>WdgIf_InterfaceFunctionsPerWdgDeviceType WdgIf_FunctionsPerWdg </i></p>
<p>[WDGIF_NUMBER_OF_WDGIFDEVICES] is defined in <i>WdgIf_LCfg.c</i>. </p>
<p><i>WdgIf_FunctionsPerWdg </i>shall refer all – and only - the WD Interface Devices that are </p>
<p>configured in the EDF. </p>
<p><i>WdgIf_FunctionsPerWdg[i] </i>shall refer the underlying WD Interface Device in the EDF with </p>
<p><i>WdgIfDeviceIndex </i>= <i>i</i>. </p>
<p>The fields in an array element in <i>WdgIf_FunctionsPerWdg </i>shall be set as follows: </p>
<p><b>Field </b></p>
<p><b> </b></p>
<p><b>Value </b></p>
<p><b> </b></p>
<p><b>Description </b></p>
<p><b> </b></p>
<p>1st </p>
<p> </p>
<p><i>&amp;device_functions</i></p>
<p> </p>
<p>If the underlying WD Interface Device is directly linked to a WD driver </p>
<p>for device, then the field refers to the C-struct device_functions.</p>
<p> </p>
<p>1st </p>
<p> </p>
<p>NULL_PTR </p>
<p> </p>
<p>If the underlying WD Interface Device shares the WD driver with other </p>
<p>WD Interface Devices using a state combiner, then the linked WD </p>
<p>device is referred in <i>wdgif_statecombiner_common_config</i>.</p>
<p> </p>
<p>If a state combiner is configured, an array element in <i>WdgIf_FunctionsPerWdg </i>shall also </p>
<p>contain the following field:  </p>
<p><b>Field </b></p>
<p><b> </b></p>
<p><b>Value </b></p>
<p><b> </b></p>
<p><b>Description </b></p>
<p><b> </b></p>
<p>2nd </p>
<p> </p>
<p><i>WdgInstance</i></p>
<p> </p>
<p>A number that uniquely identifies the WD Interface Device instance for the </p>
<p>underlying platform. All instances on the same platform are numbered </p>
<p>consecutively starting with 0. Example: One platform has instances A and B, </p>
<p>another platform has instances C and D. Then A, B, C, and D have </p>
<p><i>WdgInstance </i>set (in this order) as: 0,1,0,1.</p>
<p> </p>
<p> </p>
<p><i>SMI-533 </i></p>
<h1 style="page-break-before:always; "></h1>
<p>Safety Manual CBD1700369 D04</p>
<p> </p>
<p></p>
<p>2018 Vector Informatik GmbH </p>
<p>1.0 </p>
<p>110 / 126 </p>
<p>If a state combiner is configured, the user of MICROSAR Safe shall verify that the array </p>
<p><i>static const WdgIf_StateCombinerCommonConfigType </i></p>
<p><i>wdgif_statecombiner_common_config </i>is defined in <i>WdgIf_LCfg.c</i>. </p>
<p>The fields in <i>wdgif_statecombiner_common_config </i>shall be set as follows: </p>
<p><b>Field </b></p>
<p><b> </b></p>
<p><b>Value </b></p>
<p><b> </b></p>
<p><b>Description </b></p>
<p><b> </b></p>
<p>1st </p>
<p> </p>
<p><i>WDGIF_NUMBER_OF_SLAVES</i></p>
<p> </p>
<p>The number of configured slaves.</p>
<p> </p>
<p>2nd </p>
<p> </p>
<p><i>WdgIfStateCombinerSpinlockID</i></p>
<p> </p>
<p>The value of field </p>
<p><i>WdgIfStateCombinerSpinlockID </i>in the EDF.</p>
<p> </p>
<p>3rd </p>
<p> </p>
<p><i>WdgIfStateCombinerStartUpSyncCycles</i></p>
<p> </p>
<p>The value of field </p>
<p><i>WdgIfStateCombinerStartUpSyncCycles </i>in the </p>
<p>EDF.</p>
<p> </p>
<p>4th </p>
<p> </p>
<p><i>&amp;device_functions</i></p>
<p> </p>
<p>A reference to the WD driver API functions for </p>
<p>device.</p>
<p> </p>
<p>5th </p>
<p> </p>
<p><i>wdgif_statecombiner_shared_memory</i></p>
<p> </p>
<p>A reference to the shared memory for the state </p>
<p>combiners of the Watchdog Interfaces.</p>
<p> </p>
<p> </p>
<p><i>SMI-534 </i></p>
<p>If a state combiner is configured, the user of MICROSAR Safe shall verify that the array </p>
<p><i>WdgIf_StateCombinerSharedMemory wdgif_statecombiner_shared_memory </i></p>
<p>[WDGIF_NUMBER_OF_SLAVES] is defined in <i>WdgIf_LCfg.c</i>. </p>
<p>The WdgIf writes to this array, hence it is not <i>const</i>. </p>
<p><i>wdgif_statecombiner_shared_memory </i>shall contain one array element for each configured </p>
<p>slave and the fields in the element shall be set as shown in the following table: </p>
<p><b>Field </b></p>
<p><b> </b></p>
<p><b>Value </b></p>
<p><b> </b></p>
<p><b>Description </b></p>
<p><b> </b></p>
<p>1st </p>
<p> </p>
<p><i>0u</i></p>
<p> </p>
<p>Initial value for the slave’s WindowStart.</p>
<p> </p>
<p>2nd </p>
<p> </p>
<p><i>(uint16)~0u</i></p>
<p> </p>
<p>Inverse initial value for the slave’s WindowStart.</p>
<p> </p>
<p>3rd </p>
<p> </p>
<p><i>0u</i></p>
<p> </p>
<p>Initial value for the slave’s Timeout.</p>
<p> </p>
<p>4th </p>
<p> </p>
<p><i>(uint16)~0u</i></p>
<p> </p>
<p>Inverse initial value for the slave’s Timeout.</p>
<p> </p>
<p>5th </p>
<p> </p>
<p><i>0u</i></p>
<p> </p>
<p>Initial value for the slave’s counter.</p>
<p> </p>
<p>6th </p>
<p> </p>
<p><i>(uint16)~0u</i></p>
<p> </p>
<p>Inverse initial value for the slave’s counter.</p>
<p> </p>
<p> </p>
<p><i>SMI-535 </i></p>
<p>If the state combiner is configured in manual mode, the user of MICROSAR Safe shall </p>
<p>verify that the array <i>static const WdgIf_StateCombinerManualConfigType* </i></p>
<p><i>wdgif_statecombiner_manual_config </i>[WDGIF_NUMBER_OF_SLAVES] is defined in </p>
<p><i>WdgIf_LCfg.c</i>. </p>
<p><i>wdgif_statecombiner_manual_config </i>shall list the references to all configured slaves. </p>
<p><i>wdgif_statecombiner_manual_config[i] </i>= <i>&amp;wdgif_statecombiner_config_slave&lt;ID&gt;</i>, where </p>
<p>ID is the slave’s consecutive number starting with 1. </p>
<p><i>SMI-536 </i></p>
<p>If the state combiner is configured in manual mode, the user of MICROSAR Safe shall </p>
<p>verify that for a configured slave with ID the C-struct <i>static const </i></p>
<h1 style="page-break-before:always; "></h1>
<p>Safety Manual CBD1700369 D04</p>
<p> </p>
<p></p>
<p>2018 Vector Informatik GmbH </p>
<p>1.0 </p>
<p>111 / 126 </p>
<p><i>WdgIf_StateCombinerManualConfigType wdgif_statecombiner_config_slave&lt;ID&gt; </i>is </p>
<p>defined in <i>WdgIf_LCfg.c</i>. </p>
<p><i>wdgif_statecombiner_config_slave&lt;ID&gt; </i>shall be set as follows: </p>
<p><b>Field </b></p>
<p><b> </b></p>
<p><b>Value </b></p>
<p><b> </b></p>
<p><b>Description </b></p>
<p><b> </b></p>
<p>1st </p>
<p> </p>
<p><i>WdgIfStateCombinerReferenceCycle</i></p>
<p> </p>
<p>The value of field </p>
<p><i>WdgIfStateCombinerReferenceCycle </i>in the </p>
<p>EDF.</p>
<p> </p>
<p>2nd </p>
<p> </p>
<p><i>WdgIfStateCombinerSlaveIncrementsMin</i></p>
<p> </p>
<p>The value of field </p>
<p><i>WdgIfStateCombinerSlaveIncrementsMin </i>in </p>
<p>the EDF.</p>
<p> </p>
<p>3rd </p>
<p> </p>
<p><i>WdgIfStateCombinerSlaveIncrementsMax</i></p>
<p> </p>
<p>The value of field </p>
<p><i>WdgIfStateCombinerSlaveIncrementsMax </i>in </p>
<p>the EDF.</p>
<p> </p>
<p> </p>
<p><i>SMI-537 </i></p>
<p>The user of MICROSAR Safe shall verify that for each configured platform the C-struct </p>
<p><i>static const WdgIf_InterfaceFunctionsType &lt;platform&gt;_functions </i>is defined in </p>
<p>WdgIf_LCfg.c. </p>
<p>The fields for each C-struct &lt;platform&gt;_functions shall be set as follows: </p>
<p><b>Field </b></p>
<p><b> </b></p>
<p><b>Value </b></p>
<p><b> </b></p>
<p><b>Description </b></p>
<p><b> </b></p>
<p>1st </p>
<p> </p>
<p><i>Wdg_</i>&lt;infix&gt;_SetMode_ </p>
<p> </p>
<p>A reference to the WD driver’s API </p>
<p>function to set the mode of the device </p>
<p>referred to by infix.</p>
<p> </p>
<p>2nd </p>
<p> </p>
<p><i>Wdg_</i>&lt;infix&gt;_SetTriggerWindow_ and </p>
<p><i>Wdg_</i>&lt;infix&gt;_SetTriggerCondition_ </p>
<p> </p>
<p>A reference to the WD driver’s API </p>
<p>function to set the trigger window of the </p>
<p>device referred to by infix.</p>
<p> </p>
<p> </p>
<p><b>31.4 Safety features required from other components</b></p>
<p><b> </b></p>
<p><i>SMI-520 </i></p>
<p>This component requires the triggering of the watchdog and setting the triggering mode as </p>
<p>a safety feature from the watchdog driver. </p>
<p>This requirement is fulfilled if a watchdog driver by Vector is used. </p>
<p><i>SMI-3085 </i></p>
<p>The WdgIf shall be used in order to call the services of underlying Watchdog driver(/s) to </p>
<p>set the mode and the trigger condition as expected by the drivers. </p>
<p>The user of MICROSAR Safe shall verify that the WdgIf services are only called by the </p>
<p>WdgM. </p>
<p>This requirement is fulfilled for all components of MICROSAR (if Vector's WdgM is used). </p>
<p>If e.g. the trigger condition is called by another component, this may lead to unintended </p>
<p>triggering of the watchdog. </p>
<p>If the watchdog stack is not properly set up, it may not provide the expected protection. </p>
<h1 style="page-break-before:always; "></h1>
<p>Safety Manual CBD1700369 D04</p>
<p> </p>
<p></p>
<p>2018 Vector Informatik GmbH </p>
<p>1.0 </p>
<p>112 / 126 </p>
<p><b>31.5 Dependencies to hardware</b></p>
<p><b> </b></p>
<p>This component does not use a direct hardware interface. </p>
<h1 style="page-break-before:always; "></h1>
<p>Safety Manual CBD1700369 D04</p>
<p> </p>
<p></p>
<p>2018 Vector Informatik GmbH </p>
<p>1.0 </p>
<p>113 / 126 </p>
<p><b>32 Safety Manual WdgM</b></p>
<p><b> </b></p>
<p><b>32.1 Safety features</b></p>
<p><b> </b></p>
<p><i>SMI-373 </i></p>
<p>This component provides the following safety features: </p>
<p><b>ID </b></p>
<p><b> </b></p>
<p><b>Safety feature </b></p>
<p><b> </b></p>
<p>CREQ-</p>
<p>102746 </p>
<p> </p>
<p>WdgM shall provide a mechanism for Alive Supervision.</p>
<p> </p>
<p>CREQ-</p>
<p>102745 </p>
<p> </p>
<p>WdgM shall provide a mechanism for Deadline Supervision.</p>
<p> </p>
<p>CREQ-</p>
<p>102744 </p>
<p> </p>
<p>WdgM shall provide a mechanism for Logical Supervision.</p>
<p> </p>
<p>CREQ-</p>
<p>102749 </p>
<p> </p>
<p>WdgM shall provide a service to trigger a checkpoint.</p>
<p> </p>
<p>CREQ-</p>
<p>102752 </p>
<p> </p>
<p>WdgM shall provide a service to initiate a reset triggered by the hardware </p>
<p>watchdog.</p>
<p> </p>
<p>CREQ-</p>
<p>102754 </p>
<p> </p>
<p>WdgM shall provide a service to activate the supervision of a Supervised Entity.</p>
<p> </p>
<p>CREQ-</p>
<p>102755 </p>
<p> </p>
<p>WdgM shall provide a service to deactivate the supervision of a Supervised Entity.</p>
<p> </p>
<p>CREQ-</p>
<p>102763 </p>
<p> </p>
<p>WdgM shall provide a service to cyclically update the global supervision status.</p>
<p> </p>
<p>CREQ-</p>
<p>102758 </p>
<p> </p>
<p>WdgM shall provide a service to set a new trigger mode.</p>
<p> </p>
<p> </p>
<p>The watchdog manager is able to detect program flow violations, alive counter violations </p>
<p>and deadline violations. </p>
<p>The following types of faults can be detected: </p>
<p>o</p>
<p> </p>
<p>omission of an operation (program flow, alive counter), </p>
<p>o</p>
<p> </p>
<p>unrequested execution of an operation (program flow, alive counter), </p>
<p>o</p>
<p> </p>
<p>operation executed too early (alive counter, deadline), </p>
<p>o</p>
<p> </p>
<p>operation executed too late (alive counter, deadline), and </p>
<p>o</p>
<p> </p>
<p>operations executed in the wrong sequence (program flow). </p>
<p><b>32.2 Configuration constraints</b></p>
<p><b> </b></p>
<p><i>SMI-501 </i></p>
<p>The user of MICROSAR Safe shall use the WdgM only on 32-bit microcontroller platforms. </p>
<h1 style="page-break-before:always; "></h1>
<p>Safety Manual CBD1700369 D04</p>
<p> </p>
<p></p>
<p>2018 Vector Informatik GmbH </p>
<p>1.0 </p>
<p>114 / 126 </p>
<p><i>SMI-499 </i></p>
<p>The user of MICROSAR Safe shall configure and verify alive supervision for a supervised </p>
<p>entity. </p>
<p>If no alive supervision is configured for a supervised entity, WdgM cannot detect if the </p>
<p>corresponding checkpoint is reached at least once. </p>
<p>Please note that for non-periodic supervised entities alive supervision is not possible. </p>
<p>A value of a pre-compile configuration parameter is valid for every core. A different value </p>
<p>cannot be set for the same pre-compile parameter and different cores. </p>
<p><i>SMI-498 </i></p>
<p>The user of MICROSAR Safe shall set the value of <i>WdgMTimebaseSource </i>according to </p>
<p>the required source of time ticks: </p>
<p><b>WdgMTimebaseSource </b></p>
<p><b> </b></p>
<p><b>Description </b></p>
<p><b> </b></p>
<p>WDGM_INTERNAL_SOFTWARE_TICK </p>
<p> </p>
<p>An internal time source for Deadline Monitoring is </p>
<p>selected. The tick counter is incremented each time the </p>
<p><i>WdgM_MainFunction() </i>is invoked.</p>
<p> </p>
<p>WDGM_OS_COUNTER_TICK </p>
<p> </p>
<p>An OsCounter is selected for Deadline Monitoring as </p>
<p>timebase. The user of MICROSAR Safe is responsible </p>
<p>for configuring the OsCounter accurately.</p>
<p> </p>
<p>WDGM_EXTERNAL_TICK </p>
<p> </p>
<p>An external time source for Deadline Monitoring is </p>
<p>selected. The tick counter is incremented each time the </p>
<p><i>WdgM_UpdateTickCount() </i>function is invoked. The </p>
<p>function is implemented in the WdgM. The user of </p>
<p>MICROSAR Safe is responsible for calling </p>
<p>WdgM_UpdateTickCount() accurately.</p>
<p> </p>
<p> </p>
<p><i>SMI-560 </i></p>
<p>The user of MICROSAR Safe shall use the functions <i>WdgM_ActivateSupervisionEntity() </i></p>
<p>and <i>WdgM_DeactivateSupervisionEntity() </i>to activate and deactivate the supervision of </p>
<p>supervised entities.  </p>
<p>Activation and deactivation shall only be performed by a software component that is </p>
<p>developed according to the highest ASIL that is allocated to the ECU. </p>
<p>The functions are only available if <i>WdgMEntityDeactivationEnabled </i>is set to <i>TRUE</i>. </p>
<p>Vector recommends setting <i>WdgMEntityDeactivationEnabled </i>to <i>FALSE </i>to prevent that </p>
<p>faults are not detected. </p>
<p><b>32.3 Additional verification measures</b></p>
<p><b> </b></p>
<p><i>SMI-3072 </i></p>
<p>The user of MICROSAR Safe shall verify that the WdgM is initialized only at intended </p>
<p>points in time, e.g. during initialization. </p>
<p>Unintended re-initialization may lead to a incorrect monitoring. </p>
<p><i>SMI-502 </i></p>
<h1 style="page-break-before:always; "></h1>
<p>Safety Manual CBD1700369 D04</p>
<p> </p>
<p></p>
<p>2018 Vector Informatik GmbH </p>
<p>1.0 </p>
<p>115 / 126 </p>
<p>The user of MICROSAR Safe shall verify that the output path of the generator is empty </p>
<p>before the generator is started. </p>
<p>The output path can be defined by the command line argument <i>OUTPUT-DIRECTORY</i>. </p>
<p><i>SMI-524 </i></p>
<p>The user of MICROSAR Safe shall inspect the messages of the generator execution. </p>
<p>If the generator aborts the generation process with an error message, the (partially) </p>
<p>generated output files shall not be used in the system. </p>
<p>If the generator detects an error, a message starting with &quot;ERROR&quot; is displayed on the </p>
<p>standard output. </p>
<p>If the generator shows a warning message starting with &quot;WARNING&quot;, the user of </p>
<p>MICROSAR Safe shall ensure that the cause of the warning does not invalidate the </p>
<p>generated output files. </p>
<p><b>32.3.1 Additional verification using WdgM Verifier</b></p>
<p><b> </b></p>
<p><i>SMI-503 </i></p>
<p>The user of MICROSAR Safe shall execute the supplied WdgM Verifier. </p>
<p>Instructions can be found in the technical reference of WdgM on how to run the WdgM </p>
<p>Verifier. </p>
<p><i>SMI-504 </i></p>
<p>The user of MICROSAR Safe shall verify that the report of the WdgM Verifier </p>
<p>o</p>
<p> </p>
<p>comprises &quot;All tests passed&quot; in the last line. and </p>
<p>o</p>
<p> </p>
<p>that all tests in the <i>Summary </i>of the report are marked with <i>PASSED</i>. </p>
<p><i>SMI-1578 </i></p>
<p>If an AUTOSAR OS with a version higher than 4.0 is used the verification test with id '109' </p>
<p>is marked as &quot;NOT PASSED&quot;. </p>
<p>The user of MICROSAR Safe shall verify whether the assigned core id to a WdgMMode is </p>
<p>generated correctly if an AUTOSAR OS with a version higher than 4.0 is used. The WdgM </p>
<p>Verifier cannot not verify this step due to an incompatible change of the Os's description </p>
<p>file. </p>
<p><i>SMI-512 </i></p>
<p>The user of MICROSAR Safe shall verify the generated local transitions in </p>
<p><i>wdgm_verifier_info.c</i>. </p>
<p>Generated local transitions are defined by the C-struct array with the name </p>
<p><i>local_transitions</i>. </p>
<p>The array holds all local transitions of all supervised entities. </p>
<p>Each local transition lt contains the names of: </p>
<p>o</p>
<p> </p>
<p>the source entity (SE) of lt, </p>
<p>o</p>
<p> </p>
<p>the source checkpoint of lt, </p>
<p>o</p>
<p> </p>
<p>the destination entity (SE) of lt and </p>
<h1 style="page-break-before:always; "></h1>
<p>Safety Manual CBD1700369 D04</p>
<p> </p>
<p></p>
<p>2018 Vector Informatik GmbH </p>
<p>1.0 </p>
<p>116 / 126 </p>
<p>o</p>
<p> </p>
<p>the destination checkpoint of lt. </p>
<p>Verification shall include that </p>
<p>o</p>
<p> </p>
<p>each local transition is defined as stated in the System Specification, and </p>
<p>o</p>
<p> </p>
<p>no local transition in the System Specification is missing. </p>
<p><i>SMI-513 </i></p>
<p>The user of MICROSAR Safe shall verify the generated global transitions in </p>
<p><i>wdgm_verifier_info.c</i>. </p>
<p>Generated global transitions are defined by the C-struct array with the name </p>
<p><i>global_transitions</i>. </p>
<p>The array holds all global transitions of all supervised entities. </p>
<p>Each global transition gt contains the names of: </p>
<p>o</p>
<p> </p>
<p>the source entity (SE) of gt, </p>
<p>o</p>
<p> </p>
<p>the source checkpoint of gt, </p>
<p>o</p>
<p> </p>
<p>the destination entity (SE) of gt, and  </p>
<p>o</p>
<p> </p>
<p>the destination checkpoint of gt. </p>
<p>Verification shall include that </p>
<p>o</p>
<p> </p>
<p>each global transition is defined as stated in the System Specification, and </p>
<p>o</p>
<p> </p>
<p>no global transition in the System Specification is missing. </p>
<p><i>SMI-514 </i></p>
<p>The user of MICROSAR Safe shall verify the checkpoints in <i>wdgm_verifier_info.c</i>. </p>
<p>Supervised entities named se are defined by a C-struct array with the name </p>
<p><i>se_</i>&lt;se&gt;_cp_list_. </p>
<p>The array <i>se_</i>&lt;se&gt;_cp_list_ holds information about all checkpoints configured for se. </p>
<p>Each array item contains information about one checkpoint cp of the supervised entity se: </p>
<p>o</p>
<p> </p>
<p>the supervised entity's ID (for this cp of se), </p>
<p>o</p>
<p> </p>
<p>the checkpoint's ID (for this cp of se), </p>
<p>o</p>
<p> </p>
<p>the supervised entity name (for this cp of se), and </p>
<p>o</p>
<p> </p>
<p>the checkpoint name (for this cp of se). </p>
<p>Verification shall include that </p>
<p>o</p>
<p> </p>
<p>each checkpoint is configured as stated in the System Specification, and </p>
<p>o</p>
<p> </p>
<p>no checkpoint for the actual supervised entity is missing. </p>
<h1 style="page-break-before:always; "></h1>
<p>Safety Manual CBD1700369 D04</p>
<p> </p>
<p></p>
<p>2018 Vector Informatik GmbH </p>
<p>1.0 </p>
<p>117 / 126 </p>
<p><i>SMI-515 </i></p>
<p>The user of MICROSAR Safe shall verify the supervised entities in <i>wdgm_verifier_info.c</i>. </p>
<p>Supervised entities named se are defined by a C-struct array with the name <i>entities</i>. </p>
<p>The array <i>entities </i>holds information about a onfigured supervised entity. </p>
<p>The fields in an array item for a supervised entity se shall have the following values (in this </p>
<p>order): </p>
<p><b>Value </b></p>
<p><b> </b></p>
<p><b>Source Line Comment </b></p>
<p><b> </b></p>
<p>The entity ID (of se). </p>
<p> </p>
<p>enitity id </p>
<p> </p>
<p>The entity name (of se). </p>
<p> </p>
<p>entity name</p>
<p> </p>
<p>The number of checkpoints configured for se. </p>
<p> </p>
<p>number of checkpoints</p>
<p> </p>
<p>A reference <i>se_</i>&lt;se&gt;_cp_list_, which refers to the list of CPs for se </p>
<p> </p>
<p>this entity's checkpoints</p>
<p> </p>
<p>A reference to the callback function for se as configured in </p>
<p><i>WdgMLocalStateChangeCbk </i>(or NULL_PTR if no callback function </p>
<p>is configured). </p>
<p> </p>
<p><i>WdgMLocalStateChangeCbk</i></p>
<p> </p>
<p><i>false</i></p>
<p> </p>
<p>autosar_3_1_x_compatibility</p>
<p> </p>
<p>The application task for se as configured in field <i>WdgMAppTaskRef</i></p>
<p> </p>
<p><i>WdgMAppTaskRef</i></p>
<p> </p>
<p>Verification shall include that </p>
<p>o</p>
<p> </p>
<p>each supervised entity is configured as stated in the System Specification, and </p>
<p>o</p>
<p> </p>
<p>no supervised entity is missing. </p>
<p><i>SMI-516 </i></p>
<p>The user of MICROSAR Safe shall verify the deadline supervisions in </p>
<p><i>wdgm_verifier_info.c</i>. </p>
<p>Deadline supervisions are defined by a C-struct array with the name </p>
<p><i>deadline_supervisions</i>. </p>
<p>The array <i>deadline_supervisions </i>holds information about all transitions with deadline </p>
<p>supervision. </p>
<p>Each deadline supervision dl contains the following values: </p>
<p>o</p>
<p> </p>
<p>the source entity name (SE) of dl, </p>
<p>o</p>
<p> </p>
<p>the source checkpoint name of dl, </p>
<p>o</p>
<p> </p>
<p>the destination entity name (SE) of dl, </p>
<p>o</p>
<p> </p>
<p>the destination checkpoint name of dl, </p>
<p>o</p>
<p> </p>
<p>the minimum deadline for dl (in seconds), and </p>
<p>o</p>
<p> </p>
<p>the maximum deadline of dl (in seconds). </p>
<p>Verification shall include that </p>
<p>o</p>
<p> </p>
<p>each deadline supervision is configured as stated in the System Specification, and </p>
<h1 style="page-break-before:always; "></h1>
<p>Safety Manual CBD1700369 D04</p>
<p> </p>
<p></p>
<p>2018 Vector Informatik GmbH </p>
<p>1.0 </p>
<p>118 / 126 </p>
<p>o</p>
<p> </p>
<p>no deadline supervision is missing. </p>
<p><i>SMI-517 </i></p>
<p>The user of MICROSAR Safe shall verify the alive supervisions in <i>wdgm_verifier_info.c</i>. </p>
<p>Alive supervisions are defined by a C-struct array with the name <i>alive_supervisions</i>. </p>
<p>The array <i>alive_supervisions </i>holds information about all transitions with alive supervision. </p>
<p>Each alive supervision al contains the following values: </p>
<p>o</p>
<p> </p>
<p>the supervised entity name (SE) of al, </p>
<p>o</p>
<p> </p>
<p>the checkpoint name of that se of al, </p>
<p>o</p>
<p> </p>
<p>the number of expected alive indications per reference cycle of al, </p>
<p>o</p>
<p> </p>
<p>the minimum margin for alive indications of al, </p>
<p>o</p>
<p> </p>
<p>the maximum margin for alive indications of al, and </p>
<p>o</p>
<p> </p>
<p>the number of supervision reference cycle of al. </p>
<p>Verification shall include that </p>
<p>o</p>
<p> </p>
<p>each alive supervision is configured as stated in the System Specification, and </p>
<p>o</p>
<p> </p>
<p>no alive supervision is missing. </p>
<p><i>SMI-518 </i></p>
<p>The user of MICROSAR Safe shall verify the configured cores in <i>wdgm_verifier_info.c</i>. </p>
<p>The configured cores are defined in the <i>main() </i>function. </p>
<p>For each configured core with ID, the following line shall be present: </p>
<p> </p>
<p> </p>
<p>result += verify (&amp;WdgMConfig_Modem_core&lt;ID&gt;, &amp;verifier_info); </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p>where ID is the core ID and m is the ID of the WdgM mode. </p>
<p>Verification shall include that for each core there is a corresponding line in the file. </p>
<p><b>32.3.2 Additional verification of generator execution</b></p>
<p><b> </b></p>
<p><i>SMI-506 </i></p>
<p>The user of MICROSAR Safe shall verify that for the following arrays in <i>WdgM_PBcfg.c</i>, </p>
<p>the array length matches the number of items in the array: </p>
<h1 style="page-break-before:always; "></h1>
<p>Safety Manual CBD1700369 D04</p>
<p> </p>
<p></p>
<p>2018 Vector Informatik GmbH </p>
<p>1.0 </p>
<p>119 / 126 </p>
<p>o</p>
<p> </p>
<p><i>WdgMTransition </i></p>
<p>o</p>
<p> </p>
<p><i>WdgMGlobalTransition </i></p>
<p>o</p>
<p> </p>
<p>all arrays named <i>StartsGlobalTransition</i>&lt;se&gt;_&lt;cp&gt;_&lt;i&gt;_ (for a supervised entity se, </p>
<p>a checkpoint cp and an integer i) </p>
<p>o</p>
<p> </p>
<p><i>WdgMCheckPoint </i></p>
<p>o</p>
<p> </p>
<p><i>WdgMSupervisedEntity </i></p>
<p>o</p>
<p> </p>
<p>all arrays named <i>WdgMTriggerMode_core&lt;ID&gt; </i>(for each core with ID) </p>
<p>o</p>
<p> </p>
<p><i>WdgMWatchdogDevice&lt;ID&gt; </i>(for each core with ID) </p>
<p>o</p>
<p> </p>
<p><i>WdgMAllowedCallers </i></p>
<p>Some of these arrays have preprocessor defines for their size, e.g. <i>WdgMCheckPoint </i></p>
<p><i>[WDGM_NR_OF_CHECKPOINTS]</i>. These defines can be found in <i>WdgM_PBcfg.h</i>. </p>
<p><i>SMI-507 </i></p>
<p>The user of MICROSAR Safe shall verify that each item in the array </p>
<p><i>WdgMSupervisedEntity </i>follows this rules: </p>
<p>1. <i>WdgMCheckpointRef </i>has a value of the form <i>&amp;WdgMCheckPoint[i] with i &lt; </i></p>
<p><i>_WDGM_NR_OF_CHECKPOINTS</i>, and </p>
<p>2. _WdgMCheckpointLocInitialId has a value of 0. </p>
<p>The array can be found in <i>WdgM_PBcfg.c</i>. </p>
<p><i>SMI-27923 </i></p>
<p>The user of MICROSAR Safe shall verify that each WdgM_StatusReportToRte member of </p>
<p>struct WdgM_ConfigType and each WdgM_StatusReportToRte member of struct </p>
<p>WdgM_SupervisedEntityType has a valid entry if </p>
<p>WDGM_STATUS_REPORTING_MECHANISM is set to </p>
<p>WDGM_USE_MODE_SWITCH_PORTS. </p>
<p>The functions must be implemented by the Rte and must have the following signature: </p>
<p>Std_ReturnType (*WdgM_StatusReportToRte) (WdgMMode). </p>
<p>Both structs can be found in WdgM_PBcfg.c. </p>
<p><i>SMI-508 </i></p>
<p>The user of MICROSAR Safe shall verify that for each core with ID </p>
<p><i>WDGM_NR_OF_WATCHDOGS_CORE&lt;ID&gt; </i>matches the actual number of configured </p>
<p>WD devices. </p>
<p>The define can be found in <i>WdgM_PBcfg.h</i>. </p>
<p><i>SMI-509 </i></p>
<p>The user of MICROSAR Safe shall verify that for each core with ID </p>
<p><i>WDGM_NR_OF_TRIGGER_MODES_CORE&lt;ID&gt; </i>matches the actual number of </p>
<p>configured Watchdog Manager Trigger Modes. </p>
<p>The define can be found in <i>WdgM_PBcfg.h</i>. </p>
<p><i>SMI-510 </i></p>
<h1 style="page-break-before:always; "></h1>
<p>Safety Manual CBD1700369 D04</p>
<p> </p>
<p></p>
<p>2018 Vector Informatik GmbH </p>
<p>1.0 </p>
<p>120 / 126 </p>
<p>The user of MICROSAR Safe shall verify that <i>WDGM_NR_OF_ALLOWED_CALLERS </i></p>
<p>matches the number of modules that call function <i>WdgM_SetMode()</i>. </p>
<p>The define can be found in <i>WdgM_PBcfg.h</i>. </p>
<p><i>SMI-511 </i></p>
<p>The user of MICROSAR Safe shall verify that in <i>WdgMConfig_Mode&lt;m&gt;_core&lt;ID&gt; </i>(for </p>
<p>each core with ID and every mode m), the field <i>WdgMCallersRef </i>points to </p>
<p><i>WdgMAllowedCallers </i>and <i>WdgMAllowedCallers </i>is an array of type <i>WdgM_CallersType </i></p>
<p>with a length of <i>WDGM_NR_OF_ALLOWED_CALLERS</i>. </p>
<p>The variable can be found in <i>WdgM_PBCfg.h</i>. </p>
<p><i>SMI-550 </i></p>
<p>The user of MICROSAR Safe shall verify the types used by WdgM. </p>
<p>If the configuration parameter <i>WDGM_USE_RTE </i>is set to <i>STD_ON</i>, the types from </p>
<p><i>Rte_Type.h </i>are used: </p>
<p><b>Type </b></p>
<p><b> </b></p>
<p><b>Allowed Value </b></p>
<p><b> </b></p>
<p><i>WdgM_SupervisedEntityIdType</i></p>
<p> </p>
<p><i>uint16</i></p>
<p> </p>
<p><i>WdgM_CheckpointIdType</i></p>
<p> </p>
<p><i>uint16</i></p>
<p> </p>
<p><i>WdgM_ModeType</i></p>
<p> </p>
<p><i>uint8</i></p>
<p> </p>
<p><i>WdgM_LocalStatusType</i></p>
<p> </p>
<p><i>uint8</i></p>
<p> </p>
<p><i>WdgM_GlobalStatusType</i></p>
<p> </p>
<p><i>uint8</i></p>
<p> </p>
<p>The WdgM includes <i>WdgM_Rte_Includes.h </i>if and only if <i>WDGM_USE_RTE </i>is set to </p>
<p><i>STD_ON</i>. </p>
<p>If the configuration parameter <i>WDGM_USE_RTE </i>is set to <i>STD_OFF</i>, the types from </p>
<p>WdgM are used: </p>
<p><b>Type </b></p>
<p><b> </b></p>
<p><b>Allowed Value </b></p>
<p><b> </b></p>
<p><i>WdgM_SupervisedEntityIdType</i></p>
<p> </p>
<p><i>uint16</i></p>
<p> </p>
<p><i>WdgM_CheckpointIdType</i></p>
<p> </p>
<p><i>uint16</i></p>
<p> </p>
<p><i>WdgM_ModeType</i></p>
<p> </p>
<p><i>uint8</i></p>
<p> </p>
<p><i>WdgM_LocalStatusType</i></p>
<p> </p>
<p><i>uint8</i></p>
<p> </p>
<p><i>WdgM_GlobalStatusType</i></p>
<p> </p>
<p><i>uint8</i></p>
<p> </p>
<p> </p>
<p><i>SMI-551 </i></p>
<p>The user of MICROSAR Safe shall verify the definitions used by WdgM. </p>
<p>If the configuration parameter <i>WDGM_USE_RTE </i>is set to <i>STD_ON</i>, the definitions from </p>
<p><i>Rte_WdgM_Type.h </i>are used. </p>
<p>If the configuration parameter <i>WDGM_USE_RTE </i>is set to <i>STD_OFF</i>, the definitions from </p>
<p>WdgM are used. </p>
<p><b>Definition </b></p>
<p><b> </b></p>
<p><b>Value </b></p>
<p><b> </b></p>
<p><i>WDGM_LOCAL_STATUS_OK</i></p>
<p> </p>
<p>0 </p>
<p> </p>
<h1 style="page-break-before:always; "></h1>
<p>Safety Manual CBD1700369 D04</p>
<p> </p>
<p></p>
<p>2018 Vector Informatik GmbH </p>
<p>1.0 </p>
<p>121 / 126 </p>
<p><i>WDGM_LOCAL_STATUS_FAILED</i></p>
<p> </p>
<p>1 </p>
<p> </p>
<p><i>WDGM_LOCAL_STATUS_EXPIRED</i></p>
<p> </p>
<p>2 </p>
<p> </p>
<p><i>WDGM_LOCAL_STATUS_DEACTIVATED</i></p>
<p> </p>
<p>4 </p>
<p> </p>
<p><i>WDGM_GLOBAL_STATUS_OK</i></p>
<p> </p>
<p>0 </p>
<p> </p>
<p><i>WDGM_GLOBAL_STATUS_FAILED</i></p>
<p> </p>
<p>1 </p>
<p> </p>
<p><i>WDGM_GLOBAL_STATUS_EXPIRED</i></p>
<p> </p>
<p>2 </p>
<p> </p>
<p><i>WDGM_GLOBAL_STATUS_STOPPED</i></p>
<p> </p>
<p>3 </p>
<p> </p>
<p><i>WDGM_GLOBAL_STATUS_DEACTIVATED</i></p>
<p> </p>
<p>4 </p>
<p> </p>
<p>The WdgM includes <i>Rte_WdgM_Type.h </i>if and only if <i>WDGM_USE_RTE </i>is set to </p>
<p><i>STD_ON</i>. </p>
<p><b>32.4 Safety features required from other components</b></p>
<p><b> </b></p>
<p><i>SMI-372 </i></p>
<p>This component requires setting a trigger condition and setting the triggering mode as </p>
<p>safety features from WdgIf. </p>
<p>This requirement is fulfilled if the WdgIf by Vector is used. </p>
<p><i>SMI-3414 </i></p>
<p>The user of MICROSAR Safe shall call the service to set the mode as expected by the </p>
<p>Wdg stack. </p>
<p>If the watchdog is not properly set up, it may not provide the expected protection. </p>
<p><b>32.5 Dependencies to hardware</b></p>
<p><b> </b></p>
<p>This component does not use a direct hardware interface. </p>
<h1 style="page-break-before:always; "></h1>
<p>Safety Manual CBD1700369 D04</p>
<p> </p>
<p></p>
<p>2018 Vector Informatik GmbH </p>
<p>1.0 </p>
<p>122 / 126 </p>
<p><b>33 Safety Manual XCP</b></p>
<p><b> </b></p>
<p><b>33.1 Safety features</b></p>
<p><b> </b></p>
<p>This component does not provide safety features. </p>
<p><i>SMI-178 </i></p>
<p>This component is only partly developed according to ASIL development process. This part </p>
<p>includes the disabling of the Xcp. </p>
<p>The main part of this component is developed according to a QM development process.  </p>
<p>Thus, this component shall only be enabled in an operating mode that do not impose risk </p>
<p>for the health of persons. </p>
<p><b>33.2 Configuration constraints</b></p>
<p><b> </b></p>
<p><i>SMI-3412 </i></p>
<p>The user of MICROSAR Safe shall configure the following: </p>
<p>o</p>
<p> </p>
<p>Set </p>
<p>/MICROSAR/Xcp/XcpGeneral/XcpControl</p>
<p> to TRUE. </p>
<p>The user of MICROSAR Safe shall verify that the corresponding configuration switch is set </p>
<p>in the Xcp protocol layer and all used transport layers: </p>
<p><b>File </b></p>
<p><b> </b></p>
<p><b>Define </b></p>
<p><b> </b></p>
<p><b>STD_ON/STD_OFF </b></p>
<p><b> </b></p>
<p>Xcp_Cfg.h </p>
<p> </p>
<p>XCP_CONTROL </p>
<p> </p>
<p>STD_ON </p>
<p> </p>
<p>CanXcp_Cfg.h </p>
<p> </p>
<p>CANXCP_ENABLE_CONTROL </p>
<p> </p>
<p>STD_ON </p>
<p> </p>
<p>FrXcp_Cfg.h </p>
<p> </p>
<p>FRXCP_ENABLE_CONTROL </p>
<p> </p>
<p>STD_ON </p>
<p> </p>
<p>TcpIpXcp_Cfg.h </p>
<p> </p>
<p>TCPIPXCP_ENABLE_CONTROL </p>
<p> </p>
<p>STD_ON </p>
<p> </p>
<p> </p>
<p><i>SMI-179 </i></p>
<p>The user of MICROSAR Safe shall use the macros <i>XCP_ACTIVATE() </i>and </p>
<p><i>XCP_DEACTIVATE() </i>to activate and deactivate XCP protocol layer and transport layer </p>
<p>components.  </p>
<p>Activation and deactivation shall only be performed by a software component that is </p>
<p>developed according to the highest ASIL that is allocated to the ECU. </p>
<p>XCP shall only be activated in an operating mode that does not impose risk for the health </p>
<p>of persons.  </p>
<p>Note: XCP is active by default. </p>
<p><i>SMI-183 </i></p>
<p>The user of MICROSAR Safe shall make the following memory sections <b>read-only </b>for the </p>
<p>XCP protocol layer and transport layer components as well as all other software with an </p>
<p>ASIL lower than the highest ASIL allocated to the ECU: </p>
<p>o</p>
<p> </p>
<p><i>XCP_START_SEC_VAR_INIT_UNSPECIFIED_SAFE </i></p>
<h1 style="page-break-before:always; "></h1>
<p>Safety Manual CBD1700369 D04</p>
<p> </p>
<p></p>
<p>2018 Vector Informatik GmbH </p>
<p>1.0 </p>
<p>123 / 126 </p>
<p>o</p>
<p> </p>
<p><i>CANXCP_START_SEC_VAR_INIT_UNSPECIFIED_SAFE </i></p>
<p>o</p>
<p> </p>
<p><i>FRXCP_START_SEC_VAR_INIT_UNSPECIFIED_SAFE </i></p>
<p>o</p>
<p> </p>
<p><i>TCPIPXCP_START_SEC_VAR_INIT_UNSPECIFIED_SAFE </i></p>
<p><b>33.3 Additional verification measures</b></p>
<p><b> </b></p>
<p><i>SMI-184 </i></p>
<p>The user of MICROSAR Safe shall verify during integration testing that XCP is disabled </p>
<p>during normal operation. </p>
<p><b>33.4 Safety features required from other components</b></p>
<p><b> </b></p>
<p><i>SMI-177 </i></p>
<p>This component requires an operating system with enabled memory partitioning. </p>
<p><b>33.5 Dependencies to hardware</b></p>
<p><b> </b></p>
<p>This component does not use a direct hardware interface. </p>
<h1 style="page-break-before:always; "></h1>
<p>Safety Manual CBD1700369 D04</p>
<p> </p>
<p></p>
<p>2018 Vector Informatik GmbH </p>
<p>1.0 </p>
<p>124 / 126 </p>
<p><b>34 Glossary and Abbreviations</b></p>
<p><b> </b></p>
<p><b>34.1 Glossary</b></p>
<p><b> </b></p>
<p><b>Term</b></p>
<p><b> </b></p>
<p><b>Definition</b></p>
<p><b> </b></p>
<p>User of </p>
<p>MICROSAR </p>
<p>Safe</p>
<p> </p>
<p>Integrator and user of components from MICROSAR Safe provided by Vector.</p>
<p> </p>
<p>MICROSAR </p>
<p>Safe</p>
<p> </p>
<p>MICROSAR Safe comprises MICROSAR SafeBSW and MICROSAR SafeRTE </p>
<p>as Safety Element out of Context. MICROSAR SafeBSW is a set of components, </p>
<p>that are developed according to ISO 26262 [1], and are provided by Vector in the </p>
<p>context of this delivery. The list of MICROSAR Safe components in this delivery </p>
<p>can be taken from the documentation of the delivery.</p>
<p> </p>
<p>Critical section</p>
<p> </p>
<p>A section of code that needs to be protected from concurrent access. A critical </p>
<p>section may be protected by using the AUTOSAR exclusive area concept.</p>
<p> </p>
<p>Configuration </p>
<p>data</p>
<p> </p>
<p>Data that is used to adapt the MICROSAR Safe component to the specific use-</p>
<p>case of the user of MICROSAR Safe. Configuration data typically comprises </p>
<p>among others: feature selection, routing tables, channel tables, task priorities, </p>
<p>memory block descriptions.</p>
<p> </p>
<p>Generated </p>
<p>code</p>
<p> </p>
<p>Source code that is generated as a result of the configuration in DaVinci </p>
<p>Configurator Pro</p>
<p> </p>
<p>Partition</p>
<p> </p>
<p>A set of memory regions that is accessible by tasks and ISRs. Synonym to </p>
<p>OSApplication. </p>
<p> </p>
<p> </p>
<p><b>34.2 Abbreviations</b></p>
<p><b> </b></p>
<p><b>Abbreviation</b></p>
<p><b> </b></p>
<p><b>Description</b></p>
<p><b> </b></p>
<p>ASIL</p>
<p> </p>
<p>Automotive Safety Integrity Level</p>
<p> </p>
<p>BSWMD</p>
<p> </p>
<p>Basic Software Module Description</p>
<p> </p>
<p>CPU</p>
<p> </p>
<p>Central Processing Unit</p>
<p> </p>
<p>CREQ</p>
<p> </p>
<p>Component Requirement</p>
<p> </p>
<p>EEPROM</p>
<p> </p>
<p>Eletronically Ereasable and Programmable Read-only Memory</p>
<p> </p>
<p>ECC</p>
<p> </p>
<p>Error Correcting Code</p>
<p> </p>
<p>ECU</p>
<p> </p>
<p>Electronic Control Unit</p>
<p> </p>
<p>EXT</p>
<p> </p>
<p>Driver for an external hardware unit</p>
<p> </p>
<p>ISO</p>
<p> </p>
<p>International Standardization Organization</p>
<p> </p>
<p>MCAL</p>
<p> </p>
<p>Microcontroller Abstraction</p>
<p> </p>
<p>MIP</p>
<p> </p>
<p>Module Implementation Prefix</p>
<p> </p>
<p>MSSV</p>
<p> </p>
<p>MICROSAR Safe Silence Verifier</p>
<p> </p>
<p>OS</p>
<p> </p>
<p>Operating System</p>
<p> </p>
<p>PDU</p>
<p> </p>
<p>Protocol Data Unit</p>
<p> </p>
<p>QM</p>
<p> </p>
<p>Quality Management</p>
<p> </p>
<h1 style="page-break-before:always; "></h1>
<p>Safety Manual CBD1700369 D04</p>
<p> </p>
<p></p>
<p>2018 Vector Informatik GmbH </p>
<p>1.0 </p>
<p>125 / 126 </p>
<p>RAM</p>
<p> </p>
<p>Random Access Memory</p>
<p> </p>
<p>SMI</p>
<p> </p>
<p>Safety Manual Item</p>
<p> </p>
<p>TCL</p>
<p> </p>
<p>Tool Confidence Level</p>
<p> </p>
<p> </p>
<h1 style="page-break-before:always; "></h1>
<p>Safety Manual CBD1700369 D04</p>
<p> </p>
<p></p>
<p>2018 Vector Informatik GmbH </p>
<p>1.0 </p>
<p>126 / 126 </p>
<p><b>35 Contact</b></p>
<p><b> </b></p>
<p>Visit our website for more information on </p>
<p>o</p>
<p> </p>
<p>News </p>
<p>o</p>
<p> </p>
<p>Products </p>
<p>o</p>
<p> </p>
<p>Demo software </p>
<p>o</p>
<p> </p>
<p>Support </p>
<p>o</p>
<p> </p>
<p>Training data </p>
<p>o</p>
<p> </p>
<p>Addresses </p>
<p>www.vector.com  </p>
</body>
</html>
{% endraw %}